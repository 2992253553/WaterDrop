<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.67" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://2992253553.github.io/WaterDrop/WaterDrop/pages/d8357cc5/"><meta property="og:site_name" content="é’æ‚Ÿ"><meta property="og:title" content="Kafka é¢è¯•"><meta property="og:description" content="Kafka é¢è¯• Kafka ç®€ä»‹ ã€ç®€å•ã€‘Kafka æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ Kafka æ˜¯ä¸€ä¸ªå¼€æºåˆ†å¸ƒå¼äº‹ä»¶æµå¹³å°ã€‚æœ€åˆç”± LinkedIn å¼€å‘ï¼Œç°åœ¨æ˜¯ Apache é¡¶çº§é¡¹ç›®ã€‚"><meta property="og:type" content="article"><meta property="og:image" content="https://raw.githubusercontent.com/dunwu/images/master/cs/java/javaweb/distributed/mq/kafka/kafka-event-system.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-10-06T09:23:52.000Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="Kafka é¢è¯•"><meta property="article:author" content="é’æ‚Ÿ"><meta property="article:tag" content="åˆ†å¸ƒå¼"><meta property="article:tag" content="åˆ†å¸ƒå¼é€šä¿¡"><meta property="article:tag" content="MQ"><meta property="article:tag" content="Kafka"><meta property="article:tag" content="é¢è¯•"><meta property="article:published_time" content="2025-02-03T11:15:43.000Z"><meta property="article:modified_time" content="2025-10-06T09:23:52.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Kafka é¢è¯•","image":["https://raw.githubusercontent.com/dunwu/images/master/cs/java/javaweb/distributed/mq/kafka/kafka-event-system.png"],"datePublished":"2025-02-03T11:15:43.000Z","dateModified":"2025-10-06T09:23:52.000Z","author":[{"@type":"Person","name":"é’æ‚Ÿ","url":"https://2992253553.github.io/WaterDrop"}]}</script><title>Kafka é¢è¯• | é’æ‚Ÿ</title><meta name="description" content="Kafka é¢è¯• Kafka ç®€ä»‹ ã€ç®€å•ã€‘Kafka æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ Kafka æ˜¯ä¸€ä¸ªå¼€æºåˆ†å¸ƒå¼äº‹ä»¶æµå¹³å°ã€‚æœ€åˆç”± LinkedIn å¼€å‘ï¼Œç°åœ¨æ˜¯ Apache é¡¶çº§é¡¹ç›®ã€‚">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/WaterDrop/assets/style-837dd6e3.css" as="style"><link rel="stylesheet" href="/WaterDrop/assets/style-837dd6e3.css">
    <link rel="modulepreload" href="/WaterDrop/assets/app-d719e65e.js"><link rel="modulepreload" href="/WaterDrop/assets/index.html-17e991ca.js"><link rel="modulepreload" href="/WaterDrop/assets/plugin-vue_export-helper-c27b6911.js"><link rel="modulepreload" href="/WaterDrop/assets/index.html-c4f118db.js"><link rel="prefetch" href="/WaterDrop/assets/index.html-063d909f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4ddee3cf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3a48876e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-33834598.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d427424e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-02b826c2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-57a55362.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f8c4c796.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-19990127.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-33fff6cc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9ec94c2a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f561cce5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b838e081.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d67c5902.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e89cda4c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e9fdaeb6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d2cef5e8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c1278b24.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b98744b8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-68a771f0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d7d0d68c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4df442bf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c9673908.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-290ff383.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f19e7c73.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1705bc4a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-61f8a994.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0b6c1ed7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8a357afb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2cba9f9b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4d0aae67.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b6ea823c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c4884799.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bd6b1e22.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-30e1eb67.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f6296ae1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4c862905.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6ac8f875.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a4c5c521.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5782d182.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f7eb8a56.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f2e82fc2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9b2237f1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5c7cf72a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-22fa5ce9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-17c3f04e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c7503c7a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-93647cc0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-48a4e0c9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4be573cb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-378a3852.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c921119c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bec931a9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-70af3ec1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7643da12.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-552fba65.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-36a1c6a5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cb963fab.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3918f717.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3822f08a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6bc86f47.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-31bbf762.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-48560f99.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ccf8703c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-30c692fe.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3c7e006e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ae9bde7b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-12b6b951.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2fb295b0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f94b0228.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ef4c937b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d12c14fc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-896d43f5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c320e528.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-faf8223d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6f97f738.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6d3942b5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e0d7ce96.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8f632745.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-49087084.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d478d002.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-54691601.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-574783e9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-01e2aab0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1de59fa3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-06e8d4e6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f763eab1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4b951ca4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3587ca7c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-60967038.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3bd31313.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5ef0fe39.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-67ea52fe.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-36d5ff7b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b92e45e5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7441900f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4bfcb92d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1705e51d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2332b6b5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3a2ac604.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b1aaeefa.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-addb4d2d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-67499fba.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-28840c38.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-99307aa8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9a77d232.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e1bb6d60.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1e56b1ca.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d7d27946.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3ec7d576.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-afe0c76f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e7ec7cd0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3abcd43e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2b3a882c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d4664cb0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e7d6d9cd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-acf7837a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bff1819e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1620b8fa.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-eb1ed0e4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-63095d2c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-78cd4fd5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3e3ba5d6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4d94c465.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-84b1d164.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-36f9844c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1f21c37e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-230050bf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4277f878.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4f78c0cc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3ec18397.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a1783512.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-21a7454d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f61efaca.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8efdbb0d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e84c3b92.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a5117903.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bf0242c4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f4aa4997.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f2335e52.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a99a7f37.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-33789fda.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dbf44ca4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1b718345.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-83611187.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e68010b2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-129438c2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ffd20c2d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-33cef6cf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-49f4d5de.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8f3cd1a5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b16365ee.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7159847a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-338104c9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6658b40c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-04ef947e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1061a83a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-21d36b57.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8576f42e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ab5fbc06.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6befd588.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-aaf47100.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-46066657.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-72c7d3c6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-002a61d2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6d3971fe.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-255a5c92.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-956d1524.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d2e5c75d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-81c1f53e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-23c4ec7c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-263b2ad9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f8d5aa96.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0a127be8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bd5e7185.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3b94d120.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c4ab8092.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d65b2f1c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-025dbb78.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7c7e34ad.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f57244ad.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-35322b5c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-841bd4a8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-416b96a5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f41b930c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d5674745.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-353463ce.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-04628e1e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-11930594.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a50ae3df.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ce3df140.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-28b493d5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-48880138.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b636d575.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-759fb141.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-90fbd4e2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c0fceba7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-be99c062.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f784be11.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8329f86d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-de0c24ed.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-155a4a0e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1ee2c5c7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-53f69089.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-24730bb4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fc3b9783.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ccd59086.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-65281fdb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f1f945f7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dff0c094.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f0a86210.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3f911259.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ff3e93bc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f63d52f5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-60aee054.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7482c714.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5a649cf2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a970c016.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-47794103.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6f1cf65c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4a0bd532.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a2c48b24.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d16a432e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-759d7ddd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-760162e4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fe0ef760.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e8c476bd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-69ec8966.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-862a979e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1f10f2e4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1c05e163.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-19e82ad9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c7c880e3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a84d8173.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-044ae73f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fed9aee2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a4551578.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b30f258a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3c37582b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a3a8f1d7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6805aeea.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dc109008.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a8a6f395.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-57f1931f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-41c5e559.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7824fb6d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-edc2cd39.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-950512a1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b9be7dc3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3c73ab6f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fd4e50d5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8f88c06a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1cc10d36.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2f7343ef.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0623503f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-48e9286c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ab92f239.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-04c5f56e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-557cf339.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7aceedba.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b14b6fb4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-76809df2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c583c8d2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d5f0e166.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0355b899.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e4ea1b8e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-281790d7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bad8e942.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4198fec9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c3132e85.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dcedcca7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-30eb3fe5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6b618056.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-561bc6fa.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-91dff9df.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-754d29c4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9bd640e4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3b80ca04.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b263e0a3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-da90f564.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-74f50de3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c1d9bb75.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-920a58cb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cee2e3e7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7c11b11c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-293793a7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-042af605.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-90eafa81.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-97f49462.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-109849ee.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6fabb057.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-58e13ca7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f9f8f9f8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-84e5a21e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1f7c9e23.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8da9954c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-55fe28be.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5373465e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2f2073da.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e66c6eb4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6378c072.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-58765ad9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9607a21e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1d292d27.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-52133bc1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7a41548f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a957a948.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c7ae4a90.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5d63e183.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-03dd0e55.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bfccceaa.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-66bfe1ad.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-16125d04.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9bde1a5b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7de7f630.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2a2e152b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-10b377ba.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c50cb54e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cac10ec1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f2bbce6e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3921906b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1e984f78.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-da63ccdc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d03b73f1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-eb63ce7a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cc95f254.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cda03dbf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5e618774.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f796957f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4871e59e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-18cebb4c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f4587baa.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4b304322.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ddc81bbf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9d53a4e6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-babb4fa6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d5befc9f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8f105ff5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0e09bf29.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8593a27d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-803f7a4a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-254a18f3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f5862012.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-85832b63.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-732a9385.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-060d017c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2380f212.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1121fa6c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e4b07340.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2c2fa01a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-283f9aa2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9311b4f9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7103c64b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2ff9a78a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e7ca8deb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b3b2ec1f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-43dc9177.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f4e037f5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9e8936f8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9693d0e0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-297b4223.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b600d5bd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-00a44214.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9790ea91.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-658769e5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-21f3409a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9734e3f5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-af7dd4f1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3c5689fe.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6e754f5e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8710e56d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f709679d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6198985b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-caff872b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bc0bc62f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2c607020.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-599e22f8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7369ef7f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-41cceb5e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d3298f72.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2d192899.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1509c8c6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0fa22fe2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-281cdb1f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-76d5de27.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-15195150.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e1a6af09.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-24a32585.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-da0fa275.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9ad0eb19.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e86bcfac.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-afdffe80.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0447d41d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-018a8e98.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c1f9c285.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-eafcc933.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6bda94cf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-67847f85.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5b8ec16b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fd98915f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d16300a6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7c8e8ff9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a5323c22.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b91176f3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-14c9ab11.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-132c77da.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-668890c9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c12cad3f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-72facfa0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0f3e4f71.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-152617f7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-780c9b09.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1ce3878a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2fe6624b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-26cbcdf8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9be6b450.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ac454545.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0cdf8323.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-27747cf9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cc3fc012.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-670fb2f3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-842c5885.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f005bb17.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-459da3ca.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ca831515.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2fb1b2eb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7ba72137.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ef3814bf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6c06759b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-484475a0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-395650b6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-353ecc42.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4a4e013c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-72641ef9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-24a647dd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-94dcdb0e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-75519663.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2567072d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7d18fbd8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3ff60fb0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6f38d6de.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-39ccf6ea.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f8f7b9d4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b25fde3e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-15ec135d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ee276b74.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f6c67ee0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-efe4e2aa.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-78b7581c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5425a376.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-10b7d5ee.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-afd81912.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7f92d17a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-59706279.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-41a14285.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3eafca3b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d3d1422f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0290efdd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fc67ad78.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e2233822.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fa2dd577.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f6bcaeeb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-baec2e57.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9e4cf837.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fd5e6b4d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1aa7597a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ea998e88.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d3f9f9b4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-503b08ed.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-164dc7a2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9bac2b24.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5c1d5ea6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-722fa0e2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a8bfebf5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-de352426.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f5db8147.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3f69f461.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-612b4f27.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6a8ce1f8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0abd9ea6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-da0d5fe2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-482b4b52.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6fc94e30.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fdf6f2d9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c266f69c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5bcd66ec.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7552f111.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-07e1d9bb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dfe519df.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b5033940.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d72b6ca6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1fba7d4a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f0f25e50.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1269cd5f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cda7c70b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d190b130.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a4684991.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-05238522.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-05787a68.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-62ece08d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a39153e1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cb2070ce.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1b5a600c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8f82f40c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d22d9354.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-231672f9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b182a07a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1e8727de.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-702dfabd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e69d1447.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-58bc6da5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-06be2f90.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0b8b231f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c4f3e9d2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-13c38fd6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e4710b8b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e79c6980.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dae5f906.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8416acca.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ea679aad.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-795b6597.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c6545690.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-94a77477.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f892f4bd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e7548dbd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4d37b5a4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d13dc78b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b56b7c7b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8212e9ba.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-91b695b3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2033a6b5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8b4ace9d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-efdc80b4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5dd2b5ee.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6a5b7e45.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b473beea.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f0bc4789.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-302ab35f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-31c299e4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d0fa532f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-26c72921.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6cacf090.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b4c7fd5d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0888e0c4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-08b57737.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b5ccfedf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e62143a4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0e7f844b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c7e6858e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1c6a9a74.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-772fa0de.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-243c14e8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-77c8f4da.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-21b8bc76.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-effed781.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a6cedad2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dede9c41.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7e0429ef.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2e26acc6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-54694f06.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-978c5519.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-94fe0959.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5e84a610.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e5918973.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-37dc0e3f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d2576995.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f519a251.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c3040089.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e7b2bccd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-df039e6e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8486a6f8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6f1a9f7a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bee4871e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-39c046a0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9ef9779a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1aa8ab2e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dbed695e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-889b20f2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d548dd86.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dd54917d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-05dcdcf6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2d6b86f4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7db82973.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a8f894fe.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cb05730b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4f647d54.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f2f5cd1e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1ee3c212.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f413616e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e110287d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0c16afd6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7febfdf4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3f420407.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-305702b4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d63f5ff2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a74021c4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-eabb3e4f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2b6083b4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0ed0b91f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ef168009.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2a198f0b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2f313492.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c158ff92.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3d95f012.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b2f8a089.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9dd76a8e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-df7ef41a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e889f49a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-01387a8d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6ed65478.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-43199def.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ec220ae4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-74d30370.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ef1b4c63.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0aae2666.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8499aaf9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-24b4ca7d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1bf32afa.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9891bd1a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/404.html-0241adb0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-33cffa1c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2d38f8e4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-eaf5ad6c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5146b5ef.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c1db90ac.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-70a454bd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c802a4c0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-44e9ff9c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2e06e00d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-846b1a98.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3f3df74b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-43c0c767.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f839a190.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3a02a4aa.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-50ff6432.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5aeb0b91.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d2cb1885.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0984503c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-80700ca0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e1961dca.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1b45f1c0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3d8887d5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d3f65500.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-94e34165.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d4d68dc6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9ab2c7a5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7866b443.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-68af823a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f1f0516a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1971f1f8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2905facf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1186fd8c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-da05b0c1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f5bb5392.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-52e156ac.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5c07e844.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-039def1e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9a9bd85f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2ae4a24f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3958636e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bf55edf2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-727bfe1e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1524fba3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fc108df7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3058b53f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6ad1c03d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-03193ba0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b4f50bc1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b27d0a4f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-02d1c7f0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8b4fbd15.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0cd6ddd9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bbdb68dd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f366c408.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-97a23d1a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5c71f7c9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6941e32f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e8c3d453.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-38f20100.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0dd69d98.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9a0ca36e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-adadb1cd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8c2d2ae4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-91a65223.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e0e85900.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4b9b98f5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-372ba6cb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-06d4f0e7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-da7b484b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-70301b4e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2c13080a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b49801b0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-34c7d7bc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6cb5be1c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-381649e1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e36f2e3b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-193ec5f9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8db7c9c5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-21df96a1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5681c2d9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-75e34f3d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c34fb04c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-65978b6d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-aa4e59ea.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-88dff8f4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-85d152ff.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-04142ff7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8339625b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-08ed207f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f9d1036a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d384420b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8ee86460.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b38ce305.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ef5bcb3c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c585d348.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-94f36687.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4ef709c9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-701fe58f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-efdf3bd2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-70abd7f2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-164eebec.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-72ddb2cd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ce014712.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b716d974.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-54edc3df.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d6699eb3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3c1567ff.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cf249eea.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-73a5252c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2e10864b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-126af104.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-005f2b0e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ce5178cb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-159bd263.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bcc022f6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fa446cf7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a82009bc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9ed44c84.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4dfa500d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b9cb3ee6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8c6fc217.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8ffed1f8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-885c8c75.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-93314e1d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-73d3d723.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-353c9267.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e2774d92.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9f93e4bc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-165f27c4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-52d91285.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7cee685b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bed616c9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-60da06f6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-93aa44dd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b00aed55.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-31ca8059.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d22f2084.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-00e5d508.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-73b24b28.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1fc22762.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-45af0493.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f101844e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0a743a00.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f24f1b71.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bc57f083.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-78e29150.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-40e59598.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2de884e8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7adf11b2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-26bef4a3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8c8b31f0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-221394a2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-da88b3f8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-514d72f4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-167cc1dc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5abfc8af.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-87d25116.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d2ba73a9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-955f8309.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-683bd727.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3cb582e9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-70932979.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4398ed13.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-59ad5d63.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-78d02f7b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-49b97158.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a5ac4775.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-17d6a431.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4b42b540.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f5901b79.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-59ac583d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d4234354.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b4c927f0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-47ee8574.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d3afe2ca.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6ecfb048.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2b25f050.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b29b1481.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-19f22564.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0e04897f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3fc32f42.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a428b29d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-13592c47.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-903af9b9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-555621c4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-93708099.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-37140458.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f8dcbd49.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-86282ea5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9854b4bd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d16ee654.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-06684c3e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-aa7f7e9e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d866035a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a94fd023.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dddede0f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-77d89de3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ed3742ad.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bd9fc957.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-114233cc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5c77807b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1b679529.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8720ea47.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9697fc99.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c8d18f47.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a15d55e1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5704fdfb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b1afec29.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ae946906.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1b4a2e8f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-513de906.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-16efdce4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c01ee3f7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ec2c4359.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b2a58374.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c90f327b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2f925ce5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8e39846a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d279c163.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ecdba68e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-403bbc72.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c994cdc4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-17e0cbed.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bf91d532.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8025b80f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7f11bdd5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b115ad56.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c4d93760.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fddba750.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-12397fca.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f5e9465d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ab8d80a9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5ae3ad2d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-07f63a6e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-057f9adb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-11227ec2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c574af1f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0045d54c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8da72cc3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ef1f5de5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4460bced.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4e3663de.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-30199d07.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-245c5ea5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e9298266.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e5836b16.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e40c6a48.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1e028462.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6b7c6308.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a18dae2d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-777ffa76.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-225f5f47.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-358a288b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-98fb67b6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-468a933e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7848c718.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4fa1ac3b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3ba809ea.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7169b290.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-eb315150.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cf6f6544.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5957483b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a6b8fed0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3a2a6efe.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8eb245ff.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ee174434.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-24475820.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-54b6e417.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-527193d3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d86d54a3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-09dcf09e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-baa3e6e9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c9fbf489.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2332b48a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-287b00fd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-346f9b2d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b207835e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-75631aee.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-721776f5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dd089462.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-88daaa5c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7f6c5b16.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-60e48ebb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d6da9490.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-30b5bd3a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-af63f7f0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9cc62b62.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-54b034c7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9dd5c407.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5b66425f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dc16e39a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9865f11e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ab4d0a25.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bedd767e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-37c6a8cd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3f670ca3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-94772144.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cdab9502.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3b0ef681.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4129b4bb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-799689d2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dcd7ab18.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0e4ffa8a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3d0c3662.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c1fe71cf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5c1d3a53.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-eb521721.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9e85236e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5376b1c7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c09f8e66.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-43904d59.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2ac0fa45.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2362ba24.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-85277375.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-07ac8381.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c4511d1f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-99fa1d07.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5159b8c9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ebae0e4a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3b9f0fa0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-54cd5890.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c2036d67.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ab5aa4b4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-41862123.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-57f2dcd3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-62505bd7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4230c2e0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d741cfc2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7a2068cb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-909d1bc9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3ab7fba7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-63fbe93a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c6de03e1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-42212b56.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fdf7eff1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1e16b38d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4fee4210.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3a801697.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5c5ec0ea.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4cd4a918.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-286d5e20.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a08beb23.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3ee2e9f2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8fcf559d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-62ab7f07.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-86bd91da.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cb59c2f3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-82f6618b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6f51244c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-37866c12.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7344bcc0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4e3c0e89.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-23bc55e1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-050bb219.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-aeeb2b70.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-25c3c5a4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-16501183.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2b7839b9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3e9e5f5c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-73c9db0c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-500ce32b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1f8f1e16.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-521c180f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f513d91a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-64e09cc6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-beb7d235.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7e7d66ef.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6b7ba4cc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-33302038.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9ec79e5f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e1619c99.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ecc4291e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e25642a1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-df5fe3ca.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-43459e70.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4c4de2b6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-623c87a4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d4e4ae6f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7a6218c0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-749b047e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d4b0f571.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b266df72.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-656a7589.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ab5373b9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8908b8d7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b63a1377.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fa400ea2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bb0f6a3b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-971f4068.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6ecd6d22.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-295dba8d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-886b030a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c6f9b333.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c51c683c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2cf27477.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8ffacd25.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7bea7081.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-23a3782b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-25b04cc1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ec57d4d0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-58447785.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-365ca41a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f0991892.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d65258eb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-33fdb688.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-40125f6e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1b0bde6d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c01c401d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-405e0efd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-06e192f1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-525fa24b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-615d7435.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bb22b992.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-351d2f09.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e29fb520.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2a0790ed.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b76e6936.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-630de26d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-37cbaaba.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b053c387.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-deaf8bcb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-393aefae.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-244bf3de.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b0741574.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e90ad7b0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-148e47bf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9e1a9f33.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8b27ba7d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1ec49cbe.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-73c754d9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a2d93959.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8130d213.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bd602d73.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-01a2023b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c0cdcea0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3a67e0b9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-389de7af.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fa7226c6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b7dd4bf5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3e664302.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1f671f62.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-017148c7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-45f6e5e5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-92f9396d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8ac2e600.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-338ffe5b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cff278d7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bf12d076.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-33c94ff3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2d61e248.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2f445a41.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fe5553e9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-128f60fd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e2d321c4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-32cb2af7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f0f9c3f8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-734cb56a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-109470fa.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-be966937.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f8faab10.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d47bb4c4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ded3761a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-263318a0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-94d4b142.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dde1e05b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-51a49756.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6806a0ea.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-69667b52.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f505fa4c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a8813aca.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dc96ddd2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d1cd5a9a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-788bcac1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-be7f38e5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c65fb783.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-03e032d7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7a882853.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ee739754.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-25d785cc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-60e00e58.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9570ed98.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f6289efc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ec1eaea6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-58e28ef4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9e285ab9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-747a63c5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8f6d5abc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e1b58749.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c1ca769a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6c5d364a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-50e6e359.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7b9a650e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dcd0ed55.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-90472051.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2658a162.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-aa358ab7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ce7ed0a9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-714552e1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-64e7af00.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9181923b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7ee02364.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-50057eaf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8d192e03.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-775945f1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8d15c937.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8929f68f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cfc29c7e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6de6fb08.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-11bcecef.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9428db4b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-09833607.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7b491cda.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9f0e7942.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-20b60b78.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-868e645f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e61c786b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a3f58b1f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e35d0982.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-887bc9c6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-707631f5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2ad2f7d2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b740b3c5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6d6bfd0d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a5999378.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5566ef4e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-89fbfbb4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f918dd22.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0785c671.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fdae9783.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f307620a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b5d5b389.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-523fef7d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ed9eb111.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-497d2614.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7e45f7e3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f95bea19.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-88a45ec7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-769f4a4c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-54f4dc1f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c5b8882a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-66ac297b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8b818657.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e84c911d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d1a75526.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-25182104.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fab66aa6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a5e10865.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c8fa18e0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4a24c377.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-01a6b4f6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3e93b9aa.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-08576e4e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1d435218.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-71a1bbf9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-545a6435.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6c4504f5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b558ca8f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c203c4a0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c28b8cc6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a78cb6e8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-de12fba1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-582166f7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7c523b54.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b9425407.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b69bda70.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7823f393.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2e4f8791.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cd45c1c9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7ce1d952.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bbb33d92.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6fec58f6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ec16f5a9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4fb198e7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d0e1fe2a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4cb7c4db.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-75af48e6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-632f4ca6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-11c4024b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0b4a8d30.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a75dd4b7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a37ad2f9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0cd68082.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3f850eeb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-082ba121.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-270d5863.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1d958262.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6594b72f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-753bfe2f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-33b48c29.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7c506153.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ead156e4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-731efa21.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-727e4e00.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0ea624f4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-192aeb66.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b907318d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9a712b55.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9f10d000.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-758da984.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5386eca4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cc7eb8fd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fcff873b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1a59ef85.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-685e81b9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bbe58d6d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-71a1212e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b9780462.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fe0a481b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-62995724.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9dd36aa3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cd5f8cc5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-839a42ae.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-afb05db1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fde4ff8e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-38b75541.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bcb4b112.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-149d0809.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-93146443.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d79831c0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-76f4bf8b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6f167f90.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b0e10f8b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-282c8f59.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dd733b54.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-39564f36.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9c0166e7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3450c410.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-472b8d81.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7d2d23c8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4f8df190.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fa047dbb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a2ffb890.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-397f7c4b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fa0f698a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-108f7532.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6abbea50.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-56b2ac7c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-244d6f1c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-abe6c40b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-23ef8874.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-02153444.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9be969df.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-908baabb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6f720198.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0da375a9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-60f0bd33.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c44465c8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0ed46d88.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e014f669.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-67d06557.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3196561f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-165be0d9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2e0461ba.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d9fdd79b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3d51da66.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f068043a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c75efb0b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-739efb57.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3d3b092f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fa399b25.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-404a790f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-72408691.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6f21cf39.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9d861615.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b941edd1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dcdd40cd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e08a425b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-74df5422.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4a846980.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1a05f929.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9cdd2a2d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-91d5ce61.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-89c26eb4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7b96751c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9825b96b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-162cc8eb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f90f315b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-940694d6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bf3df25e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bdfc5201.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-57b1909c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f027eecb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b6c72ba6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1924fe6b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5ad3acc6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-82dd40da.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-49adc1de.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d3df6c11.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8ffca618.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5d0feaea.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9ee72d9e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4a9bd6ca.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cc095124.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b8b6154f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0a015598.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4dd26ac4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9e7110fb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5a00dd2f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4d849eef.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-488f6531.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b3a19573.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-34a1ae1d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7eaedfe6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f1bbc5a9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-47d420cf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-40945cf9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9d15cc41.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ba7b5b6b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6bfddd24.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e2adb29b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-75dec13c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-adea5da5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1f9dc15a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e31a7c3f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-292d4a53.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-86dc0f4f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7ee5d29c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8a05a637.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-37e1c2cc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ea1c2585.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e2658b99.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0d5ef26b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-50b4ddc3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-52e4e9f3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-756d3a3c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-12cb42d5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a70b0318.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ea43f004.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7fcb071c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2621ef99.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6f79bd12.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-39be24d9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ea4152ed.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dd642828.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0d355720.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d2406a5b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5585e4fa.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f74f2e8f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e45808c4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8ff0af13.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-927d62f2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-79e191db.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7989bac9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-151f25fa.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d34bbedd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-848ad6b0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-54c60a08.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cede9e3b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cf41855c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8a1c2801.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-77a9ca47.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a449d3cc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-772ecae5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b538f1b7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bd7b7eeb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-de26639b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a99670b6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2553f6f5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-02bd65ea.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f1a2c90a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9e325d1d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fa721d04.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-295745d8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b14ff1f3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-41c934d4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2de656fb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c745223f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f63571d1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-02e38333.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b0c79db1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ea1d6930.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f0ddcc53.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0713fddc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-da658469.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a8ae6a84.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-03869f3f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f7c72900.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e07bb042.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-04de1f88.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-003b412e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-38db3f6b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a7a2e550.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-69df0ee5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-aa033b34.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ac2d6a3c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c06e7703.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3d588070.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-58ec12e0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2752aa47.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-88877fa6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ecb2e0b7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6f14bca6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ae8f858d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-177f9b0e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-de107d36.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fdeeec41.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a4a8690d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-48209511.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c9bcdb90.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1592bcb1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-439b61de.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7a8a9c7f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5a14bed7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-293d34d5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-795eb769.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-98109d2d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d93cfa93.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-91439876.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7a665c38.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-68674bc7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0984ddf1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0e3304e7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f7968212.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2392d3ed.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3b6d51d6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0412fc70.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d257c50c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-50026114.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-654111fb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ac2c45cb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5bfa38eb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-781ce90e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ffa762b3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-536681d3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e6b72388.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f7435de3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-656dcb4f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-642ab0bf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3713978c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6ba58171.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6721294d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e427c8b0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ad122791.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2b75835e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e192a41a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3f7c2cc7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-eda9794c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fe7ab447.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bb263d21.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1cb6feff.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-be761f35.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c6d7a0d5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-118f8b8d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a36c992d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6dc37274.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f70b9fca.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-877e5988.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4bf5d85f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7bbf9728.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1cd0d6a3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8ae918e4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cd631d0a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a342ccc5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8dec9169.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2f041e7c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-63813f7e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8f1e021e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c3f9d44d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-21d6de4d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5c5f13de.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-44c2357d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-820f39fe.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-60c47dcd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b6a02e99.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-be627eba.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6f3801e5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7733a7a8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-10ca5c93.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fd3465b4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e1ace2c3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-aadcb264.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7dae4722.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-25fe1f90.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-62e2cad9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cb1f13b1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4b62cbd8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-328ccb98.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c9fc2ee2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-900bc9a9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8439e26e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-38563bec.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-85e392b3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-37414e9c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-653d50cb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-73459d1c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c0db4b07.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5e14adcc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-eed55e68.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-36c0543b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cbd38b82.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0caa8520.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ec78beac.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dea0213e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f04c4a34.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-64d05bdb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-60508bf9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8f13e05d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-42231872.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d0e840e7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-de516094.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-13154c36.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-daa73605.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0e48d45f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-eefd3a7a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f1a6b16d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d8f959cb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1c027835.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fc87637c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e2593697.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-082d5f3b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ce5a1cd5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-23a7eab0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0308086e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5fd62b40.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e3b82ad2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7653109e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3b155204.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d4c44057.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3a0ab68e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-27874d4f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e767c80a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-685742eb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9f5dd6e2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a7aeebe3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-582d3951.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9aeb2e43.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b8dcae26.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d96eb208.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-65519e4b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3a06f2e8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5554687a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-88e756c5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-021e729d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6285c255.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c8584734.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-49781d8f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b422f426.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d06fd773.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ef0eea69.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9a260753.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c58da5dc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6c0c98ba.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-18cb4960.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c570b67a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2ce17a38.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-01dac9e7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a53a6542.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3d757ca5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7a842c99.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4b3b1c83.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b69cf9d0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9e5a95ab.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2976e91b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-31e4e1a3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6daf84fd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ab86f329.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2ee75c75.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-846b37ad.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-55138d95.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8761e5db.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9bc3c9f1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-65a7b4c5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ea46374e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f707b2b8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1502aa9f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-52f3584e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7fd7bf34.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-70499966.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fc335e4f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c6e4b40a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9689f185.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bf6c4861.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1f094a5c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7dde94c6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-67b81a60.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fad5d06d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dc86bf65.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c5e98691.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0a7d654e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-df126158.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4346ec3e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2bf91044.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-305d78c0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dbd25036.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-889d77e4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0194008b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-08413f85.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9cb71737.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-19fe66e8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d73c231e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b84b7f73.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2daa8276.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3bd89d0a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6345a401.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-df3a5f11.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-78e99f18.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-abf632c0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7a62a357.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a90ac4ed.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-77cce9b7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e89e897a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-afba63ab.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-42680767.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d4be8780.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e0ea6dae.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7fe8237c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0a0492f9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c2ef1d9d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b5dd19f7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0266ab19.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-992c5aad.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bed9064a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-81bff903.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a33e564b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d7057241.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-374914da.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c9e79d2b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d092bafe.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ffa2bddb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f400d740.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fe3bb46b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fb254ca8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-53f07cbb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-278c1f13.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-365a61a8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ddb9aa1a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-75899cee.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-27f35f70.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6d206828.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1c043cc4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-38c52d3d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b9fa8f0d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-68334b48.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-513a447f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9c4305a3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-87b14aa4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f37b084d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8fd1f40c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f9148b82.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c340e150.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1560c7af.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-aee8ee95.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-eef73169.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-71985743.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f4add767.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4b04a408.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-26b92f67.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-620f5ea0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-62b9bb90.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-04a76b44.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2b8a5350.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e7a959fc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a903d806.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d5179cdc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8729c694.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-895c775f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c92fabd5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-215de809.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5cb7246b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d5a0b03e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e5074f3c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1a97cdf9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-88dd08eb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0fe624c8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-62e7cf6c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e4ce1573.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ca09cf59.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4b2e535e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c56114f9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-11bf7aa6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cef8ae19.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-12c71020.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-20c0e9ae.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f5763676.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-225a0ed3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b246f490.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a0d5b10b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e0a598d4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-79bdc73e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2e4b7800.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5ccf4a08.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6bfd8ea1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b17c3cf9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6e68b4bb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5d407553.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-263d1673.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9ea175a0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5458e999.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e7cb9eb5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d98733ce.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8cbf1942.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5d180584.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d06ffe88.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fc3b0713.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7210c608.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b5607286.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2db4cf85.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c5e688a4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-160aa0d6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1ce9c32e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e38b26df.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-864bd075.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-18d7883f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-aba49d52.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-90c6fa93.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4cc69019.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-968be8ca.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fd46e149.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ccfee9e8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bda95116.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5279eed0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b8605e24.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c64afa1a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-402b886d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bb15a05f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e5a44c25.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4b12f71b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-54918de2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-10443971.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-48c119c7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6a64c981.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8813d6d3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-443c03a5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d4ec8f44.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f193732c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8971275e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-621cc49d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f6c1c322.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-37b73ef8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-29ba0d10.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ac7df487.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1a2e72de.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bb20a979.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d0b7a890.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-14b3c2ee.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d85abd4a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4c206ca1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2ce74bbe.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-18d2e9ba.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-17e4331c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-23caaca1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-526ebbad.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-40c58530.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-52b30f72.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9bf5fb75.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a13a19d3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c48cf274.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e83d01aa.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/404.html-a44bd4e1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ed33b9e8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a8e8e934.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-febef657.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8bb74731.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a1b0448f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dafea6d9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7c612a1b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-075955dc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-124ae847.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-078e8728.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-64343df8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0862e062.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ff8a8e77.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f2ca002a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fdc827d5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5a6d3e26.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8f4fc847.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3522aa0f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f19bc954.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8250a54c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bcba42da.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fccb3404.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e115a354.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-31d2f1c0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d9b5d7ea.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f12c37b2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-421d255c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bf357283.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-836a3762.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3f5bbbb9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f50d09b4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-03e0093c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-206220da.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cea749c6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-93bda991.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-561bb29b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b4e32fd0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e794c8d8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9507b7ef.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e8f03d62.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-462e1042.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cbcc3ad9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f5bd5d9d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9ebc1443.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-26ff7903.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f59c60d0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8fbcf583.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-94075d88.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a5e089f4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fb80e985.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-880d598b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4279203a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cb816475.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c339f662.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-38bbade1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0ab75fe7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e652d6aa.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2097c04a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ad13c0a2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9e0dcb3a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c14a9ea4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-337c3932.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-29d61f11.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4f640d4b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-57a32d3d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8a481c66.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a8318dfa.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-79031b1e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-68d770af.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-730daff1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-14611b8e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7dc6eee7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a82d93f1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0d2b409c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f570f045.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0bab43e0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a8a4e7e1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7f809967.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8e19c2da.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c4ef6158.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-294ae509.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a43ec245.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6a4d9a86.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1611b6fe.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2f15ecbb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d31c24b5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-edc4c46c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-327d9b34.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cc5c6e87.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0882e1e1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d1f6a05f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2a39df5e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d97918c0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4bdac481.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-541cc8cf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-40212654.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b43ff879.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b2e37062.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cf3c549f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bb25351a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e09e765c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-92e3d2b0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3a72a1d3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-348acc9c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2895a90e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ee3503ed.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-05a707cd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d83d3647.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9a27340d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fee95a18.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-06cef79a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b8fc463b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d34d8fc2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-996aef6f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4c189fea.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-54bec45b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6f8a9b8c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-17e162f0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3219d7b8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-82c99bac.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5ce05554.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b7992398.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5cc49da6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b505d331.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-09f5e6e2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-77f458ea.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9af69a0f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-642de487.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b935b1bb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f4672cc8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8f04f59c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-241c9496.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-89bbee07.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1c6e9b86.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8d40ae7e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e8c4f7fa.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bc0e41fb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d18c2a33.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1b561033.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7d7f77ed.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fc869a43.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e6d62e1b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d5ba6285.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e6b2d8b0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c187d409.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c8a3d9ad.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-808c5507.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-74255426.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b06dcdf2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1c639763.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-33764891.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8471b346.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0fc5b756.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ffd35d29.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e6fb1734.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-321032a5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-87bd8afb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-998c8c4e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3b233f6f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-79d43c45.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f747fac4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-960583ed.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7ce62ab5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4c72dafe.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-32f690dd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-931c9689.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a0cf24a6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-975185de.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ab0cf940.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1c25c727.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ccf5cb20.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0e36613c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8cb2d82a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2d71659e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7b6507a1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b999c781.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c5f974b2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cae82b55.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c1de82a0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6fe2df78.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9f5a7471.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-67efc74d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-86fc1e09.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2529c2b9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f0dc111b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6f89f68b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b712c70e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-987df024.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2acec342.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0f793058.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a681814e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-95d1cc32.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-39c77965.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f8db9c64.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-306ba25a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e15ec060.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dcc61308.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-13304db8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b66ffcdb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7c9e252b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-440f6be1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-40b58db2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bb5b3d9b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f81c6bb9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c212358c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e8408165.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-356b7c6d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-87af11dd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-95bd8cb7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f9581e75.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4af8c5bd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-070615eb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-12bafb9f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dde02d53.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c626b681.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6a2341fb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-eb7758df.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8c718cbd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4eded929.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-421251eb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6b261f08.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-10f0f9a6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-39699938.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fb17615c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5898b8d1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-90251382.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b68a0735.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-00c4eba0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2e2dbaf3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-eaee5baa.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3c857bb7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4628cc1b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f0e66848.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ecdf0cba.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e5750b55.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fc6754af.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d3a13a92.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-216c4037.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d268dad0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-74e6bae0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-66b80f85.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a7621313.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2b353c7e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a3af1262.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6d54d409.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-57d4417a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c742b823.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-03da3a0a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ad9b01d4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-92c30699.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-959a8edb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6cbf01fc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2d5a1bfe.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2c13f56f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7720acf7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3e64a5d7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-db60eca8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-199b24c1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b4ee9403.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-72dbc990.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-83447b99.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a1d75785.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fcc016bc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-86f6c69e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1fbf0f0e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0f47aaae.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7015a3c7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-253553fc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-db494bdf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f97c8beb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fbd08faf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-06712d67.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6ef3b4f4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0d0d0838.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-edae01f4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-39e3b0f3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-23594402.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d8122d5d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d5a4561c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d837717c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2424be95.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dd37a46b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-beec2147.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6b961ba9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-71ee045b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-08ff908b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6170491b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a5d274d7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ec15e6ce.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6c8f9e79.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4e96ba38.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-26cd3310.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-51a45f12.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f1f69640.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-28ecf115.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a63d1f48.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-36ed731f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5291c1ad.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f85051b5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-00a8461c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a221f7c6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e21bbad2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-534ea2c1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c2ababb3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f5a4ecbd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-20423fbb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2b942f31.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ad3328d3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a795ec19.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f57548f2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-1c97fa05.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ca33e810.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-305127d6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-26b16184.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c256d9e6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6fce099f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d0540ba2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2a24742a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4f6031a1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-468f4257.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cc6143fb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-48571c7a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-14a21ba1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-124088f4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e7773c4c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b75f47f4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-27de497f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4da478cb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dedfdeae.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-917954ec.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ebd715f1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cd30e0b4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-be9e121e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7604b269.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-71538f6f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6586ab26.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f864e891.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f2f32a4c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9263596f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b861f8bd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-77f659a2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3288f635.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bc9a7d00.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cecdadb5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-934ffc2b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-aa88560e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fa51470b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-733085a6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bd4d700c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6aa9bb5f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-abdbe4cf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a7671180.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-30d8376f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ee850002.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b8c10fdc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c01185de.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-48e8b977.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4331e9c1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-aa9935d2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7da4febd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-11a81f2b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-feb3427e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3a5df78b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-290a1f6b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ec7716a7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-987eb101.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0e32abd0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-24c41a40.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dc4cd8a5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-42697f7c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d3dfad86.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ab2beec1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-301bc574.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-453efff4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-85033e48.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a3823a81.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-aef41f48.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-66ae134c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6629eaac.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-988fe771.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a6b6e428.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a4b326f1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8cff522c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-dc1f392d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6b395277.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0f2b42b9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c9756f2a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-15629ad1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c612906c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-162cf3c1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b6ae9954.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e857aead.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c796902e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cc277066.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-099b2f69.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bebde6f3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5826ec9e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ebfbaae4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-65c0c10a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-567e3ca3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8d2820be.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6f8ea1ff.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-842e5ece.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-137389ca.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-06f48af8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f0e73b9b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-03030eb3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-aa2b7fd9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-78c8f4c4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8ab3d66a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-628c24fc.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-7f43cbc7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-80340890.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f774aae0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b9ac06f5.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5908e510.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-01ecbca6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-72bb3628.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d699ae7b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f2e7847f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-82ceabc4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-630e9c27.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5c5be712.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bbaa54a9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-15ab7284.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ba71e81d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-555efb53.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-decdd674.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-54b81ff6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-33d4737a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-03d08986.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9be42cc8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-47c86637.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d0a17382.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ad0745c1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-27b40bd2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-661e9de7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-22f612cd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-37e6d49a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-630b71e1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-10462845.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0c23be71.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-eb1f60b6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-24ec64f6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b96fe4e4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-68429195.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-85a47f2c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-356c7aba.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-31e98026.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5445877b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cbff203e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-eb8eca80.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-af3e476f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-03fc6193.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4aacce02.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bd76a0b6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-bc2f449c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-215a03ce.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-30f8cd4f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-95b07759.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0199029b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9ed9ad67.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d95fa3d0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f4654587.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f09fa45d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e60c8eab.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fb352c9e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d7c42935.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-0c8379d9.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3a7c8d29.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-02c3166b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-93db5128.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8b9a10e8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-14372210.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ccffd9d6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e4036d7a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ea96b4d1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-51e1d5d1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-145e314e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b9958350.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f302eb33.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b4f57d91.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-41542b4f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8c83ccdd.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-22392502.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-50487756.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-07a73e01.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d31c3194.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-d0a98a9e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4ff441f2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-179795e2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-c9dbea37.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b961756f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b3bd548d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2898c78b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-98b00c88.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-e16bab49.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5e0c1db6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-16379e8a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6bf2f14f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-72df441c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6081a9bf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-4ef78277.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-3f97c8a4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-b1d5a07e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5af8140f.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-59694583.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-106a3070.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-5b5db08b.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-02995768.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-fd1724b8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-9868a710.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-99221276.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cb318981.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-66c10db3.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-37f3e361.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-798c79a7.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ef979f69.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-f68f644a.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-812a9bbf.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-ab151162.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-6a06eef4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-75f09ab4.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-46205686.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-59077e34.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-a00f1614.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-2de1f242.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-cd1d4adb.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index.html-8c52df74.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/waline-meta-56fbc549.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/component-f9d65c37.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/auto-fe80bb03.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/index-2bf332f6.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/flowchart-c441f34d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/mermaid.core-e01fe63d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/highlight.esm-75b11b9d.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/markdown.esm-abe06b83.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/notes.esm-a106bb2c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/reveal.esm-ec5549c1.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/search.esm-7e6792e2.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/VuePlayground-6788322c.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/photoswipe.esm-1a9f4b8e.js" as="script"><link rel="prefetch" href="/WaterDrop/assets/SearchResult-a68616da.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand" href="/WaterDrop/"><img class="vp-nav-logo" src="/WaterDrop/logo.svg" alt="é’æ‚Ÿ"><!----><span class="vp-site-name hide-in-pad">é’æ‚Ÿ</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/WaterDrop/pages/51513fc6/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:notes-book" width="1em" height="1em"></iconify-icon>ç¬”è®°<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="Java"><span class="title"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:java" width="1em" height="1em"></iconify-icon>Java</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><a class="vp-link nav-link" href="/WaterDrop/pages/9d112a4f/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:java" width="1em" height="1em"></iconify-icon>JavaCore<!----></a></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/pages/accf2bc7/"><!---->Java åŸºç¡€<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/pages/c3f97b9f/"><!---->Java é«˜çº§<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/pages/5474b9fb/"><!---->Java å®¹å™¨<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/pages/78684c78/"><!---->Java IO<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/pages/b9a35e69/"><!---->Java å¹¶å‘<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/pages/1997b6e8/"><!---->Java JVM<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/pages/d793c0d6/"><!---->Java é¢è¯•<!----></a></li></ul></li><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/01.Java/JavaEE/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:numeric-2-box-multiple-outline" width="1em" height="1em"></iconify-icon>JavaEE<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/pages/050ef502/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:numeric-3-box-multiple-outline" width="1em" height="1em"></iconify-icon>è½¯ä»¶<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/pages/99f1430e/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:numeric-4-box-multiple-outline" width="1em" height="1em"></iconify-icon>å·¥å…·<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/pages/ecabeba6/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:numeric-5-box-multiple-outline" width="1em" height="1em"></iconify-icon>æ¡†æ¶<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/pages/98f75abc/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:numeric-6-box-multiple-outline" width="1em" height="1em"></iconify-icon>ä¸­é—´ä»¶<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/WaterDrop/pages/47a444a4/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:app-window-code" width="1em" height="1em"></iconify-icon>ç¼–ç¨‹<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="è®¾è®¡"><span class="title"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:module-puzzle" width="1em" height="1em"></iconify-icon>è®¾è®¡</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ¶æ„</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/pages/d933a06b/"><!---->ç»¼åˆ<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/pages/14ac1f61/"><!---->å¾®æœåŠ¡<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/pages/f8d2c06d/"><!---->å®‰å…¨<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/03.è®¾è®¡/æ¶æ„/è§£å†³æ–¹æ¡ˆ/"><!---->è§£å†³æ–¹æ¡ˆ<!----></a></li></ul></li><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/pages/9584cbd7/"><!---->è®¾è®¡æ¨¡å¼<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/pages/087c62ac/"><!---->é‡æ„<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/03.è®¾è®¡/DDD/"><!---->DDD<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/pages/e745d4ee/"><!---->UML<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/WaterDrop/pages/3559bef4/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:medical-app-laptop-1" width="1em" height="1em"></iconify-icon>DevOps<!----></a></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/WaterDrop/pages/fcc7f3a1/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:board-game-jenga" width="1em" height="1em"></iconify-icon>ç®—æ³•<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="æ•°æ®åº“"><span class="title"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-plump-color:database" width="1em" height="1em"></iconify-icon>æ•°æ®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/pages/ba6c6f2b/"><!---->æ•°æ®åº“ç»¼åˆ<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/pages/711c97ca/"><!---->æ•°æ®åº“ä¸­é—´ä»¶<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><a class="vp-link nav-link" href="/WaterDrop/pages/e6053839/"><!---->å…³ç³»å‹æ•°æ®åº“<!----></a></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/pages/b3143f7c/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:mysql" width="1em" height="1em"></iconify-icon>MySQL<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><a class="vp-link nav-link" href="/WaterDrop/pages/c7a5b3a3/"><!---->æ–‡æ¡£æ•°æ®åº“<!----></a></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/pages/8e07d83c/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:mongodb" width="1em" height="1em"></iconify-icon>MongoDB<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><a class="vp-link nav-link" href="/WaterDrop/pages/6f39feeb/"><!---->KV æ•°æ®åº“<!----></a></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/pages/0302a9aa/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:redis" width="1em" height="1em"></iconify-icon>Redis<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><a class="vp-link nav-link" href="/WaterDrop/pages/2d01c30e/"><!---->åˆ—å¼æ•°æ®åº“<!----></a></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/pages/6983c546/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:hbase" width="1em" height="1em"></iconify-icon>HBase<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><a class="vp-link nav-link" href="/WaterDrop/pages/bf863c80/"><!---->æœç´¢å¼•æ“æ•°æ®åº“<!----></a></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/pages/36596187/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:elasticsearch" width="1em" height="1em"></iconify-icon>Elasticsearch<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/pages/8b1864e8/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="vscode-icons:file-type-Elastic" width="1em" height="1em"></iconify-icon>ElasticæŠ€æœ¯æ ˆ<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/WaterDrop/pages/bb9ba184/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:network" width="1em" height="1em"></iconify-icon>ç½‘ç»œ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="åˆ†å¸ƒå¼"><span class="title"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-stickies-color:server-network" width="1em" height="1em"></iconify-icon>åˆ†å¸ƒå¼</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/pages/df7c7cd0/"><!---->åˆ†å¸ƒå¼ç†è®º<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/pages/ad8b7f0a/"><!---->åˆ†å¸ƒå¼ååŒ<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/pages/40c8dc6f/"><!---->åˆ†å¸ƒå¼è°ƒåº¦<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>åˆ†å¸ƒå¼é€šä¿¡</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/pages/d6acf22b/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="file-icons:powerpc" width="1em" height="1em"></iconify-icon>RPC<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/WaterDrop/pages/8a1e3989/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:mq" width="1em" height="1em"></iconify-icon>MQ<!----></a></li></ul></li><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/pages/ef414e7f/"><!---->åˆ†å¸ƒå¼å­˜å‚¨<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="å¤§æ•°æ®"><span class="title"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:app-window-pie-chart" width="1em" height="1em"></iconify-icon>å¤§æ•°æ®</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/pages/3c92e464/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:hadoop" width="1em" height="1em"></iconify-icon>Hadoop<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/pages/40a26118/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="simple-icons:apachehive" width="1em" height="1em"></iconify-icon>Hive<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/pages/6983c546/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:hbase" width="1em" height="1em"></iconify-icon>HBase<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/pages/63e8b84c/"><!---->ZooKeeper<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/WaterDrop/pages/dff5c241/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/WaterDrop/pages/136c9f41/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:award-ribbon-star-1" width="1em" height="1em"></iconify-icon>é¢è¯•<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/2992253553/WaterDrop" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:notes-book" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">ç¬”è®°</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:java" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">Java</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:app-window-code" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">ç¼–ç¨‹</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:module-puzzle" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">è®¾è®¡</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:medical-app-laptop-1" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">DevOps</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:board-game-jenga" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">ç®—æ³•</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-plump-color:database" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">æ•°æ®åº“</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:network" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">ç½‘ç»œ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:settings-slider-desktop-horizontal" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">æ“ä½œç³»ç»Ÿ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-stickies-color:server-network" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">åˆ†å¸ƒå¼</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><a class="vp-link nav-link vp-sidebar-title" href="/WaterDrop/pages/df7c7cd0/"><!---->åˆ†å¸ƒå¼ç†è®º<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><a class="vp-link nav-link vp-sidebar-title" href="/WaterDrop/pages/ad8b7f0a/"><!---->åˆ†å¸ƒå¼ååŒ<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><a class="vp-link nav-link vp-sidebar-title" href="/WaterDrop/pages/40c8dc6f/"><!---->åˆ†å¸ƒå¼è°ƒåº¦<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><!----><a class="vp-link nav-link vp-sidebar-title" href="/WaterDrop/pages/f2e9ac63/"><!---->åˆ†å¸ƒå¼é€šä¿¡<!----></a><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">RPC</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:mq" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">æ¶ˆæ¯é˜Ÿåˆ—</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/WaterDrop/pages/4fdfe265/"><!---->ActiveMQ å¿«é€Ÿå…¥é—¨<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">Kafka æ•™ç¨‹</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/WaterDrop/pages/df6965b2/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka å¯é ä¼ è¾“<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/WaterDrop/pages/f31f25c0/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka å­˜å‚¨<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/WaterDrop/pages/8cbcce2f/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka å¿«é€Ÿå…¥é—¨<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/WaterDrop/pages/97b2c587/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka æµå¼å¤„ç†<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/WaterDrop/pages/d9dafb49/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka æ¶ˆè´¹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/WaterDrop/pages/af73e0f1/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka ç”Ÿäº§<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/WaterDrop/pages/80004b19/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka è¿ç»´<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/WaterDrop/pages/da944418/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka é›†ç¾¤<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/WaterDrop/pages/d8357cc5/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka é¢è¯•<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#kafka-ç®€ä»‹"><!---->Kafka ç®€ä»‹<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€ç®€å•ã€‘kafka-æ˜¯ä»€ä¹ˆ-ğŸŒŸ"><!---->ã€ç®€å•ã€‘Kafka æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€ç®€å•ã€‘kafka-æœ‰å“ªäº›æ ¸å¿ƒç»„ä»¶-ğŸŒŸ"><!---->ã€ç®€å•ã€‘Kafka æœ‰å“ªäº›æ ¸å¿ƒç»„ä»¶ï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€ç®€å•ã€‘kafka-æœ‰å“ªäº›åº”ç”¨åœºæ™¯-ğŸŒŸ"><!---->ã€ç®€å•ã€‘Kafka æœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#kafka-å­˜å‚¨"><!---->Kafka å­˜å‚¨<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å­˜å‚¨æ•°æ®-ğŸŒŸğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å­˜å‚¨æ•°æ®ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•æŒä¹…åŒ–-ğŸŒŸğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•æŒä¹…åŒ–ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•æ¸…ç†æ•°æ®-ğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka å¦‚ä½•æ¸…ç†æ•°æ®ï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•æ£€ç´¢æ•°æ®-ğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka å¦‚ä½•æ£€ç´¢æ•°æ®ï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°æ—¥å¿—å‹ç¼©"><!---->ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å®ç°æ—¥å¿—å‹ç¼©ï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#kafka-ç”Ÿäº§æ¶ˆè´¹"><!---->Kafka ç”Ÿäº§æ¶ˆè´¹<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-å‘é€æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„-ğŸŒŸğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka å‘é€æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€ç®€å•ã€‘kafka-ä¸ºä»€ä¹ˆè¦æ”¯æŒæ¶ˆè´¹è€…ç¾¤ç»„-ğŸŒŸğŸŒŸğŸŒŸ"><!---->ã€ç®€å•ã€‘Kafka ä¸ºä»€ä¹ˆè¦æ”¯æŒæ¶ˆè´¹è€…ç¾¤ç»„ï¼ŸğŸŒŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-æ¶ˆè´¹æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„-ğŸŒŸğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka æ¶ˆè´¹æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#kafka-é›†ç¾¤"><!---->Kafka é›†ç¾¤<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°åˆ†åŒºæœºåˆ¶-ğŸŒŸğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å®ç°åˆ†åŒºæœºåˆ¶ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-æ”¯æŒå“ªäº›åˆ†åŒºç­–ç•¥-ğŸŒŸğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka æ”¯æŒå“ªäº›åˆ†åŒºç­–ç•¥ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°åˆ†åŒºå†å‡è¡¡-ğŸŒŸğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç°åˆ†åŒºå†å‡è¡¡ï¼ŸğŸŒŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘åˆ†åŒºå†å‡è¡¡å­˜åœ¨ä»€ä¹ˆé—®é¢˜-å¦‚ä½•é¿å…åˆ†åŒºå†å‡è¡¡-ğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘åˆ†åŒºå†å‡è¡¡å­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•é¿å…åˆ†åŒºå†å‡è¡¡ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•ä¼˜åŒ–åˆ†åŒºçš„è¯»å†™æ€§èƒ½-æœ‰å“ªäº›å¸¸è§çš„è°ƒä¼˜ç­–ç•¥"><!---->ã€å›°éš¾ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•ä¼˜åŒ–åˆ†åŒºçš„è¯»å†™æ€§èƒ½ï¼Ÿæœ‰å“ªäº›å¸¸è§çš„è°ƒä¼˜ç­–ç•¥ï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°å‰¯æœ¬æœºåˆ¶-ğŸŒŸğŸŒŸğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å®ç°å‰¯æœ¬æœºåˆ¶ï¼ŸğŸŒŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•å®ç°å¤šé›†ç¾¤çš„æ•°æ®åŒæ­¥-è·¨é›†ç¾¤å¤åˆ¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆ-ğŸŒŸ"><!---->ã€å›°éš¾ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•å®ç°å¤šé›†ç¾¤çš„æ•°æ®åŒæ­¥ï¼Ÿè·¨é›†ç¾¤å¤åˆ¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-çš„-controller-failover-æ˜¯å¦‚ä½•è®¾è®¡çš„-åœ¨-controller-å®•æœºæ—¶å¦‚ä½•è¿›è¡Œæ•…éšœæ¢å¤-ğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka çš„ Controller Failover æ˜¯å¦‚ä½•è®¾è®¡çš„ï¼Ÿåœ¨ Controller å®•æœºæ—¶å¦‚ä½•è¿›è¡Œæ•…éšœæ¢å¤ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-ä¸­çš„-controller-å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆ-ğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka ä¸­çš„ Controller å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°é«˜å¯ç”¨-ğŸŒŸğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç°é«˜å¯ç”¨ï¼ŸğŸŒŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#kafka-å¯é ä¼ è¾“"><!---->Kafka å¯é ä¼ è¾“<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•é€šè¿‡-acks-é…ç½®æé«˜æ•°æ®å¯é æ€§-acks-çš„å€¼å¦‚ä½•å½±å“æ€§èƒ½"><!---->ã€ä¸­ç­‰ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•é€šè¿‡ Acks é…ç½®æé«˜æ•°æ®å¯é æ€§ï¼ŸAcks çš„å€¼å¦‚ä½•å½±å“æ€§èƒ½ï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯ä¸ä¸¢å¤±-ğŸŒŸğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯ Kafka æ¶ˆæ¯ä¸ä¸¢å¤±ï¼ŸğŸŒŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯ä¸é‡å¤-ğŸŒŸğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯ Kafka æ¶ˆæ¯ä¸é‡å¤ï¼ŸğŸŒŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯æœ‰åº-ğŸŒŸğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯ Kafka æ¶ˆæ¯æœ‰åºï¼ŸğŸŒŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘å¦‚ä½•åº”å¯¹-kafka-æ¶ˆæ¯ç§¯å‹-ğŸŒŸğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘å¦‚ä½•åº”å¯¹ Kafka æ¶ˆæ¯ç§¯å‹ï¼ŸğŸŒŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•å®ç°å¹‚ç­‰æ€§-producer-å®ƒå¯¹æ¶ˆæ¯å¤„ç†çš„æ„ä¹‰æ˜¯ä»€ä¹ˆ"><!---->ã€å›°éš¾ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•å®ç°å¹‚ç­‰æ€§ Producerï¼Ÿå®ƒå¯¹æ¶ˆæ¯å¤„ç†çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#kafka-æ¶æ„"><!---->Kafka æ¶æ„<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-å„ç»„ä»¶å¦‚ä½•è¿›è¡Œä¼˜åŒ–"><!---->ã€ä¸­ç­‰ã€‘Kafka å„ç»„ä»¶å¦‚ä½•è¿›è¡Œä¼˜åŒ–ï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-ä¸ºä»€ä¹ˆæ€§èƒ½é«˜-ğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka ä¸ºä»€ä¹ˆæ€§èƒ½é«˜ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°æµé‡æ§åˆ¶-ğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç°æµé‡æ§åˆ¶ï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-åœ¨é«˜ååé‡åœºæ™¯ä¸‹å¦‚ä½•ä¿æŒä½å»¶è¿Ÿ-æœ‰å“ªäº›æ€§èƒ½è°ƒä¼˜çš„ç­–ç•¥"><!---->ã€å›°éš¾ã€‘Kafka åœ¨é«˜ååé‡åœºæ™¯ä¸‹å¦‚ä½•ä¿æŒä½å»¶è¿Ÿï¼Ÿæœ‰å“ªäº›æ€§èƒ½è°ƒä¼˜çš„ç­–ç•¥ï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å¤„ç†æ•°æ®å€¾æ–œé—®é¢˜-ğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka å¦‚ä½•å¤„ç†æ•°æ®å€¾æ–œé—®é¢˜ï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-å¤„ç†è¯·æ±‚çš„å…¨æµç¨‹"><!---->ã€å›°éš¾ã€‘Kafka å¤„ç†è¯·æ±‚çš„å…¨æµç¨‹ï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘zookeeper-åœ¨-kafka-ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆ-ğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘ZooKeeper åœ¨ Kafka ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-ä¸ºä»€ä¹ˆè¦å¼ƒç”¨-zookeeper"><!---->ã€ä¸­ç­‰ã€‘Kafka ä¸ºä»€ä¹ˆè¦å¼ƒç”¨ Zookeeperï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-ä¸­å¦‚ä½•å®ç°æ—¶é—´è½®-ğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka ä¸­å¦‚ä½•å®ç°æ—¶é—´è½®ï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-çš„ç´¢å¼•è®¾è®¡æœ‰ä»€ä¹ˆäº®ç‚¹-ğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka çš„ç´¢å¼•è®¾è®¡æœ‰ä»€ä¹ˆäº®ç‚¹ï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#kafka-äº‹åŠ¡"><!---->Kafka äº‹åŠ¡<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-æ˜¯å¦æ”¯æŒäº‹åŠ¡-å¦‚ä½•æ”¯æŒäº‹åŠ¡-ğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka æ˜¯å¦æ”¯æŒäº‹åŠ¡ï¼Ÿå¦‚ä½•æ”¯æŒäº‹åŠ¡ï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°-exactly-once-è¯­ä¹‰-ğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç° Exactly Once è¯­ä¹‰ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#kafka-stream"><!---->Kafka Stream<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-ä¸-flink-çš„é›†æˆæ˜¯å¦‚ä½•å®ç°çš„-å¦‚ä½•ä¼˜åŒ–-flink-ä¸-kafka-ä¹‹é—´çš„æ•°æ®æµåŠ¨"><!---->ã€å›°éš¾ã€‘Kafka ä¸ Flink çš„é›†æˆæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿå¦‚ä½•ä¼˜åŒ– Flink ä¸ Kafka ä¹‹é—´çš„æ•°æ®æµåŠ¨ï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-çš„-stream-å’Œ-table-æ˜¯å¦‚ä½•ç›¸äº’è½¬æ¢çš„-å®ƒä»¬åœ¨-kafka-streams-ä¸­çš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆ"><!---->ã€å›°éš¾ã€‘Kafka çš„ Stream å’Œ Table æ˜¯å¦‚ä½•ç›¸äº’è½¬æ¢çš„ï¼Ÿå®ƒä»¬åœ¨ Kafka Streams ä¸­çš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/WaterDrop/pages/d8357cc5/#å‚è€ƒèµ„æ–™"><!---->å‚è€ƒèµ„æ–™<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul><!--]--></li></ul></section></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/WaterDrop/pages/fcbb3c4e/"><!---->MQ é¢è¯•<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/WaterDrop/pages/5eea3123/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:rabbitmq-icon" width="1em" height="1em"></iconify-icon>RabbitMQ é¢è¯•<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="simple-icons:apacherocketmq" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">RocketMQ</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><a class="vp-link nav-link vp-sidebar-title" href="/WaterDrop/pages/ef414e7f/"><!---->åˆ†å¸ƒå¼å­˜å‚¨<!----></a><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:app-window-pie-chart" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">å¤§æ•°æ®</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-emojis:briefcase" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">å·¥ä½œ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:award-ribbon-star-1" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">é¢è¯•</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><img class="page-cover" src="https://raw.githubusercontent.com/dunwu/images/master/cs/java/javaweb/distributed/mq/kafka/kafka-event-system.png" alt="Kafka é¢è¯•" no-view><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka é¢è¯•</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://2992253553.github.io/WaterDrop" target="_blank" rel="noopener noreferrer">é’æ‚Ÿ</a></span><span property="author" content="é’æ‚Ÿ"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2025-02-03T11:15:43.000Z"></span><span class="page-pageview-info" aria-label="è®¿é—®é‡ğŸ”¢" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span id="ArtalkPV" class="waline-pageview-count" data-path="/pages/d8357cc5/">...</span></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 65 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT65M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category4 clickable" role="navigation">åˆ†å¸ƒå¼</span><span class="page-category-item category1 clickable" role="navigation">åˆ†å¸ƒå¼é€šä¿¡</span><span class="page-category-item category7 clickable" role="navigation">MQ</span><span class="page-category-item category2 clickable" role="navigation">Kafka</span><!--]--><meta property="articleSection" content="åˆ†å¸ƒå¼,åˆ†å¸ƒå¼é€šä¿¡,MQ,Kafka"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag4 clickable" role="navigation">åˆ†å¸ƒå¼</span><span class="page-tag-item tag1 clickable" role="navigation">åˆ†å¸ƒå¼é€šä¿¡</span><span class="page-tag-item tag7 clickable" role="navigation">MQ</span><span class="page-tag-item tag2 clickable" role="navigation">Kafka</span><span class="page-tag-item tag2 clickable" role="navigation">é¢è¯•</span><!--]--><meta property="keywords" content="åˆ†å¸ƒå¼,åˆ†å¸ƒå¼é€šä¿¡,MQ,Kafka,é¢è¯•"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/WaterDrop/#kafka-ç®€ä»‹">Kafka ç®€ä»‹</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€ç®€å•ã€‘kafka-æ˜¯ä»€ä¹ˆ-ğŸŒŸ">ã€ç®€å•ã€‘Kafka æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€ç®€å•ã€‘kafka-æœ‰å“ªäº›æ ¸å¿ƒç»„ä»¶-ğŸŒŸ">ã€ç®€å•ã€‘Kafka æœ‰å“ªäº›æ ¸å¿ƒç»„ä»¶ï¼ŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€ç®€å•ã€‘kafka-æœ‰å“ªäº›åº”ç”¨åœºæ™¯-ğŸŒŸ">ã€ç®€å•ã€‘Kafka æœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼ŸğŸŒŸ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/WaterDrop/#kafka-å­˜å‚¨">Kafka å­˜å‚¨</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å­˜å‚¨æ•°æ®-ğŸŒŸğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å­˜å‚¨æ•°æ®ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•æŒä¹…åŒ–-ğŸŒŸğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•æŒä¹…åŒ–ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•æ¸…ç†æ•°æ®-ğŸŒŸ">ã€å›°éš¾ã€‘Kafka å¦‚ä½•æ¸…ç†æ•°æ®ï¼ŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•æ£€ç´¢æ•°æ®-ğŸŒŸ">ã€å›°éš¾ã€‘Kafka å¦‚ä½•æ£€ç´¢æ•°æ®ï¼ŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°æ—¥å¿—å‹ç¼©">ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å®ç°æ—¥å¿—å‹ç¼©ï¼Ÿ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/WaterDrop/#kafka-ç”Ÿäº§æ¶ˆè´¹">Kafka ç”Ÿäº§æ¶ˆè´¹</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€ä¸­ç­‰ã€‘kafka-å‘é€æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„-ğŸŒŸğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka å‘é€æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€ç®€å•ã€‘kafka-ä¸ºä»€ä¹ˆè¦æ”¯æŒæ¶ˆè´¹è€…ç¾¤ç»„-ğŸŒŸğŸŒŸğŸŒŸ">ã€ç®€å•ã€‘Kafka ä¸ºä»€ä¹ˆè¦æ”¯æŒæ¶ˆè´¹è€…ç¾¤ç»„ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€ä¸­ç­‰ã€‘kafka-æ¶ˆè´¹æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„-ğŸŒŸğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka æ¶ˆè´¹æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/WaterDrop/#kafka-é›†ç¾¤">Kafka é›†ç¾¤</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°åˆ†åŒºæœºåˆ¶-ğŸŒŸğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å®ç°åˆ†åŒºæœºåˆ¶ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€ä¸­ç­‰ã€‘kafka-æ”¯æŒå“ªäº›åˆ†åŒºç­–ç•¥-ğŸŒŸğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka æ”¯æŒå“ªäº›åˆ†åŒºç­–ç•¥ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°åˆ†åŒºå†å‡è¡¡-ğŸŒŸğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç°åˆ†åŒºå†å‡è¡¡ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘åˆ†åŒºå†å‡è¡¡å­˜åœ¨ä»€ä¹ˆé—®é¢˜-å¦‚ä½•é¿å…åˆ†åŒºå†å‡è¡¡-ğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘åˆ†åŒºå†å‡è¡¡å­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•é¿å…åˆ†åŒºå†å‡è¡¡ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•ä¼˜åŒ–åˆ†åŒºçš„è¯»å†™æ€§èƒ½-æœ‰å“ªäº›å¸¸è§çš„è°ƒä¼˜ç­–ç•¥">ã€å›°éš¾ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•ä¼˜åŒ–åˆ†åŒºçš„è¯»å†™æ€§èƒ½ï¼Ÿæœ‰å“ªäº›å¸¸è§çš„è°ƒä¼˜ç­–ç•¥ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°å‰¯æœ¬æœºåˆ¶-ğŸŒŸğŸŒŸğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å®ç°å‰¯æœ¬æœºåˆ¶ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•å®ç°å¤šé›†ç¾¤çš„æ•°æ®åŒæ­¥-è·¨é›†ç¾¤å¤åˆ¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆ-ğŸŒŸ">ã€å›°éš¾ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•å®ç°å¤šé›†ç¾¤çš„æ•°æ®åŒæ­¥ï¼Ÿè·¨é›†ç¾¤å¤åˆ¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘kafka-çš„-controller-failover-æ˜¯å¦‚ä½•è®¾è®¡çš„-åœ¨-controller-å®•æœºæ—¶å¦‚ä½•è¿›è¡Œæ•…éšœæ¢å¤-ğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘Kafka çš„ Controller Failover æ˜¯å¦‚ä½•è®¾è®¡çš„ï¼Ÿåœ¨ Controller å®•æœºæ—¶å¦‚ä½•è¿›è¡Œæ•…éšœæ¢å¤ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘kafka-ä¸­çš„-controller-å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆ-ğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘Kafka ä¸­çš„ Controller å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°é«˜å¯ç”¨-ğŸŒŸğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç°é«˜å¯ç”¨ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/WaterDrop/#kafka-å¯é ä¼ è¾“">Kafka å¯é ä¼ è¾“</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€ä¸­ç­‰ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•é€šè¿‡-acks-é…ç½®æé«˜æ•°æ®å¯é æ€§-acks-çš„å€¼å¦‚ä½•å½±å“æ€§èƒ½">ã€ä¸­ç­‰ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•é€šè¿‡ Acks é…ç½®æé«˜æ•°æ®å¯é æ€§ï¼ŸAcks çš„å€¼å¦‚ä½•å½±å“æ€§èƒ½ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯ä¸ä¸¢å¤±-ğŸŒŸğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯ Kafka æ¶ˆæ¯ä¸ä¸¢å¤±ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯ä¸é‡å¤-ğŸŒŸğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯ Kafka æ¶ˆæ¯ä¸é‡å¤ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯æœ‰åº-ğŸŒŸğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯ Kafka æ¶ˆæ¯æœ‰åºï¼ŸğŸŒŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘å¦‚ä½•åº”å¯¹-kafka-æ¶ˆæ¯ç§¯å‹-ğŸŒŸğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘å¦‚ä½•åº”å¯¹ Kafka æ¶ˆæ¯ç§¯å‹ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•å®ç°å¹‚ç­‰æ€§-producer-å®ƒå¯¹æ¶ˆæ¯å¤„ç†çš„æ„ä¹‰æ˜¯ä»€ä¹ˆ">ã€å›°éš¾ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•å®ç°å¹‚ç­‰æ€§ Producerï¼Ÿå®ƒå¯¹æ¶ˆæ¯å¤„ç†çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/WaterDrop/#kafka-æ¶æ„">Kafka æ¶æ„</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€ä¸­ç­‰ã€‘kafka-å„ç»„ä»¶å¦‚ä½•è¿›è¡Œä¼˜åŒ–">ã€ä¸­ç­‰ã€‘Kafka å„ç»„ä»¶å¦‚ä½•è¿›è¡Œä¼˜åŒ–ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘kafka-ä¸ºä»€ä¹ˆæ€§èƒ½é«˜-ğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘Kafka ä¸ºä»€ä¹ˆæ€§èƒ½é«˜ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°æµé‡æ§åˆ¶-ğŸŒŸ">ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç°æµé‡æ§åˆ¶ï¼ŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘kafka-åœ¨é«˜ååé‡åœºæ™¯ä¸‹å¦‚ä½•ä¿æŒä½å»¶è¿Ÿ-æœ‰å“ªäº›æ€§èƒ½è°ƒä¼˜çš„ç­–ç•¥">ã€å›°éš¾ã€‘Kafka åœ¨é«˜ååé‡åœºæ™¯ä¸‹å¦‚ä½•ä¿æŒä½å»¶è¿Ÿï¼Ÿæœ‰å“ªäº›æ€§èƒ½è°ƒä¼˜çš„ç­–ç•¥ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å¤„ç†æ•°æ®å€¾æ–œé—®é¢˜-ğŸŒŸ">ã€å›°éš¾ã€‘Kafka å¦‚ä½•å¤„ç†æ•°æ®å€¾æ–œé—®é¢˜ï¼ŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘kafka-å¤„ç†è¯·æ±‚çš„å…¨æµç¨‹">ã€å›°éš¾ã€‘Kafka å¤„ç†è¯·æ±‚çš„å…¨æµç¨‹ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘zookeeper-åœ¨-kafka-ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆ-ğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘ZooKeeper åœ¨ Kafka ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€ä¸­ç­‰ã€‘kafka-ä¸ºä»€ä¹ˆè¦å¼ƒç”¨-zookeeper">ã€ä¸­ç­‰ã€‘Kafka ä¸ºä»€ä¹ˆè¦å¼ƒç”¨ Zookeeperï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€ä¸­ç­‰ã€‘kafka-ä¸­å¦‚ä½•å®ç°æ—¶é—´è½®-ğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka ä¸­å¦‚ä½•å®ç°æ—¶é—´è½®ï¼ŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€ä¸­ç­‰ã€‘kafka-çš„ç´¢å¼•è®¾è®¡æœ‰ä»€ä¹ˆäº®ç‚¹-ğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka çš„ç´¢å¼•è®¾è®¡æœ‰ä»€ä¹ˆäº®ç‚¹ï¼ŸğŸŒŸ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/WaterDrop/#kafka-äº‹åŠ¡">Kafka äº‹åŠ¡</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€ä¸­ç­‰ã€‘kafka-æ˜¯å¦æ”¯æŒäº‹åŠ¡-å¦‚ä½•æ”¯æŒäº‹åŠ¡-ğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka æ˜¯å¦æ”¯æŒäº‹åŠ¡ï¼Ÿå¦‚ä½•æ”¯æŒäº‹åŠ¡ï¼ŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°-exactly-once-è¯­ä¹‰-ğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç° Exactly Once è¯­ä¹‰ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/WaterDrop/#kafka-stream">Kafka Stream</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘kafka-ä¸-flink-çš„é›†æˆæ˜¯å¦‚ä½•å®ç°çš„-å¦‚ä½•ä¼˜åŒ–-flink-ä¸-kafka-ä¹‹é—´çš„æ•°æ®æµåŠ¨">ã€å›°éš¾ã€‘Kafka ä¸ Flink çš„é›†æˆæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿå¦‚ä½•ä¼˜åŒ– Flink ä¸ Kafka ä¹‹é—´çš„æ•°æ®æµåŠ¨ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/WaterDrop/#ã€å›°éš¾ã€‘kafka-çš„-stream-å’Œ-table-æ˜¯å¦‚ä½•ç›¸äº’è½¬æ¢çš„-å®ƒä»¬åœ¨-kafka-streams-ä¸­çš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆ">ã€å›°éš¾ã€‘Kafka çš„ Stream å’Œ Table æ˜¯å¦‚ä½•ç›¸äº’è½¬æ¢çš„ï¼Ÿå®ƒä»¬åœ¨ Kafka Streams ä¸­çš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/WaterDrop/#å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="kafka-é¢è¯•" tabindex="-1"><a class="header-anchor" href="#kafka-é¢è¯•" aria-hidden="true">#</a> Kafka é¢è¯•</h1><h2 id="kafka-ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#kafka-ç®€ä»‹" aria-hidden="true">#</a> Kafka ç®€ä»‹</h2><h3 id="ã€ç®€å•ã€‘kafka-æ˜¯ä»€ä¹ˆ-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ç®€å•ã€‘kafka-æ˜¯ä»€ä¹ˆ-ğŸŒŸ" aria-hidden="true">#</a> ã€ç®€å•ã€‘Kafka æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ</h3><p><strong>Kafka æ˜¯ä¸€ä¸ªå¼€æºåˆ†å¸ƒå¼äº‹ä»¶æµå¹³å°</strong>ã€‚æœ€åˆç”± LinkedIn å¼€å‘ï¼Œç°åœ¨æ˜¯ Apache é¡¶çº§é¡¹ç›®ã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070719480.gif" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>Kafka çš„æ ¸å¿ƒæ¦‚å¿µ</strong></p><ul><li><strong>æ¶ˆæ¯ï¼ˆMessageï¼‰</strong>ï¼šKafka çš„åŸºæœ¬æ•°æ®å•å…ƒã€‚</li><li><strong>ä¸»é¢˜ï¼ˆTopicï¼‰</strong>ï¼šæ¶ˆæ¯çš„é€»è¾‘åˆ†ç±»å®¹å™¨ï¼ŒæŒ‰ä¸šåŠ¡åˆ’åˆ†ã€‚</li><li><strong>åˆ†åŒºï¼ˆPartitionï¼‰</strong>ï¼šä¸»é¢˜çš„ç‰©ç†åˆ†ç‰‡ï¼Œæ¯ä¸ªåˆ†åŒºæ˜¯<strong>æœ‰åºä¸å¯å˜</strong>çš„æ¶ˆæ¯åºåˆ—ã€‚<strong>è¿™æ˜¯å®ç°é«˜å¹¶å‘å’Œæ‰©å±•æ€§çš„æ ¸å¿ƒ</strong>ã€‚</li><li><strong>æ¶ˆæ¯åç§»é‡ï¼ˆOffsetï¼‰</strong>ï¼šæ¶ˆæ¯åœ¨åˆ†åŒºä¸­çš„å”¯ä¸€ã€é€’å¢çš„ IDã€‚</li><li><strong>å‰¯æœ¬ï¼ˆReplicaï¼‰</strong>ï¼šåˆ†åŒºçš„å¤‡ä»½ï¼Œæä¾›æ•…éšœè½¬ç§»ã€‚ <ul><li><strong>é¢†å¯¼è€…å‰¯æœ¬</strong>ï¼šå¤„ç†æ‰€æœ‰è¯»å†™è¯·æ±‚ã€‚</li><li><strong>è¿½éšè€…å‰¯æœ¬</strong>ï¼šå¼‚æ­¥å¤åˆ¶é¢†å¯¼è€…æ•°æ®ï¼Œä½œä¸ºå¤‡ä»½ã€‚</li></ul></li><li><strong>ç”Ÿäº§è€…ï¼ˆProducerï¼‰</strong>ï¼šå‘ä¸»é¢˜çš„ç‰¹å®šåˆ†åŒºå‘å¸ƒæ¶ˆæ¯ã€‚</li><li><strong>æ¶ˆè´¹è€…ï¼ˆConsumerï¼‰</strong>ï¼šä»åˆ†åŒºè®¢é˜…å¹¶æ¶ˆè´¹æ¶ˆæ¯ã€‚</li><li><strong>æ¶ˆè´¹è€…ç»„ï¼ˆConsumer Groupï¼‰</strong>ï¼šç”±å¤šä¸ªæ¶ˆè´¹è€…ç»„æˆï¼Œ<strong>ä¸€ä¸ªåˆ†åŒºåªèƒ½è¢«ç»„å†…ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹</strong>ï¼Œä»è€Œå®ç°æ¨ªå‘æ‰©å±•å’Œè´Ÿè½½å‡è¡¡ã€‚</li><li><strong>æ¶ˆè´¹è€…åç§»é‡ï¼ˆConsumer Offsetï¼‰</strong>ï¼šæ¶ˆè´¹è€…ç»„å¯¹æ¯ä¸ªåˆ†åŒºçš„æ¶ˆè´¹è¿›åº¦è®°å½•ã€‚</li><li><strong>åˆ†åŒºå†å‡è¡¡ï¼ˆRebalanceï¼‰</strong>ï¼šå½“æ¶ˆè´¹è€…ç»„å†…æˆå‘˜å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨é‡æ–°åˆ†é…åˆ†åŒºæ‰€æœ‰æƒçš„æµç¨‹ï¼Œ<strong>æ˜¯ä¿è¯æ¶ˆè´¹ç«¯é«˜å¯ç”¨çš„æ ¸å¿ƒæœºåˆ¶</strong>ã€‚</li></ul><h3 id="ã€ç®€å•ã€‘kafka-æœ‰å“ªäº›æ ¸å¿ƒç»„ä»¶-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ç®€å•ã€‘kafka-æœ‰å“ªäº›æ ¸å¿ƒç»„ä»¶-ğŸŒŸ" aria-hidden="true">#</a> ã€ç®€å•ã€‘Kafka æœ‰å“ªäº›æ ¸å¿ƒç»„ä»¶ï¼ŸğŸŒŸ</h3><p>Kafka æœ‰ä»¥ä¸‹æ ¸å¿ƒç»„ä»¶ï¼š</p><table><thead><tr><th>ç»„ä»¶</th><th>æ ¸å¿ƒåŠŸèƒ½</th></tr></thead><tbody><tr><td><strong>Producer</strong></td><td>å‘å¸ƒæ•°æ®åˆ° Topicï¼Œæ”¯æŒè½®è¯¢/é”®å€¼/è‡ªå®šä¹‰åˆ†åŒºç­–ç•¥ï¼Œé‡‡ç”¨æ‰¹é‡å‹ç¼©æå‡åå</td></tr><tr><td><strong>Consumer</strong></td><td>é€šè¿‡æ¶ˆè´¹ç»„å®ç°è´Ÿè½½å‡è¡¡ï¼Œå•åˆ†åŒºä»…é™ç»„å†…ä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œé€šè¿‡ offset ç¡®ä¿é¡ºåº</td></tr><tr><td><strong>Broker</strong></td><td>é›†ç¾¤èŠ‚ç‚¹ï¼Œç®¡ç†åˆ†åŒºå‰¯æœ¬ï¼Œæ•…éšœæ—¶è‡ªåŠ¨åˆ‡æ¢ Leaderï¼Œä¿éšœé«˜å¯ç”¨</td></tr><tr><td><strong>Zookeeper</strong></td><td>åè°ƒé›†ç¾¤å…ƒæ•°æ®ä¸ Leader é€‰ä¸¾ï¼ˆæ³¨ï¼šæ–°ç‰ˆæœ¬é€æ­¥ç”¨ KRaft åè®®æ›¿ä»£ Zookeeperï¼‰</td></tr></tbody></table><h3 id="ã€ç®€å•ã€‘kafka-æœ‰å“ªäº›åº”ç”¨åœºæ™¯-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ç®€å•ã€‘kafka-æœ‰å“ªäº›åº”ç”¨åœºæ™¯-ğŸŒŸ" aria-hidden="true">#</a> ã€ç®€å•ã€‘Kafka æœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼ŸğŸŒŸ</h3><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202505111027731.webp" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li><strong>æ¶ˆæ¯é˜Ÿåˆ—</strong>ï¼šç”¨ä½œé«˜ååé‡çš„æ¶ˆæ¯ç³»ç»Ÿï¼Œå°†æ¶ˆæ¯ä»ä¸€ä¸ªç³»ç»Ÿä¼ é€’åˆ°å¦ä¸€ä¸ªç³»ç»Ÿ</li><li><strong>æ—¥å¿—é‡‡é›†åˆ†æ</strong>ï¼šé›†ä¸­æ”¶é›†æ—¥å¿—æ•°æ®ï¼Œç„¶åé€šè¿‡ Kafka ä¼ é€’åˆ°å®æ—¶ç›‘æ§ç³»ç»Ÿæˆ–å­˜å‚¨ç³»ç»Ÿ</li><li><strong>æµè®¡ç®—</strong>ï¼šå¤„ç†å®æ—¶æ•°æ®æµï¼Œå°†æ•°æ®ä¼ é€’ç»™å®æ—¶è®¡ç®—ç³»ç»Ÿï¼Œå¦‚ Apache Storm æˆ– Apache Flinkï¼Œè¿™äº›å®æ—¶è®¡ç®—å¯ç”¨äºæ¨èã€ç³»ç»Ÿç›‘æ§</li><li><strong>æŒ‡æ ‡æ”¶é›†å’Œç›‘æ§</strong>ï¼šæ”¶é›†æ¥è‡ªä¸åŒæœåŠ¡çš„ç›‘æ§æŒ‡æ ‡ï¼Œç»Ÿä¸€å­˜å‚¨å’Œå¤„ç†</li><li><strong>äº‹ä»¶æº¯æº</strong>ï¼šè®°å½•äº‹ä»¶å‘ç”Ÿçš„å†å²ï¼Œä»¥ä¾¿ç¨åè¿›è¡Œæ•°æ®å›æº¯æˆ–é‡æ–°å¤„ç†</li></ul><h2 id="kafka-å­˜å‚¨" tabindex="-1"><a class="header-anchor" href="#kafka-å­˜å‚¨" aria-hidden="true">#</a> Kafka å­˜å‚¨</h2><h3 id="ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å­˜å‚¨æ•°æ®-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å­˜å‚¨æ•°æ®-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å­˜å‚¨æ•°æ®ï¼ŸğŸŒŸğŸŒŸ</h3><div class="hint-container tip"><p class="hint-container-title">å…³é”®ç‚¹</p><p><strong>é€»è¾‘å­˜å‚¨</strong>ï¼šTopic -&gt; Partition -&gt; Record</p><p><strong>ç‰©ç†å­˜å‚¨</strong>ï¼šLogï¼ˆå¯¹åº” Partitionï¼‰ -&gt; LogSegment</p><ul><li>Segment æ–‡ä»¶åˆ†ç±» <ul><li>ç´¢å¼•æ–‡ä»¶ <ul><li>åç§»é‡ç´¢å¼•æ–‡ä»¶ï¼ˆ <code>&lt;offset&gt;.index</code> ï¼‰</li><li>æ—¶é—´æˆ³ç´¢å¼•æ–‡ä»¶ï¼ˆ <code>&lt;offset&gt;.timeindex</code> ï¼‰</li><li>å·²ç»ˆæ­¢äº‹åŠ¡çš„ç´¢å¼•æ–‡ä»¶ï¼ˆ<code>&lt;offset&gt;.txnindex</code>ï¼‰</li></ul></li><li>æ—¥å¿—æ•°æ®æ–‡ä»¶ï¼ˆ<code>&lt;offset&gt;.log</code>ï¼‰</li></ul></li><li>é»˜è®¤ï¼Œæ¯ä¸ª Segment å¤§å°ä¸è¶…è¿‡ 1Gï¼Œä¸”åªåŒ…å« 7 å¤©çš„æ•°æ®</li></ul></div><div class="hint-container info"><p class="hint-container-title">Kafka é€»è¾‘å­˜å‚¨</p></div><p>Kafka çš„æ•°æ®ç»“æ„é‡‡ç”¨ä¸‰çº§ç»“æ„ï¼Œå³ï¼šä¸»é¢˜ï¼ˆTopicï¼‰ã€åˆ†åŒºï¼ˆPartitionï¼‰ã€æ¶ˆæ¯ï¼ˆRecordï¼‰ã€‚</p><p>Kafka çš„ä¸‰å±‚æ¶ˆæ¯æ¶æ„ï¼š</p><ul><li>ç¬¬ä¸€å±‚æ˜¯ä¸»é¢˜å±‚ï¼Œæ¯ä¸ªä¸»é¢˜å¯ä»¥é…ç½® M ä¸ªåˆ†åŒºï¼Œè€Œæ¯ä¸ªåˆ†åŒºåˆå¯ä»¥é…ç½® N ä¸ªå‰¯æœ¬ã€‚</li><li>ç¬¬äºŒå±‚æ˜¯åˆ†åŒºå±‚ï¼Œæ¯ä¸ªåˆ†åŒºçš„ N ä¸ªå‰¯æœ¬ä¸­åªèƒ½æœ‰ä¸€ä¸ªå……å½“é¢†å¯¼è€…è§’è‰²ï¼Œå¯¹å¤–æä¾›æœåŠ¡ï¼›å…¶ä»– N-1 ä¸ªå‰¯æœ¬æ˜¯è¿½éšè€…å‰¯æœ¬ï¼Œåªæ˜¯æä¾›æ•°æ®å†—ä½™ä¹‹ç”¨ã€‚</li><li>ç¬¬ä¸‰å±‚æ˜¯æ¶ˆæ¯å±‚ï¼Œåˆ†åŒºä¸­åŒ…å«è‹¥å¹²æ¡æ¶ˆæ¯ï¼Œæ¯æ¡æ¶ˆæ¯çš„ä½ç§»ä» 0 å¼€å§‹ï¼Œä¾æ¬¡é€’å¢ã€‚</li><li>æœ€åï¼Œå®¢æˆ·ç«¯ç¨‹åºåªèƒ½ä¸åˆ†åŒºçš„é¢†å¯¼è€…å‰¯æœ¬è¿›è¡Œäº¤äº’ã€‚</li></ul><p>åœ¨ Kafka ä¸­ï¼Œä»»æ„ä¸€ä¸ª Topic ç»´æŠ¤äº†ä¸€ç»„ Partition æ—¥å¿—ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070720162.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>è¯·æ³¨æ„ï¼šè¿™é‡Œçš„ä¸»é¢˜åªæ˜¯ä¸€ä¸ªé€»è¾‘ä¸Šçš„æŠ½è±¡æ¦‚å¿µï¼Œå®é™…ä¸Šï¼Œ<strong>Kafka çš„åŸºæœ¬å­˜å‚¨å•å…ƒæ˜¯ Partition</strong>ã€‚Partition æ— æ³•åœ¨å¤šä¸ª Broker é—´è¿›è¡Œå†ç»†åˆ†ï¼Œä¹Ÿæ— æ³•åœ¨åŒä¸€ä¸ª Broker çš„å¤šä¸ªç£ç›˜ä¸Šè¿›è¡Œå†ç»†åˆ†ã€‚æ‰€ä»¥ï¼Œåˆ†åŒºçš„å¤§å°å—åˆ°å•ä¸ªæŒ‚è½½ç‚¹å¯ç”¨ç©ºé—´çš„é™åˆ¶ã€‚</p><p>Partiton å‘½åè§„åˆ™ä¸º Topic åç§° + æœ‰åºåºå·ï¼Œç¬¬ä¸€ä¸ª Partiton åºå·ä» 0 å¼€å§‹ï¼Œåºå·æœ€å¤§å€¼ä¸º Partition æ•°é‡å‡ 1ã€‚</p><div class="hint-container info"><p class="hint-container-title">Kafka ç‰©ç†å­˜å‚¨</p></div><p><code>Log</code> æ˜¯ Kafka ç”¨äºè¡¨ç¤ºæ—¥å¿—æ–‡ä»¶çš„ç»„ä»¶ã€‚<strong>æ¯ä¸ª Partiton å¯¹åº”ä¸€ä¸ª <code>Log</code> å¯¹è±¡</strong>ï¼Œåœ¨ç‰©ç†ç£ç›˜ä¸Šåˆ™å¯¹åº”ä¸€ä¸ªç›®å½•ã€‚å¦‚ï¼šåˆ›å»ºä¸€ä¸ªåŒåˆ†åŒºçš„ä¸»é¢˜ <code>test</code>ï¼Œé‚£ä¹ˆï¼ŒKafka ä¼šåœ¨ç£ç›˜ä¸Šåˆ›å»ºä¸¤ä¸ªå­ç›®å½•ï¼š<code>test-0</code> å’Œ <code>test-1</code>ï¼›è€Œåœ¨æœåŠ¡å™¨ç«¯ï¼Œè¿™å°±å¯¹åº”ä¸¤ä¸ª <code>Log</code> å¯¹è±¡ã€‚</p><p>å› ä¸ºåœ¨ä¸€ä¸ªå¤§æ–‡ä»¶ä¸­æŸ¥æ‰¾å’Œåˆ é™¤æ¶ˆæ¯æ˜¯éå¸¸è€—æ—¶ä¸”å®¹æ˜“å‡ºé”™çš„ã€‚æ‰€ä»¥ï¼ŒKafka å°†æ¯ä¸ª Partition åˆ‡å‰²æˆè‹¥å¹²ä¸ªç‰‡æ®µï¼Œå³æ—¥å¿—æ®µï¼ˆLog Segmentï¼‰ã€‚<strong>é»˜è®¤ï¼Œæ¯ä¸ª Segment å¤§å°ä¸è¶…è¿‡ 1Gï¼Œä¸”åªåŒ…å« 7 å¤©çš„æ•°æ®</strong>ã€‚å¦‚æœ Segment çš„æ¶ˆæ¯é‡è¾¾åˆ° 1Gï¼Œé‚£ä¹ˆè¯¥ Segment ä¼šå…³é—­ï¼ŒåŒæ—¶æ‰“å¼€ä¸€ä¸ªæ–°çš„ Segment è¿›è¡Œå†™å…¥ã€‚</p><p>Broker ä¼šä¸º Partition é‡Œçš„æ¯ä¸ª Segment æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å¥æŸ„ï¼ˆåŒ…æ‹¬ä¸æ´»è·ƒçš„ Segmentï¼‰ï¼Œå› æ­¤æ‰“å¼€çš„æ–‡ä»¶å¥æŸ„æ•°é€šå¸¸ä¼šæ¯”è¾ƒå¤šï¼Œè¿™ä¸ªéœ€è¦é€‚åº¦è°ƒæ•´ç³»ç»Ÿçš„è¿›ç¨‹æ–‡ä»¶å¥æŸ„å‚æ•°ã€‚<strong>æ­£åœ¨å†™å…¥çš„åˆ†ç‰‡ç§°ä¸ºæ´»è·ƒç‰‡æ®µï¼ˆactive segmentï¼‰ï¼Œæ´»è·ƒç‰‡æ®µæ°¸è¿œä¸ä¼šè¢«åˆ é™¤</strong>ã€‚</p><p>Segment æ–‡ä»¶å‘½åè§„åˆ™ï¼šPartition å…¨å±€çš„ç¬¬ä¸€ä¸ª segment ä» 0 å¼€å§‹ï¼Œåç»­æ¯ä¸ª segment æ–‡ä»¶åä¸ºä¸Šä¸€ä¸ª segment æ–‡ä»¶æœ€åä¸€æ¡æ¶ˆæ¯çš„ offset å€¼ã€‚æ•°å€¼æœ€å¤§ä¸º 64 ä½ long å¤§å°ï¼Œ19 ä½æ•°å­—å­—ç¬¦é•¿åº¦ï¼Œæ²¡æœ‰æ•°å­—ç”¨ 0 å¡«å……ã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070721654.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Segment æ–‡ä»¶å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li><strong>ç´¢å¼•æ–‡ä»¶</strong><ul><li><strong>åç§»é‡ç´¢å¼•æ–‡ä»¶ï¼ˆ <code>&lt;offset&gt;.index</code> ï¼‰</strong></li><li><strong>æ—¶é—´æˆ³ç´¢å¼•æ–‡ä»¶ï¼ˆ <code>&lt;offset&gt;.timeindex</code> ï¼‰</strong></li><li><strong>å·²ç»ˆæ­¢äº‹åŠ¡çš„ç´¢å¼•æ–‡ä»¶ï¼ˆ<code>&lt;offset&gt;.txnindex</code>ï¼‰</strong>ï¼šå¦‚æœæ²¡æœ‰ä½¿ç”¨ Kafka äº‹åŠ¡ï¼Œåˆ™ä¸ä¼šåˆ›å»ºè¯¥æ–‡ä»¶</li></ul></li><li><strong>æ—¥å¿—æ•°æ®æ–‡ä»¶ï¼ˆ<code>&lt;offset&gt;.log</code>ï¼‰</strong></li></ul><h3 id="ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•æŒä¹…åŒ–-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•æŒä¹…åŒ–-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•æŒä¹…åŒ–ï¼ŸğŸŒŸğŸŒŸ</h3><div class="hint-container tip"><p class="hint-container-title">å…³é”®ç‚¹</p><p>Kafka æŒä¹…åŒ–å…³é”®æœºåˆ¶ï¼š<strong>é¡ºåº I/O + é›¶æ‹·è´ + PageCache</strong></p></div><p>Kafka æŒä¹…åŒ–æœ‰ä»¥ä¸‹æ ¸å¿ƒæœºåˆ¶ï¼š</p><ul><li><strong>é¡ºåº I/O</strong>ï¼š<strong>Kafka æ•°æ®ä»¥æ—¥å¿—å½¢å¼å­˜å‚¨äºç£ç›˜</strong>ã€‚é‡‡ç”¨<strong>è¿½åŠ å†™å…¥ï¼Œä¸å¯ä¿®æ”¹</strong>ï¼Œä»¥æ­¤é¿å…åœ¨ç£ç›˜ä¸Šéšæœºå†™å…¥æ€§èƒ½ä¸é«˜çš„é—®é¢˜ã€‚</li><li><strong>é›¶æ‹·è´</strong>ï¼šæ•°æ®ä»ç£ç›˜ç›´æ¥å‘é€åˆ°ç½‘å¡ï¼Œ<strong>ç»•è¿‡åº”ç”¨ç¨‹åº</strong>ï¼Œæå¤§æå‡ç½‘ç»œä¼ è¾“æ•ˆç‡ï¼Œé™ä½ CPU å¼€é”€ã€‚</li><li><strong>åˆ·ç›˜æœºåˆ¶</strong>ï¼šæ•°æ®å…ˆå†™å…¥<strong>é¡µç¼“å­˜</strong>ï¼Œå†åœ¨åˆé€‚æ—¶æœºå†™å…¥ç£ç›˜ã€‚</li><li><strong>æ—¥å¿—æ¸…ç†</strong>ï¼šåŸºäºæ—¶é—´æˆ–ç©ºé—´çš„<strong>ä¿ç•™ç­–ç•¥</strong>è‡ªåŠ¨æ¸…ç†æ—§æ•°æ®ï¼Œé˜²æ­¢ç£ç›˜è€—å°½ã€‚</li><li><strong>å¤šç´¢å¼•</strong>ï¼šä¸ºæ—¥å¿—æ®µå»ºç«‹â€œä½ç§»-&gt;ç‰©ç†ä½ç½®â€çš„<strong>éƒ¨åˆ†ç´¢å¼•</strong>ï¼Œå®ç° <strong>å¿«é€Ÿå®šä½ + é¡ºåºæ‰«æ</strong> çš„é«˜æ•ˆè¯»å–ã€‚</li><li><strong>åˆ†æ®µå­˜å‚¨</strong>ï¼šæ—¥å¿—è¢«åˆ‡åˆ†ä¸ºå¤šä¸ª<strong>æ—¥å¿—æ®µæ–‡ä»¶</strong>ï¼Œä¾¿äºç®¡ç†å’Œæ¸…ç†ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-å¦‚ä½•æ¸…ç†æ•°æ®-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-å¦‚ä½•æ¸…ç†æ•°æ®-ğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka å¦‚ä½•æ¸…ç†æ•°æ®ï¼ŸğŸŒŸ</h3><p><strong>æ—¥å¿—åˆ†æ®µç»“æ„</strong></p><ul><li><strong>å¹²å‡€æ®µ</strong>ï¼šè¿™éƒ¨åˆ†æ¶ˆæ¯ä¹‹å‰å·²ç»è¢«æ¸…ç†è¿‡ï¼Œæ¯ä¸ªé”®åªå­˜åœ¨ä¸€ä¸ªå€¼ã€‚</li><li><strong>æ±¡æµŠæ®µ</strong>ï¼šåœ¨ä¸Šä¸€æ¬¡æ¸…ç†åå†™å…¥çš„æ–°æ¶ˆæ¯ã€‚</li></ul><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20200621135557.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å¦‚æœ Kafka å¯ç”¨äº†æ¸…ç†åŠŸèƒ½ï¼ˆé€šè¿‡ <code>log.cleaner.enabled</code> é…ç½®ï¼‰ï¼Œæ¯ä¸ª Broker å¯åŠ¨æ¸…ç†ç®¡ç†çº¿ç¨‹ + N ä¸ªæ¸…ç†çº¿ç¨‹ï¼ˆæŒ‰åˆ†åŒºåˆ†é…ï¼‰</p><p>å¯¹äºä¸€ä¸ªæ®µï¼Œæ¸…ç†å‰åçš„æ•ˆæœå¦‚ä¸‹ï¼š</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20200621140117.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Apache Kafka æ¸…ç†æ•°æ®ä¸»è¦é€šè¿‡ <strong>æ—¥å¿—ä¿ç•™ç­–ç•¥ï¼ˆLog Retentionï¼‰</strong> å’Œ <strong>å‹ç¼©ç­–ç•¥ï¼ˆCompactionï¼‰</strong> å®ç°ï¼Œä»¥ä¸‹æ˜¯æ ¸å¿ƒè¦ç‚¹æ¦‚æ‹¬ï¼š</p><p><strong>åŸºäºæ—¶é—´çš„æ¸…ç†</strong></p><ul><li><strong>é…ç½®å‚æ•°</strong>ï¼š<code>log.retention.hours</code>ï¼ˆé»˜è®¤ 168 å°æ—¶/7 å¤©ï¼‰ã€<code>log.retention.minutes</code>ã€<code>log.retention.ms</code>ã€‚</li><li><strong>æœºåˆ¶</strong>ï¼šåˆ é™¤è¶…è¿‡æŒ‡å®šæ—¶é—´çš„æ—§æ—¥å¿—æ®µï¼ˆlog segmentsï¼‰ã€‚</li><li><strong>è§¦å‘æ¡ä»¶</strong>ï¼šç”± broker åå°çº¿ç¨‹å®šæœŸæ‰«æï¼ˆé»˜è®¤ 5 åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡ï¼Œé€šè¿‡<code>log.retention.check.interval.ms</code>è°ƒæ•´ï¼‰ã€‚</li></ul><p><strong>åŸºäºç©ºé—´çš„æ¸…ç†</strong></p><ul><li><strong>é…ç½®å‚æ•°</strong>ï¼š<code>log.retention.bytes</code>ï¼ˆæ•´ä¸ªåˆ†åŒºçš„æœ€å¤§å­—èŠ‚æ•°ï¼‰ã€<code>log.segment.bytes</code>ï¼ˆå•ä¸ªæ—¥å¿—æ®µå¤§å°ï¼Œé»˜è®¤ 1GBï¼‰ã€‚</li><li><strong>æœºåˆ¶</strong>ï¼šå½“åˆ†åŒºæ€»å¤§å°è¶…è¿‡é™åˆ¶æ—¶ï¼Œåˆ é™¤æœ€æ—§çš„æ—¥å¿—æ®µã€‚</li></ul><p><strong>æ—¥å¿—å‹ç¼©</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šä¿ç•™æ¯ä¸ª key çš„æœ€æ–°å€¼ï¼ˆé€‚ç”¨äº key-value æ•°æ®ï¼Œå¦‚æ•°æ®åº“å˜æ›´æ—¥å¿—ï¼‰ã€‚</li><li><strong>é…ç½®å‚æ•°</strong>ï¼š <ul><li><code>cleanup.policy=compact</code>ï¼ˆå¯ç”¨å‹ç¼©ï¼‰ã€‚</li><li><code>min.cleanable.dirty.ratio</code>ï¼ˆæ§åˆ¶å‹ç¼©è§¦å‘æ—¶æœºï¼Œé»˜è®¤ 0.5ï¼‰ã€‚</li></ul></li><li><strong>æœºåˆ¶</strong>ï¼š <ol><li>ä¿ç•™æ¯ä¸ª key çš„æœ€åä¸€æ¡æœ‰æ•ˆè®°å½•ï¼Œåˆ é™¤æ—§ç‰ˆæœ¬ã€‚</li><li>å‘¨æœŸæ€§åˆå¹¶æ—¥å¿—æ®µï¼ˆç”±<code>log.cleaner</code>çº¿ç¨‹æ‰§è¡Œï¼‰ã€‚</li></ol></li></ul><p><strong>æ‰‹åŠ¨æ¸…ç†</strong></p><ul><li><strong>åˆ é™¤ Topic</strong>ï¼š<code>kafka-topics.sh --delete --topic &lt;topic_name&gt;</code>ï¼ˆéœ€é…ç½®<code>delete.topic.enable=true</code>ï¼‰ã€‚</li><li><strong>åˆ é™¤æ•°æ®æ–‡ä»¶</strong>ï¼šç›´æ¥åˆ é™¤æ—¥å¿—ç›®å½•ï¼ˆ<code>log.dirs</code>ï¼‰ä¸­çš„åˆ†åŒºæ–‡ä»¶ï¼ˆéœ€è°¨æ…ï¼Œå¯èƒ½å¯¼è‡´æ•°æ®ä¸ä¸€è‡´ï¼‰ã€‚</li></ul><p><strong>å…³é”®æ³¨æ„äº‹é¡¹</strong></p><ul><li><strong>æ¸…ç†å»¶è¿Ÿ</strong>ï¼šå®é™…æ¸…ç†å¯èƒ½å› æ£€æŸ¥é—´éš”æˆ–èµ„æºç«äº‰å»¶è¿Ÿã€‚</li><li><strong>ç£ç›˜ç©ºé—´ç›‘æ§</strong>ï¼šä¾èµ–æ¸…ç†å¯èƒ½ä¸è¶³ï¼Œéœ€ç›‘æ§ç£ç›˜ä½¿ç”¨ç‡ã€‚</li><li><strong>å‹ç¼©ä¸ä¿ç•™ç­–ç•¥å†²çª</strong>ï¼šè‹¥åŒæ—¶è®¾ç½®<code>cleanup.policy=compact,delete</code>ï¼Œå‹ç¼©ä¼˜å…ˆäºæ—¶é—´/å¤§å°åˆ é™¤ã€‚</li><li><strong>æ¶ˆè´¹è€…åç§»é‡å½±å“</strong>ï¼šåˆ é™¤æ—§æ•°æ®å¯èƒ½å¯¼è‡´æ¶ˆè´¹è€…æ— æ³•å›æº¯ï¼ˆéœ€è°ƒæ•´<code>offsets.retention.minutes</code>ï¼‰ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-å¦‚ä½•æ£€ç´¢æ•°æ®-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-å¦‚ä½•æ£€ç´¢æ•°æ®-ğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka å¦‚ä½•æ£€ç´¢æ•°æ®ï¼ŸğŸŒŸ</h3><ul><li><strong>åŠ¨æ€æ¶ˆè´¹èµ·ç‚¹</strong><ul><li>æ”¯æŒä»ä»»æ„æœ‰æ•ˆåç§»é‡å¼€å§‹æ¶ˆè´¹</li></ul></li><li><strong>ç¨€ç–ç´¢å¼•è®¾è®¡</strong><ul><li>ç´¢å¼•æ–‡ä»¶ï¼ˆ<code>.index</code>ï¼‰å­˜å‚¨ offsetâ†’position æ˜ å°„</li><li>é‡‡ç”¨<strong>é—´éš”å­˜å‚¨</strong>ï¼ˆå¯é…ç½®<code>index.interval.bytes</code>ï¼‰</li><li>æ¯ä¸ªæ¡ç›®åŒ…å«ï¼š <ul><li>æ¶ˆæ¯åç§»é‡ï¼ˆoffsetï¼‰</li><li>ç‰©ç†ä½ç½®ï¼ˆpositionï¼‰</li></ul></li></ul></li><li><strong>ç´¢å¼•è‡ªæ„ˆèƒ½åŠ›</strong><ul><li>ç´¢å¼•æ— æ ¡éªŒå’Œï¼ŒæŸååè‡ªåŠ¨é‡å»º</li><li>åˆ é™¤ç´¢å¼•æ–‡ä»¶å®‰å…¨ï¼ˆKafka è‡ªåŠ¨é‡æ–°ç”Ÿæˆï¼‰</li></ul></li><li><strong>æ–‡ä»¶å¯¹åº”å…³ç³»</strong><ul><li>æ¯ä¸ªæ—¥å¿—åˆ†æ®µï¼ˆSegmentï¼‰å¯¹åº”ï¼š</li><li>æ•°æ®æ–‡ä»¶ï¼ˆ<code>.log</code>ï¼‰</li><li>ç´¢å¼•æ–‡ä»¶ï¼ˆ<code>.index</code>ï¼‰</li><li>æŒ‰èµ·å§‹åç§»é‡å‘½åï¼ˆå¦‚ <code>00000000000000368769.index</code>ï¼‰</li></ul></li></ul><p>ä¸‹é¢æ˜¯ Kafka ä¸­åˆ†æ®µçš„æ—¥å¿—æ•°æ®æ–‡ä»¶å’Œåç§»é‡ç´¢å¼•æ–‡ä»¶çš„å¯¹åº”æ˜ å°„å…³ç³»å›¾ï¼ˆå…¶ä¸­ä¹Ÿè¯´æ˜äº†å¦‚ä½•æŒ‰ç…§èµ·å§‹åç§»é‡æ¥å®šä½åˆ°æ—¥å¿—æ•°æ®æ–‡ä»¶ä¸­çš„å…·ä½“æ¶ˆæ¯ï¼‰ã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070722556.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°æ—¥å¿—å‹ç¼©" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°æ—¥å¿—å‹ç¼©" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å®ç°æ—¥å¿—å‹ç¼©ï¼Ÿ</h3><p>æ—¥å¿—å‹ç¼©é€šè¿‡ Key-Level å»é‡ä¼˜åŒ–å­˜å‚¨æ•ˆç‡ï¼Œé€‚ç”¨äºçŠ¶æ€è·Ÿè¸ªç±»åœºæ™¯ï¼Œéœ€æƒè¡¡å®æ—¶æ€§ä¸èµ„æºå¼€é”€ã€‚é…ç½®æ—¶å»ºè®®ç»“åˆä¸šåŠ¡æ•°æ®æ›´æ–°é¢‘ç‡è°ƒæ•´<code>log.cleaner</code>ç›¸å…³å‚æ•°ã€‚</p><p><strong>åŸºæœ¬æ¦‚å¿µ</strong></p><ul><li><strong>åŠŸèƒ½æœ¬è´¨</strong>ï¼šä¿ç•™æ¯ä¸ªé”®ï¼ˆKeyï¼‰çš„æœ€æ–°æ¶ˆæ¯ï¼Œåˆ é™¤å†å²é‡å¤å€¼</li><li><strong>è§¦å‘æ¡ä»¶</strong>ï¼šéœ€é…ç½®<code>log.cleanup.policy=compact</code></li><li><strong>æ‰§è¡Œä¸»ä½“</strong>ï¼šåå° Cleaner çº¿ç¨‹å‘¨æœŸæ€§æ‰«æå‹ç¼©</li></ul><p><strong>å·¥ä½œæœºåˆ¶</strong></p><table><thead><tr><th>ç¯èŠ‚</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>å†™å…¥é˜¶æ®µ</strong></td><td>æ‰€æœ‰æ¶ˆæ¯ï¼ˆå«é‡å¤ Keyï¼‰æ­£å¸¸å†™å…¥æ—¥å¿—</td></tr><tr><td><strong>å‹ç¼©é˜¶æ®µ</strong></td><td>Cleaner çº¿ç¨‹æ‰«ææ—¥å¿—ï¼Œå¯¹åŒä¸€ Key åªä¿ç•™ offset æœ€å¤§çš„è®°å½•</td></tr><tr><td><strong>æ¸…ç†é˜¶æ®µ</strong></td><td>è¢«æ ‡è®°åˆ é™¤çš„æ¶ˆæ¯æœ€ç»ˆè¢«ç‰©ç†æ¸…é™¤</td></tr></tbody></table><p><strong>å…¸å‹åº”ç”¨åœºæ™¯</strong></p><ul><li><strong>æ•°æ®åº“å˜æ›´æ—¥å¿—</strong>ï¼ˆCDCï¼‰ï¼šä»…ä¿ç•™æ•°æ®è¡¨çš„æœ€ç»ˆçŠ¶æ€</li><li><strong>è®¾å¤‡çŠ¶æ€ç›‘æ§</strong>ï¼šå­˜å‚¨ç‰©è”ç½‘è®¾å¤‡æœ€æ–°ä¸ŠæŠ¥æ•°æ®</li><li><strong>é…ç½®ç®¡ç†ä¸­å¿ƒ</strong>ï¼šè®°å½•é…ç½®é¡¹æœ€æ–°ç‰ˆæœ¬</li><li><strong>ä¼šè¯æŒä¹…åŒ–</strong>ï¼šä¿å­˜ç”¨æˆ·ä¼šè¯æœ€æ–°ä¿¡æ¯</li></ul><p><strong>ä¸å…¶ä»–æœºåˆ¶çš„å¯¹æ¯”</strong></p><table><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>æ—¥å¿—å‹ç¼©</strong></th><th><strong>æ—¥å¿—åˆ é™¤</strong>ï¼ˆæŒ‰æ—¶é—´/å¤§å°ï¼‰</th></tr></thead><tbody><tr><td><strong>ä¿ç•™ç­–ç•¥</strong></td><td>æŒ‰ Key ä¿ç•™æœ€æ–°å€¼</td><td>æŒ‰æ—¶é—´/æ–‡ä»¶å¤§å°åˆ é™¤æ—§æ•°æ®</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>éœ€è¦ Key çº§çŠ¶æ€è¿½æº¯</td><td>åªéœ€ä¿ç•™è¿‘æœŸæ•°æ®</td></tr><tr><td><strong>å¯å…±å­˜æ€§</strong></td><td>å¯ä¸åˆ é™¤ç­–ç•¥åŒæ—¶é…ç½®</td><td>-</td></tr></tbody></table><p><strong>æ³¨æ„äº‹é¡¹</strong></p><ul><li><strong>å»¶è¿Ÿæ€§</strong>ï¼šå‹ç¼©éå®æ—¶ï¼Œå­˜åœ¨æ•°æ®æœ€ç»ˆä¸€è‡´æ€§</li><li><strong>èµ„æºæ¶ˆè€—</strong>ï¼šå‹ç¼©è¿‡ç¨‹å ç”¨ CPU/IO èµ„æº</li><li><strong>ç‰¹æ®Šé”®å¤„ç†</strong>ï¼š<code>null</code>é”®æ¶ˆæ¯ä¸ä¼šè¢«å‹ç¼©ä¿ç•™</li><li><strong>ç›‘æ§æŒ‡æ ‡</strong>ï¼šå…³æ³¨<code>kafka.log:type=LogCleanerManager</code>ç›¸å…³æŒ‡æ ‡</li></ul><h2 id="kafka-ç”Ÿäº§æ¶ˆè´¹" tabindex="-1"><a class="header-anchor" href="#kafka-ç”Ÿäº§æ¶ˆè´¹" aria-hidden="true">#</a> Kafka ç”Ÿäº§æ¶ˆè´¹</h2><h3 id="ã€ä¸­ç­‰ã€‘kafka-å‘é€æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-å‘é€æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka å‘é€æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„ï¼ŸğŸŒŸğŸŒŸ</h3><div class="hint-container tip"><p class="hint-container-title">å…³é”®ç‚¹</p><ol><li><strong>åºåˆ—åŒ–</strong></li><li><strong>é€‰æ‹©åˆ†åŒº</strong></li><li><strong>æš‚å­˜ç¼“å†²åŒº</strong></li><li><strong>æ‰¹æ¬¡ä¼ è¾“</strong></li></ol></div><p>Kafka ç”Ÿäº§è€…ç”¨ä¸€ä¸ª <code>ProducerRecord</code> å¯¹è±¡æ¥æŠ½è±¡ä¸€æ¡è¦å‘é€çš„æ¶ˆæ¯ï¼Œ <code>ProducerRecord</code> å¯¹è±¡éœ€è¦åŒ…å«ç›®æ ‡ä¸»é¢˜å’Œè¦å‘é€çš„å†…å®¹ï¼Œè¿˜å¯ä»¥æŒ‡å®šé”®æˆ–åˆ†åŒºã€‚å…¶å‘é€æ¶ˆæ¯æµç¨‹å¦‚ä¸‹ï¼š</p><p>ï¼ˆ1ï¼‰<strong>åºåˆ—åŒ–</strong> - ç”Ÿäº§è€…è¦å…ˆæŠŠé”®å’Œå€¼åºåˆ—åŒ–æˆå­—èŠ‚æ•°ç»„ï¼Œè¿™æ ·å®ƒä»¬æ‰èƒ½å¤Ÿåœ¨ç½‘ç»œä¸­ä¼ è¾“ã€‚</p><p>ï¼ˆ2ï¼‰<strong>åˆ†åŒº</strong> - æ•°æ®è¢«ä¼ ç»™åˆ†åŒºå™¨ã€‚å¦‚æœåœ¨ <code>ProducerRecord</code> ä¸­å·²ç»æŒ‡å®šäº†åˆ†åŒºï¼Œé‚£ä¹ˆåˆ†åŒºå™¨ä»€ä¹ˆä¹Ÿä¸ä¼šåšï¼›å¦åˆ™ï¼Œåˆ†åŒºå™¨ä¼šæ ¹æ® <code>ProducerRecord</code> çš„é”®æ¥é€‰æ‹©ä¸€ä¸ªåˆ†åŒºã€‚é€‰å®šåˆ†åŒºåï¼Œç”Ÿäº§è€…å°±çŸ¥é“è¯¥æŠŠæ¶ˆæ¯å‘é€ç»™å“ªä¸ªä¸»é¢˜çš„å“ªä¸ªåˆ†åŒºã€‚</p><p>ï¼ˆ3ï¼‰<strong>æ‰¹æ¬¡ä¼ è¾“</strong> - æ¥ç€ï¼Œè¿™æ¡è®°å½•ä¼šè¢«æ·»åŠ åˆ°ä¸€ä¸ªè®°å½•æ‰¹æ¬¡ä¸­ã€‚è¿™ä¸ªæ‰¹æ¬¡ä¸­çš„æ‰€æœ‰æ¶ˆæ¯éƒ½ä¼šè¢«å‘é€åˆ°ç›¸åŒçš„ä¸»é¢˜å’Œåˆ†åŒºä¸Šã€‚æœ‰ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹è´Ÿè´£å°†è¿™äº›è®°å½•æ‰¹æ¬¡å‘é€åˆ°ç›¸åº” Broker ä¸Šã€‚</p><ul><li><strong>æ‰¹æ¬¡ï¼Œå°±æ˜¯ä¸€ç»„æ¶ˆæ¯ï¼Œè¿™äº›æ¶ˆæ¯å±äºåŒä¸€ä¸ªä¸»é¢˜å’Œåˆ†åŒº</strong>ã€‚</li><li>å‘é€æ—¶ï¼Œä¼šæŠŠæ¶ˆæ¯åˆ†æˆæ‰¹æ¬¡ä¼ è¾“ï¼Œå¦‚æœæ¯æ¬¡åªå‘é€ä¸€ä¸ªæ¶ˆæ¯ï¼Œä¼šå ç”¨å¤§é‡çš„ç½‘è·¯å¼€é”€ã€‚</li></ul><p>ï¼ˆ4ï¼‰<strong>å“åº”</strong> - æœåŠ¡å™¨æ”¶åˆ°æ¶ˆæ¯ä¼šè¿”å›ä¸€ä¸ªå“åº”ã€‚</p><ul><li>å¦‚æœ<strong>æˆåŠŸ</strong>ï¼Œåˆ™è¿”å›ä¸€ä¸ª <code>RecordMetaData</code> å¯¹è±¡ï¼Œå®ƒåŒ…å«äº†ä¸»é¢˜ã€åˆ†åŒºã€åç§»é‡ï¼›</li><li>å¦‚æœ<strong>å¤±è´¥</strong>ï¼Œåˆ™è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚ç”Ÿäº§è€…åœ¨æ”¶åˆ°é”™è¯¯åï¼Œå¯ä»¥è¿›è¡Œé‡è¯•ï¼Œé‡è¯•æ¬¡æ•°å¯ä»¥åœ¨é…ç½®ä¸­æŒ‡å®šã€‚å¤±è´¥ä¸€å®šæ¬¡æ•°åï¼Œå°±è¿”å›é”™è¯¯æ¶ˆæ¯ã€‚</li></ul><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20200528224323.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ç”Ÿäº§è€…å‘ Broker å‘é€æ¶ˆæ¯æ—¶æ˜¯æ€ä¹ˆç¡®å®šå‘å“ªä¸€ä¸ª Broker å‘é€æ¶ˆæ¯ï¼Ÿ</p><ul><li>ç”Ÿäº§è€…ä¼šå‘ä»»æ„ broker å‘é€ä¸€ä¸ªå…ƒæ•°æ®è¯·æ±‚ï¼ˆ<code>MetadataRequest</code>ï¼‰ï¼Œè·å–åˆ°æ¯ä¸€ä¸ªåˆ†åŒºå¯¹åº”çš„ Leader ä¿¡æ¯ï¼Œå¹¶ç¼“å­˜åˆ°æœ¬åœ°ã€‚</li><li>ç”Ÿäº§è€…åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œä¼šæŒ‡å®š Partition æˆ–è€…é€šè¿‡ key å¾—åˆ°åˆ°ä¸€ä¸ª Partitionï¼Œç„¶åæ ¹æ® Partition ä»ç¼“å­˜ä¸­è·å–ç›¸åº”çš„ Leader ä¿¡æ¯ã€‚</li></ul><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20200621113043.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="ã€ç®€å•ã€‘kafka-ä¸ºä»€ä¹ˆè¦æ”¯æŒæ¶ˆè´¹è€…ç¾¤ç»„-ğŸŒŸğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ç®€å•ã€‘kafka-ä¸ºä»€ä¹ˆè¦æ”¯æŒæ¶ˆè´¹è€…ç¾¤ç»„-ğŸŒŸğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€ç®€å•ã€‘Kafka ä¸ºä»€ä¹ˆè¦æ”¯æŒæ¶ˆè´¹è€…ç¾¤ç»„ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</h3><div class="hint-container tip"><p class="hint-container-title">å…³é”®ç‚¹</p><ul><li>æ¶ˆè´¹è€…ç¾¤ç»„ï¼Œä»¥ç»„ä¸ºç»´åº¦è®¢é˜… Topicï¼Œå¹¶åˆ†æ‘Šåˆ†åŒºï¼Œä»¥å‡è¡¡è´Ÿè½½ã€‚</li><li>ä¸€ä¸ªåˆ†åŒºåªèƒ½åˆ†é…ç»™æ¶ˆè´¹è€…ç¾¤ç»„ä¸­çš„ä¸€ä¸ªå®ä¾‹ã€‚</li><li>æ¶ˆè´¹è€…æ•°é‡å‘ç”Ÿå˜åŒ–ï¼Œæˆ–ä¸»é¢˜åˆ†åŒºæ•°å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šè§¦å‘åˆ†åŒºå†å‡è¡¡ã€‚</li></ul></div><div class="hint-container info"><p class="hint-container-title">æ¶ˆè´¹è€…</p></div><p>æ¯ä¸ª Consumer çš„å”¯ä¸€å…ƒæ•°æ®æ˜¯è¯¥ Consumer åœ¨æ—¥å¿—ä¸­æ¶ˆè´¹çš„ä½ç½®ã€‚è¿™ä¸ªåç§»é‡æ˜¯ç”± Consumer æ§åˆ¶çš„ï¼šConsumer é€šå¸¸ä¼šåœ¨è¯»å–è®°å½•æ—¶çº¿æ€§çš„å¢åŠ å…¶åç§»é‡ã€‚ä½†å®é™…ä¸Šï¼Œç”±äºä½ç½®ç”± Consumer æ§åˆ¶ï¼Œæ‰€ä»¥ Consumer å¯ä»¥é‡‡ç”¨ä»»ä½•é¡ºåºæ¥æ¶ˆè´¹è®°å½•ã€‚</p><p><strong>ä¸€æ¡æ¶ˆæ¯åªæœ‰è¢«æäº¤ï¼Œæ‰ä¼šè¢«æ¶ˆè´¹è€…è·å–åˆ°</strong>ã€‚å¦‚ä¸‹å›¾ï¼Œåªèƒ½æ¶ˆè´¹ Message0ã€Message1ã€Message2ï¼š</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20200621113917.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="hint-container info"><p class="hint-container-title">æ¶ˆè´¹è€…ç¾¤ç»„</p></div><p><strong>Consumer Group æ˜¯ Kafka æä¾›çš„å¯æ‰©å±•ä¸”å…·æœ‰å®¹é”™æ€§çš„æ¶ˆè´¹è€…æœºåˆ¶</strong>ã€‚</p><p>Kafka çš„å†™å…¥æ•°æ®é‡å¾ˆåºå¤§ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹æ¶ˆæ¯é€Ÿåº¦å¾ˆæ…¢ï¼Œæ—¶é—´é•¿äº†ï¼Œå°±ä¼šé€ æˆæ•°æ®ç§¯å‹ã€‚ä¸ºäº†å‡å°‘æ•°æ®ç§¯å‹ï¼ŒKafka æ”¯æŒæ¶ˆè´¹è€…ç¾¤ç»„ï¼Œå¯ä»¥è®©å¤šä¸ªæ¶ˆè´¹è€…å¹¶å‘æ¶ˆè´¹æ¶ˆæ¯ï¼Œå¯¹æ•°æ®è¿›è¡Œåˆ†æµã€‚</p><p>Kafka æ¶ˆè´¹è€…ä»å±äºæ¶ˆè´¹è€…ç¾¤ç»„ï¼Œ<strong>ä¸€ä¸ªç¾¤ç»„é‡Œçš„ Consumer è®¢é˜…åŒä¸€ä¸ª Topicï¼Œä¸€ä¸ªä¸»é¢˜æœ‰å¤šä¸ª Partitionï¼Œæ¯ä¸€ä¸ª Partition åªèƒ½éš¶å±äºæ¶ˆè´¹è€…ç¾¤ç»„ä¸­çš„ä¸€ä¸ª Consumer</strong>ã€‚</p><p>å¦‚æœè¶…è¿‡ä¸»é¢˜çš„åˆ†åŒºæ•°é‡ï¼Œé‚£ä¹ˆæœ‰ä¸€éƒ¨åˆ†æ¶ˆè´¹è€…å°±ä¼šè¢«é—²ç½®ï¼Œä¸ä¼šæ¥æ”¶åˆ°ä»»ä½•æ¶ˆæ¯ã€‚</p><p>åŒä¸€æ—¶åˆ»ï¼Œ<strong>ä¸€æ¡æ¶ˆæ¯åªèƒ½è¢«åŒä¸€æ¶ˆè´¹è€…ç»„ä¸­çš„ä¸€ä¸ªæ¶ˆè´¹è€…å®ä¾‹æ¶ˆè´¹</strong>ã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070722981.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>ä¸åŒæ¶ˆè´¹è€…ç¾¤ç»„ä¹‹é—´äº’ä¸å½±å“</strong>ã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070723165.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="ã€ä¸­ç­‰ã€‘kafka-æ¶ˆè´¹æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-æ¶ˆè´¹æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka æ¶ˆè´¹æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„ï¼ŸğŸŒŸğŸŒŸ</h3><div class="hint-container tip"><p class="hint-container-title">å…³é”®ç‚¹</p><ul><li>æ¶ˆè´¹è€…ç¾¤ç»„è®¢é˜… Topic</li><li>æ¶ˆè´¹è€…è½®æ‰¹æ¬¡æ‹‰å–æ¶ˆæ¯</li><li>å¤„ç†å®Œæ¶ˆæ¯åï¼Œæäº¤åç§»é‡ï¼ˆOffsetï¼‰</li></ul></div><p>Kafka æ¶ˆè´¹è€…é€šè¿‡ <code>pull</code> æ¨¡å¼æ¥è·å–æ¶ˆæ¯ï¼Œä½†æ˜¯è·å–æ¶ˆæ¯æ—¶å¹¶ä¸æ˜¯ç«‹åˆ»è¿”å›ç»“æœï¼Œéœ€è¦è€ƒè™‘ä¸¤ä¸ªå› ç´ ï¼š</p><ul><li>æ¶ˆè´¹è€…é€šè¿‡ <code>customer.poll(time)</code> ä¸­è®¾ç½®ç­‰å¾…æ—¶é—´</li><li>Broker ä¼šç­‰å¾…ç´¯è®¡ä¸€å®šé‡æ•°æ®ï¼Œç„¶åå‘é€ç»™æ¶ˆè´¹è€…ã€‚è¿™æ ·å¯ä»¥å‡å°‘ç½‘ç»œå¼€é”€ã€‚</li></ul><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070724283.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><code>pull</code> é™¤äº†è·å–æ¶ˆæ¯å¤–ï¼Œè¿˜æœ‰å…¶ä»–ä½œç”¨ï¼š</p><ul><li><strong>å‘é€å¿ƒè·³ä¿¡æ¯</strong>ã€‚æ¶ˆè´¹è€…é€šè¿‡å‘è¢«æŒ‡æ´¾ä¸ºç¾¤ç»„åè°ƒå™¨çš„ Broker å‘é€å¿ƒè·³æ¥ç»´æŠ¤ä»–å’Œç¾¤ç»„çš„ä»å±å…³ç³»ï¼Œå½“æœºå™¨å®•æ‰åï¼Œç¾¤ç»„åè°ƒå™¨è§¦å‘å†å‡è¡¡ã€‚</li></ul><h2 id="kafka-é›†ç¾¤" tabindex="-1"><a class="header-anchor" href="#kafka-é›†ç¾¤" aria-hidden="true">#</a> Kafka é›†ç¾¤</h2><h3 id="ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°åˆ†åŒºæœºåˆ¶-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°åˆ†åŒºæœºåˆ¶-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å®ç°åˆ†åŒºæœºåˆ¶ï¼ŸğŸŒŸğŸŒŸ</h3><div class="hint-container tip"><p class="hint-container-title">å…³é”®ç‚¹</p><p><strong>åˆ†åŒºæ˜¯ Kafka é«˜æ€§èƒ½ï¼ˆååé‡ï¼‰ã€é«˜å¯ç”¨å’Œæ˜“æ‰©å±•çš„åŸºçŸ³ã€‚å®ƒé€šè¿‡æ•°æ®åˆ†ç‰‡å®ç°äº†å¹¶è¡Œå¤„ç†ï¼Œæ˜¯ Kafka æ€§èƒ½çš„å…³é”®ã€‚</strong></p></div><p>Kafka çš„æ•°æ®ç»“æ„é‡‡ç”¨ä¸‰çº§ç»“æ„ï¼Œå³ï¼šä¸»é¢˜ï¼ˆTopicï¼‰ã€åˆ†åŒºï¼ˆPartitionï¼‰ã€æ¶ˆæ¯ï¼ˆRecordï¼‰ã€‚å…¶ä¸­ï¼Œåˆ†åŒºæ˜¯ Kafka ä¸­æœ€å°çš„å¹¶è¡Œå¤„ç†å•å…ƒã€‚</p><p>æ¯ä¸ªåˆ†åŒºæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>æœ‰åºçš„ã€ä¸å¯å˜çš„æ¶ˆæ¯æ—¥å¿—æ–‡ä»¶</strong>ï¼Œæ¶ˆæ¯è¢«è¿½åŠ åˆ°åˆ†åŒºå°¾éƒ¨ï¼ˆç±»ä¼¼ append-only æ—¥å¿—ï¼‰ï¼Œå¹¶é€šè¿‡åç§»é‡ï¼ˆOffsetï¼‰å”¯ä¸€æ ‡è¯†æ¯æ¡æ¶ˆæ¯åœ¨åˆ†åŒºå†…çš„ä½ç½®ã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/java/javaweb/distributed/mq/kafka/kafka-log-anatomy.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>åˆ†åŒºä¼šè¢«<strong>åˆ†å¸ƒå¼å­˜å‚¨åœ¨ä¸åŒçš„ Broker èŠ‚ç‚¹</strong>ä¸Šï¼Œå®ç°æ•°æ®çš„åˆ†å¸ƒå¼å­˜å‚¨å’Œè´Ÿè½½å‡è¡¡ã€‚</p><p>æ¯ä¸ªåˆ†åŒºå¯ä»¥è®¾ç½®å¤šä¸ª<strong>å‰¯æœ¬ï¼ˆReplicaï¼‰</strong>ï¼Œå…¶ä¸­ä¸€ä¸ªä¸º<strong>é¢†å¯¼è€…å‰¯æœ¬ï¼ˆLeaderï¼‰</strong>ï¼Œè´Ÿè´£å¤„ç†è¯»å†™è¯·æ±‚ï¼›å…¶ä»–ä¸º<strong>è¿½éšè€…å‰¯æœ¬ï¼ˆFollowerï¼‰</strong>ï¼Œé€šè¿‡å¤åˆ¶ Leader çš„æ•°æ®å®ç°é«˜å¯ç”¨ï¼ˆå½“ Leader æ•…éšœæ—¶ï¼ŒFollower ä¼šè¢«é€‰ä¸¾ä¸ºæ–° Leaderï¼‰ã€‚</p><h3 id="ã€ä¸­ç­‰ã€‘kafka-æ”¯æŒå“ªäº›åˆ†åŒºç­–ç•¥-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-æ”¯æŒå“ªäº›åˆ†åŒºç­–ç•¥-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka æ”¯æŒå“ªäº›åˆ†åŒºç­–ç•¥ï¼ŸğŸŒŸğŸŒŸ</h3><p>Kafka é€šè¿‡åˆ†åŒºå®ç°ç”Ÿäº§ã€æ¶ˆè´¹çš„è´Ÿè½½å‡è¡¡ã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/202510030938004.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="hint-container info"><p class="hint-container-title">ç”Ÿäº§è€…åˆ†åŒºç­–ç•¥</p></div><ul><li><strong>æŒ‡å®šåˆ†åŒº</strong>ï¼šç›´æ¥æŒ‡å®šåˆ†åŒºå·ï¼Œæ‰‹åŠ¨æ§åˆ¶æ¶ˆæ¯æµå‘ã€‚</li><li><strong>å“ˆå¸Œï¼ˆHashï¼‰</strong>ï¼šæœ‰ key æ—¶ï¼Œå¯¹ Key å“ˆå¸Œåå–æ¨¡åˆ†åŒºæ•°ï¼Œä¿è¯åŒ Key æ¶ˆæ¯å…¥åŒä¸€åˆ†åŒºï¼ˆå•åˆ†åŒºé¡ºåºæ€§ï¼‰ã€‚</li><li><strong>è½®è¯¢ï¼ˆRoundRobinï¼‰</strong>ï¼šæ—§ç‰ˆé»˜è®¤ã€‚æ—  Key æ—¶ï¼Œä¾æ¬¡å‡åŒ€åˆ†é…åˆ°å„åˆ†åŒºã€‚</li><li><strong>ç²˜æ€§ï¼ˆStickyï¼‰</strong>ï¼š2.4 + é»˜è®¤ã€‚ä¼˜å…ˆå‘åŒä¸€åˆ†åŒºå‘é€ï¼Œæ»¡ååˆ‡æ¢ï¼Œå‡å°‘åˆ‡æ¢å¼€é”€ï¼Œå…¼é¡¾å‡è¡¡ã€‚</li><li><strong>è‡ªå®šä¹‰</strong>ï¼šå®ç° <code>Partitioner</code> æ¥å£ï¼ŒæŒ‰ä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚åœ°åŸŸã€æ—¶é—´ï¼‰åˆ†é…ã€‚</li></ul><div class="hint-container info"><p class="hint-container-title">æ¶ˆè´¹è€…ç»„åˆ†åŒºç­–ç•¥</p></div><ul><li><strong>èŒƒå›´ï¼ˆRangeï¼‰</strong>ï¼šåˆ†åŒºæ’åºåå¹³å‡åˆ†é…ï¼Œå‰å‡ ä¸ªæ¶ˆè´¹è€…å¯èƒ½å¤šåˆ†é… 1 ä¸ªï¼ˆç®€å•ä½†å¯èƒ½ä¸å‡ï¼‰ã€‚</li><li><strong>è½®è¯¢ï¼ˆRoundRobinï¼‰</strong>ï¼šåˆ†åŒºå’Œæ¶ˆè´¹è€…æ’åºåè½®è¯¢åˆ†é…ï¼Œè·¨ä¸»é¢˜è®¢é˜…æ—¶æ›´å‡åŒ€ã€‚</li><li><strong>ç²˜æ€§ï¼ˆStickyï¼‰</strong>ï¼šä¿æŒç°æœ‰åˆ†é…ï¼Œä»…æœ€å°èŒƒå›´è°ƒæ•´ï¼Œå‡å°‘é‡å¹³è¡¡å¼€é”€ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°åˆ†åŒºå†å‡è¡¡-ğŸŒŸğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°åˆ†åŒºå†å‡è¡¡-ğŸŒŸğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç°åˆ†åŒºå†å‡è¡¡ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</h3><p><strong>åˆ†åŒºå†å‡è¡¡ï¼ˆRebalanceï¼‰<strong>æ˜¯æ¶ˆè´¹è€…ç»„å†…å› æ¶ˆè´¹è€…æˆå‘˜å¢å‡è€Œ</strong>é‡æ–°åˆ†é…åˆ†åŒº</strong>çš„è¿‡ç¨‹ã€‚</p><p><strong>åˆ†åŒºå†å‡è¡¡å®ç°äº†æ¶ˆè´¹è€…ç¾¤ç»„çš„é«˜å¯ç”¨æ€§å’Œä¼¸ç¼©æ€§</strong>ã€‚</p><p><strong>åˆ†åŒºå†å‡è¡¡çš„è§¦å‘æ—¶æœº</strong>æœ‰ä¸‰ç§ï¼š</p><ul><li><strong>æ¶ˆè´¹è€…ç¾¤ç»„æˆå‘˜æ•°å˜åŒ–</strong></li><li><strong>è®¢é˜…ä¸»é¢˜æ•°å˜åŒ–</strong></li><li><strong>è®¢é˜…ä¸»é¢˜çš„åˆ†åŒºæ•°å˜åŒ–</strong></li></ul><h4 id="åˆ†åŒºå†å‡è¡¡çš„è¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#åˆ†åŒºå†å‡è¡¡çš„è¿‡ç¨‹" aria-hidden="true">#</a> åˆ†åŒºå†å‡è¡¡çš„è¿‡ç¨‹</h4><p><strong>Rebalance æ˜¯é€šè¿‡æ¶ˆè´¹è€…ç¾¤ç»„ä¸­çš„ç§°ä¸ºâ€œç¾¤ä¸»â€æ¶ˆè´¹è€…å®¢æˆ·ç«¯è¿›è¡Œçš„</strong>ã€‚</p><p>ï¼ˆ1ï¼‰<strong>é€‰æ‹©ç¾¤ä¸»</strong></p><p>å½“æ¶ˆè´¹è€…è¦åŠ å…¥ç¾¤ç»„æ—¶ï¼Œä¼šå‘ç¾¤ç»„åè°ƒå™¨ï¼ˆCoordinatorï¼‰å‘é€ä¸€ä¸ª JoinGroup è¯·æ±‚ã€‚ç¬¬ä¸€ä¸ªåŠ å…¥ç¾¤ç»„çš„æ¶ˆè´¹è€…å°†æˆä¸ºâ€œç¾¤ä¸»â€ã€‚<strong>ç¾¤ä¸»ä» Coordinator é‚£é‡Œè·å–ç¾¤ç»„çš„æ´»è·ƒæˆå‘˜åˆ—è¡¨ï¼Œå¹¶è´Ÿè´£ç»™æ¯ä¸€ä¸ªæ¶ˆè´¹è€…åˆ†é…åˆ†åŒº</strong>ã€‚</p><blockquote><p>ç¾¤ç»„åè°ƒå™¨ï¼ˆCoordinatorï¼‰ï¼Œä¸“é—¨ä¸º Consumer Group æœåŠ¡ï¼Œè´Ÿè´£ä¸º Group æ‰§è¡Œ Rebalance ä»¥åŠæä¾›ä½ç§»ç®¡ç†å’Œç»„æˆå‘˜ç®¡ç†ç­‰ã€‚å…·ä½“æ¥è®²ï¼ŒConsumer ç«¯åº”ç”¨ç¨‹åºåœ¨æäº¤ä½ç§»æ—¶ï¼Œå…¶å®æ˜¯å‘ Coordinator æ‰€åœ¨çš„ Broker æäº¤ä½ç§»ã€‚åŒæ ·åœ°ï¼Œå½“ Consumer åº”ç”¨å¯åŠ¨æ—¶ï¼Œä¹Ÿæ˜¯å‘ Coordinator æ‰€åœ¨çš„ Broker å‘é€å„ç§è¯·æ±‚ï¼Œç„¶åç”± Coordinator è´Ÿè´£æ‰§è¡Œæ¶ˆè´¹è€…ç»„çš„æ³¨å†Œã€æˆå‘˜ç®¡ç†è®°å½•ç­‰å…ƒæ•°æ®ç®¡ç†æ“ä½œã€‚</p></blockquote><p>ï¼ˆ2ï¼‰<strong>å¿ƒè·³ç»­æ´»</strong></p><p>æ¶ˆè´¹è€…é€šè¿‡å‘ Coordinator å®šæœŸå‘é€å¿ƒè·³æ¥ç»´æŒå®ƒä»¬å’Œç¾¤ç»„çš„ä»å±å…³ç³»ä»¥åŠå®ƒä»¬å¯¹åˆ†åŒºçš„æ‰€æœ‰æƒã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070723810.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ï¼ˆ3ï¼‰<strong>åˆ†åŒºç­–ç•¥</strong>ï¼šç¾¤ä¸»ä» Coordinator è·å–ç¾¤ç»„æˆå‘˜åˆ—è¡¨ï¼Œç„¶åç»™æ¯ä¸€ä¸ªæ¶ˆè´¹è€…è¿›è¡Œåˆ†é…åˆ†åŒº Partitionã€‚åˆ†åŒºç­–ç•¥æ ¹æ®æ¶ˆè´¹è€…ç¾¤ç»„é¢„è®¾çš„è´Ÿè½½å‡è¡¡ç­–ç•¥è€Œå®šï¼š</p><ul><li><strong>èŒƒå›´ï¼ˆRangeï¼‰</strong>ï¼šåˆ†åŒºæ’åºåå¹³å‡åˆ†é…ï¼Œå‰å‡ ä¸ªæ¶ˆè´¹è€…å¯èƒ½å¤šåˆ†é… 1 ä¸ªï¼ˆç®€å•ä½†å¯èƒ½ä¸å‡ï¼‰ã€‚</li><li><strong>è½®è¯¢ï¼ˆRoundRobinï¼‰</strong>ï¼šåˆ†åŒºå’Œæ¶ˆè´¹è€…æ’åºåè½®è¯¢åˆ†é…ï¼Œè·¨ä¸»é¢˜è®¢é˜…æ—¶æ›´å‡åŒ€ã€‚</li><li><strong>ç²˜æ€§ï¼ˆStickyï¼‰</strong>ï¼šä¿æŒç°æœ‰åˆ†é…ï¼Œä»…æœ€å°èŒƒå›´è°ƒæ•´ï¼Œå‡å°‘é‡å¹³è¡¡å¼€é”€ã€‚</li></ul><p>ï¼ˆ4ï¼‰ç¾¤ä¸»åˆ†é…å®Œæˆä¹‹åï¼ŒæŠŠ<strong>åˆ†åŒºåˆ†é…æƒ…å†µå‘é€ç»™ Coordinator</strong>ã€‚</p><p>ï¼ˆ5ï¼‰Coordinator å†æŠŠè¿™äº›ä¿¡æ¯å‘é€ç»™æ¶ˆè´¹è€…ã€‚<strong>æ¯ä¸ªæ¶ˆè´¹è€…åªèƒ½çœ‹åˆ°è‡ªå·±çš„åˆ†é…ä¿¡æ¯ï¼Œåªæœ‰ç¾¤ä¸»çŸ¥é“æ‰€æœ‰æ¶ˆè´¹è€…çš„åˆ†é…ä¿¡æ¯</strong>ã€‚</p><h4 id="é€‰æ‹©åè°ƒè€…" tabindex="-1"><a class="header-anchor" href="#é€‰æ‹©åè°ƒè€…" aria-hidden="true">#</a> é€‰æ‹©åè°ƒè€…</h4><p>æ‰€æœ‰ Broker åœ¨å¯åŠ¨æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºå’Œå¼€å¯ç›¸åº”çš„ Coordinator ç»„ä»¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>æ‰€æœ‰ Broker éƒ½æœ‰å„è‡ªçš„ Coordinator ç»„ä»¶</strong>ã€‚é‚£ä¹ˆï¼ŒConsumer Group å¦‚ä½•ç¡®å®šä¸ºå®ƒæœåŠ¡çš„ Coordinator åœ¨å“ªå° Broker ä¸Šå‘¢ï¼Ÿç­”æ¡ˆå°±åœ¨æˆ‘ä»¬ä¹‹å‰è¯´è¿‡çš„ Kafka å†…éƒ¨ä½ç§»ä¸»é¢˜ <code>__consumer_offsets</code> èº«ä¸Šã€‚</p><p>ç›®å‰ï¼ŒKafka ä¸ºæŸä¸ª Consumer Group ç¡®å®š Coordinator æ‰€åœ¨çš„ Broker çš„ç®—æ³•æœ‰ 2 ä¸ªæ­¥éª¤ã€‚</p><ol><li><p>ç¬¬ 1 æ­¥ï¼šç¡®å®šç”±ä½ç§»ä¸»é¢˜çš„å“ªä¸ªåˆ†åŒºæ¥ä¿å­˜è¯¥ Group æ•°æ®ï¼š<code>partitionId=Math.abs(groupId.hashCode() % offsetsTopicPartitionCount)</code>ã€‚</p></li><li><p>ç¬¬ 2 æ­¥ï¼šæ‰¾å‡ºè¯¥åˆ†åŒº Leader å‰¯æœ¬æ‰€åœ¨çš„ Brokerï¼Œè¯¥ Broker å³ä¸ºå¯¹åº”çš„ Coordinatorã€‚</p></li></ol><h3 id="ã€å›°éš¾ã€‘åˆ†åŒºå†å‡è¡¡å­˜åœ¨ä»€ä¹ˆé—®é¢˜-å¦‚ä½•é¿å…åˆ†åŒºå†å‡è¡¡-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘åˆ†åŒºå†å‡è¡¡å­˜åœ¨ä»€ä¹ˆé—®é¢˜-å¦‚ä½•é¿å…åˆ†åŒºå†å‡è¡¡-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘åˆ†åŒºå†å‡è¡¡å­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•é¿å…åˆ†åŒºå†å‡è¡¡ï¼ŸğŸŒŸğŸŒŸ</h3><p>åˆ†åŒºå†å‡è¡¡å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p><ul><li><strong>æ¶ˆè´¹ä¸­æ–­</strong>ï¼šåˆ†åŒºå†å‡è¡¡è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰æ¶ˆè´¹è€…ä¼šåœæ­¢æ¶ˆè´¹ã€‚</li><li><strong>æ€§èƒ½å¼€é”€</strong>ï¼šæ¶‰åŠçŠ¶æ€æ›´æ–°ã€é€‰ä¸¾ã€åˆ†é…è®¡ç®—ç­‰æ“ä½œï¼Œé¢‘ç¹è§¦å‘ä¼šå¢åŠ é›†ç¾¤è´Ÿè½½ï¼Œé™ä½ååé‡ã€‚</li><li><strong>æ•°æ®é£é™©</strong>ï¼šé€šä¿¡æˆ–å¤„ç†å¼‚å¸¸å¯èƒ½å¯¼è‡´æ¶ˆæ¯é‡å¤æ¶ˆè´¹ï¼ˆæœªæäº¤åç§»é‡è¢«é‡æ‹‰ï¼‰æˆ–ä¸¢å¤±ï¼ˆåç§»é‡æäº¤å¤±è´¥ï¼‰ã€‚</li></ul><p>é¿å…åˆ†åŒºå†å‡è¡¡çš„æ€è·¯ï¼š</p><ul><li><strong>åˆç†è®¾ç½®æ¶ˆè´¹è€…ç»„å’Œæ¶ˆè´¹è€…æ•°é‡</strong><ul><li><strong>ç¨³å®šæ¶ˆè´¹è€…ç»„è§„æ¨¡</strong>ï¼šé¿å…é¢‘ç¹åœ°æ·»åŠ æˆ–ç§»é™¤æ¶ˆè´¹è€…ï¼Œä¿æŒæ¶ˆè´¹è€…ç»„å†…æˆå‘˜çš„ç›¸å¯¹ç¨³å®šæ€§ã€‚åœ¨è§„åˆ’ä¸šåŠ¡æ—¶ï¼Œæ ¹æ®é¢„è®¡çš„æ¶ˆæ¯æµé‡å’Œå¤„ç†èƒ½åŠ›ï¼Œæå‰ç¡®å®šåˆé€‚çš„æ¶ˆè´¹è€…æ•°é‡ï¼Œå¹¶åœ¨ç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ä¸­å°½é‡å‡å°‘ä¸å¿…è¦çš„æ¶ˆè´¹è€…å¢å‡æ“ä½œã€‚</li><li><strong>åŒ¹é…æ¶ˆè´¹è€…ä¸åˆ†åŒºæ•°é‡</strong>ï¼šç¡®ä¿æ¶ˆè´¹è€…æ•°é‡ä¸ä¸»é¢˜çš„åˆ†åŒºæ•°é‡ç›¸åŒ¹é…ï¼Œé¿å…æ¶ˆè´¹è€…æ•°é‡è¿œå¤§äºæˆ–è¿œå°äºåˆ†åŒºæ•°é‡çš„æƒ…å†µã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå»ºè®®æ¶ˆè´¹è€…æ•°é‡ç­‰äºæˆ–ç•¥å°äºåˆ†åŒºæ•°é‡ï¼Œä»¥å……åˆ†åˆ©ç”¨åˆ†åŒºçš„å¹¶è¡Œå¤„ç†èƒ½åŠ›ï¼ŒåŒæ—¶é¿å…å› æ¶ˆè´¹è€…æ•°é‡è¿‡å¤šå¯¼è‡´é¢‘ç¹çš„å†å‡è¡¡ã€‚</li></ul></li><li><strong>ä¼˜åŒ–æ¶ˆè´¹è€…å¿ƒè·³å’Œä¼šè¯è¶…æ—¶å‚æ•°</strong><ul><li><strong>è°ƒæ•´å¿ƒè·³é—´éš”</strong>ï¼šé€šè¿‡é€‚å½“å¢åŠ  <code>heartbeat.interval.ms</code> å‚æ•°çš„å€¼ï¼ˆé»˜è®¤å€¼ä¸º 3000 æ¯«ç§’ï¼‰ï¼Œå‡å°‘æ¶ˆè´¹è€…å‘åè°ƒå™¨å‘é€å¿ƒè·³çš„é¢‘ç‡ï¼Œé™ä½å› ç½‘ç»œæ³¢åŠ¨ç­‰åŸå› å¯¼è‡´çš„è™šå‡å¿ƒè·³è¶…æ—¶æƒ…å†µï¼Œä»è€Œå‡å°‘å› æ¶ˆè´¹è€…è¢«è¯¯åˆ¤ä¸ºæ•…éšœè€Œè§¦å‘çš„å†å‡è¡¡ã€‚ä½†éœ€è¦æ³¨æ„ï¼Œè¯¥å€¼ä¸èƒ½è®¾ç½®è¿‡å¤§ï¼Œå¦åˆ™å¯èƒ½ä¼šå»¶é•¿åè°ƒå™¨æ£€æµ‹åˆ°æ¶ˆè´¹è€…çœŸæ­£æ•…éšœçš„æ—¶é—´ã€‚</li><li><strong>å»¶é•¿ä¼šè¯è¶…æ—¶æ—¶é—´</strong>ï¼šå¢å¤§ <code>session.timeout.ms</code> å‚æ•°çš„å€¼ï¼ˆé»˜è®¤èŒƒå›´æ˜¯ 10000 - 30000 æ¯«ç§’ï¼‰ï¼Œå¯ä»¥å¢åŠ æ¶ˆè´¹è€…ä¼šè¯çš„æœ‰æ•ˆæ—¶é—´ï¼Œé™ä½æ¶ˆè´¹è€…å› çŸ­æš‚çš„ç½‘ç»œå»¶è¿Ÿæˆ–å…¶ä»–å¼‚å¸¸æƒ…å†µå¯¼è‡´ä¼šè¯è¶…æ—¶ï¼Œè¿›è€Œè§¦å‘å†å‡è¡¡çš„æ¦‚ç‡ ã€‚ä¸è¿‡ï¼Œè®¾ç½®è¿‡é•¿çš„ä¼šè¯è¶…æ—¶æ—¶é—´å¯èƒ½ä¼šå¯¼è‡´æ•…éšœæ¶ˆè´¹è€…é•¿æ—¶é—´å ç”¨åˆ†åŒºèµ„æºï¼Œå½±å“æ¶ˆæ¯çš„åŠæ—¶å¤„ç†ã€‚</li></ul></li><li><strong>é¿å…ä¸»é¢˜åˆ†åŒºæ•°é‡é¢‘ç¹å˜åŠ¨</strong><ul><li><strong>åˆç†è§„åˆ’ä¸»é¢˜åˆ†åŒº</strong>ï¼šåœ¨åˆ›å»ºä¸»é¢˜æ—¶ï¼Œæ ¹æ®ä¸šåŠ¡çš„å‘å±•è¶‹åŠ¿å’Œé¢„è®¡çš„æ¶ˆæ¯æµé‡ï¼Œå‡†ç¡®è¯„ä¼°æ‰€éœ€çš„åˆ†åŒºæ•°é‡ï¼Œå¹¶å°½é‡ä¸€æ¬¡æ€§è®¾ç½®åˆ°ä½ï¼Œé¿å…åœ¨ç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ä¸­é¢‘ç¹åœ°å¢åŠ æˆ–å‡å°‘åˆ†åŒº ã€‚å¦‚æœç¡®å®éœ€è¦è°ƒæ•´åˆ†åŒºæ•°é‡ï¼Œå»ºè®®åœ¨ä¸šåŠ¡ä½å³°æœŸè¿›è¡Œï¼Œå¹¶æå‰åšå¥½å……åˆ†çš„æµ‹è¯•å’Œé¢„æ¡ˆã€‚</li><li><strong>é‡‡ç”¨åˆ†åŒºé¢„åˆ†é…ç­–ç•¥</strong>ï¼šå¯¹äºä¸€äº›å¯é¢„æµ‹çš„ä¸šåŠ¡å¢é•¿æƒ…å†µï¼Œå¯ä»¥æå‰ä¸ºä¸»é¢˜åˆ†é…è¶³å¤Ÿçš„åˆ†åŒºï¼Œé¿å…å› ä¸´æ—¶å¢åŠ åˆ†åŒºè€Œè§¦å‘å†å‡è¡¡ã€‚åŒæ—¶ï¼Œåœ¨è¿›è¡Œåˆ†åŒºè°ƒæ•´æ—¶ï¼Œå¯ä»¥é‡‡ç”¨é€æ­¥è°ƒæ•´çš„æ–¹å¼ï¼Œä¾‹å¦‚æ¯æ¬¡åªå¢åŠ å°‘é‡åˆ†åŒºï¼Œåˆ†é˜¶æ®µå®Œæˆåˆ†åŒºçš„æ‰©å±•ï¼Œä»¥å‡å°‘å¯¹ç³»ç»Ÿçš„å†²å‡»ã€‚</li></ul></li><li><strong>ä½¿ç”¨ç²˜æ€§åˆ†åŒºåˆ†é…ç­–ç•¥</strong>ï¼šKafka çš„ Sticky åˆ†åŒºåˆ†é…ç­–ç•¥ä¼šå°½é‡ä¿æŒä¸Šä¸€æ¬¡çš„åˆ†åŒºåˆ†é…ç»“æœï¼Œåœ¨åŠ¨æ€ç¯å¢ƒä¸­ï¼ˆå¦‚æ¶ˆè´¹è€…çš„åŠ å…¥æˆ–ç¦»å¼€ï¼‰ï¼Œä»…å¯¹å¿…è¦çš„åˆ†åŒºè¿›è¡Œé‡æ–°åˆ†é…ï¼Œå‡å°‘å†å‡è¡¡çš„èŒƒå›´å’Œé¢‘ç‡ ã€‚é€šè¿‡å°† <code>partition.assignment.strategy</code> å‚æ•°è®¾ç½®ä¸º <code>org.apache.kafka.clients.consumer.StickyAssignor</code>ï¼Œå¯ä»¥å¯ç”¨è¯¥ç­–ç•¥ï¼Œé™ä½å†å‡è¡¡å¯¹ç³»ç»Ÿé€ æˆçš„å½±å“ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•ä¼˜åŒ–åˆ†åŒºçš„è¯»å†™æ€§èƒ½-æœ‰å“ªäº›å¸¸è§çš„è°ƒä¼˜ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•ä¼˜åŒ–åˆ†åŒºçš„è¯»å†™æ€§èƒ½-æœ‰å“ªäº›å¸¸è§çš„è°ƒä¼˜ç­–ç•¥" aria-hidden="true">#</a> ã€å›°éš¾ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•ä¼˜åŒ–åˆ†åŒºçš„è¯»å†™æ€§èƒ½ï¼Ÿæœ‰å“ªäº›å¸¸è§çš„è°ƒä¼˜ç­–ç•¥ï¼Ÿ</h3><p>åœ¨ Kafka ä¸­ï¼Œä¼˜åŒ–åˆ†åŒºçš„è¯»å†™æ€§èƒ½ä¸»è¦å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§å¸¸è§çš„è°ƒä¼˜ç­–ç•¥å®ç°ï¼š</p><ol><li>åˆç†è®¾ç½®åˆ†åŒºæ•°ï¼ˆpartitionsï¼‰ï¼šæ ¹æ®ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„èƒ½åŠ›ï¼Œä»¥åŠé›†ç¾¤çš„è§„æ¨¡ï¼Œè®¾ç½®åˆé€‚çš„åˆ†åŒºæ•°å¯ä»¥åœ¨æé«˜å†™å…¥å’Œè¯»å–æ€§èƒ½æ–¹é¢äº§ç”Ÿæ˜¾è‘—æ•ˆæœã€‚</li><li>å¢åŠ å‰¯æœ¬æ•°ï¼ˆreplication factorï¼‰ï¼šå‰¯æœ¬æ•°çš„å¢åŠ å¯ä»¥æå‡æ•°æ®çš„å¯é æ€§å’Œè¯»å–æ€§èƒ½ï¼Œä¸è¿‡éœ€è¦åœ¨æ€§èƒ½å’Œæ•°æ®å†—ä½™ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ç‚¹ã€‚</li><li>è°ƒæ•´ broker é…ç½®å‚æ•°ï¼šé€šè¿‡è°ƒä¼˜ Kafka broker çš„ç›¸å…³é…ç½®ï¼Œå¦‚è°ƒæ•´ <code>log.retention.hours</code>ã€<code>log.segment.bytes</code>ã€<code>log.flush.interval.messages</code> ç­‰å‚æ•°ï¼Œå¯ä»¥æ˜¾è‘—æå‡è¯»å†™æ€§èƒ½ã€‚</li><li>è°ƒä¼˜ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„é…ç½®ï¼šä¾‹å¦‚è°ƒæ•´ç”Ÿäº§è€…çš„æ‰¹é‡å‘é€å¤§å°ï¼ˆ<code>batch.size</code>ï¼‰ã€å‹ç¼©ç±»å‹ï¼ˆ<code>compression.type</code>ï¼‰ã€æ¶ˆè´¹è€…çš„æœ€å¤§æ‹‰å–è®°å½•æ•°ï¼ˆ<code>max.poll.records</code>ï¼‰ç­‰ã€‚</li><li>ç¡¬ä»¶é…ç½®ä¼˜åŒ–ï¼šé€‰æ‹©é«˜ IOPS çš„ç£ç›˜ã€è¶³å¤Ÿçš„å†…å­˜å’Œè®¡ç®—èµ„æºæ¥æ”¯æ’‘ Kafka çš„é«˜å¹¶å‘è¯»å†™è¯·æ±‚ã€‚</li><li>åˆ†åŒºå’Œå‰¯æœ¬åˆ†å¸ƒä¼˜åŒ–ï¼šç¡®ä¿ä¸åŒä¸»é¢˜çš„åˆ†åŒºå’Œå‰¯æœ¬åˆ†å¸ƒåœ¨ä¸åŒçš„ broker ä¸Šï¼Œä»¥é¿å…æ½œåœ¨çš„è¯»å†™ç“¶é¢ˆã€‚</li></ol><h3 id="ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°å‰¯æœ¬æœºåˆ¶-ğŸŒŸğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°å‰¯æœ¬æœºåˆ¶-ğŸŒŸğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å®ç°å‰¯æœ¬æœºåˆ¶ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</h3><p>å‰¯æœ¬æœºåˆ¶æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿå®ç°é«˜å¯ç”¨çš„ä¸äºŒæ³•é—¨ï¼ŒKafka ä¹Ÿä¸ä¾‹å¤–ã€‚</p><p>å‰¯æœ¬æœºåˆ¶æœ‰å“ªäº›å¥½å¤„ï¼Ÿ</p><ol><li><strong>æä¾›å¯ç”¨æ€§</strong>ï¼šæœ‰å¥ä¿—è¯­å«ï¼šé¸¡è›‹ä¸è¦æ”¾åœ¨ä¸€ä¸ªç¯®å­é‡Œã€‚å‰¯æœ¬æœºåˆ¶ä¹Ÿæ˜¯ä¸€ä¸ªé“ç†â€”â€”å½“éƒ¨åˆ†èŠ‚ç‚¹å®•æœºæ—¶ï¼Œç³»ç»Ÿä»ç„¶å¯ä»¥ä¾é å…¶ä»–æ­£å¸¸è¿è½¬çš„èŠ‚ç‚¹ï¼Œä»æ•´ä½“ä¸Šå¯¹å¤–ç»§ç»­æä¾›æœåŠ¡ã€‚</li><li><strong>æä¾›ä¼¸ç¼©æ€§</strong>ï¼šé€šè¿‡å¢åŠ ã€å‡å°‘æœºå™¨å¯ä»¥æ§åˆ¶ç³»ç»Ÿæ•´ä½“çš„ååé‡ã€‚</li><li><strong>æ”¹å–„æ•°æ®å±€éƒ¨æ€§</strong>ï¼šå…è®¸å°†æ•°æ®æ”¾å…¥ä¸ç”¨æˆ·åœ°ç†ä½ç½®ç›¸è¿‘çš„åœ°æ–¹ï¼Œä»è€Œé™ä½ç³»ç»Ÿå»¶æ—¶ã€‚</li></ol><p>ä½†æ˜¯ï¼ŒKafka åªå®ç°äº†ç¬¬ä¸€ä¸ªå¥½å¤„ï¼ŒåŸå› åé¢ä¼šé˜è¿°ã€‚</p><ul><li>æ¯ä¸ª Partition éƒ½æœ‰ä¸€ä¸ª Leaderï¼Œé›¶ä¸ªæˆ–å¤šä¸ª Followerã€‚</li><li>Leader å¤„ç†ä¸€åˆ‡å¯¹ Partition ï¼ˆåˆ†åŒºï¼‰çš„è¯»å†™è¯·æ±‚ï¼›è€Œ Follower åªéœ€è¢«åŠ¨çš„åŒæ­¥ Leader ä¸Šçš„æ•°æ®ã€‚</li><li>åŒä¸€ä¸ª Topic çš„ä¸åŒ Partition ä¼šåˆ†å¸ƒåœ¨å¤šä¸ª Broker ä¸Šï¼Œè€Œä¸”ä¸€ä¸ª Partition è¿˜ä¼šåœ¨å…¶ä»–çš„ Broker ä¸Šé¢è¿›è¡Œå¤‡ä»½ã€‚</li></ul><h4 id="kafka-å‰¯æœ¬è§’è‰²" tabindex="-1"><a class="header-anchor" href="#kafka-å‰¯æœ¬è§’è‰²" aria-hidden="true">#</a> Kafka å‰¯æœ¬è§’è‰²</h4><p>Kafka ä½¿ç”¨ Topic æ¥ç»„ç»‡æ•°æ®ï¼Œæ¯ä¸ª Topic è¢«åˆ†ä¸ºè‹¥å¹²ä¸ª Partitionï¼Œæ¯ä¸ª Partition æœ‰å¤šä¸ªå‰¯æœ¬ã€‚æ¯ä¸ª Broker å¯ä»¥ä¿å­˜æˆç™¾ä¸Šåƒä¸ªå±äºä¸åŒ Topic å’Œ Partition çš„å‰¯æœ¬ã€‚<strong>Kafka å‰¯æœ¬çš„æœ¬è´¨æ˜¯ä¸€ä¸ªåªèƒ½è¿½åŠ å†™å…¥çš„æäº¤æ—¥å¿—</strong>ã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070726284.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Kafka å‰¯æœ¬æœ‰ä¸¤ç§è§’è‰²ï¼š</p><ul><li><strong>Leader å‰¯æœ¬ï¼ˆä¸»ï¼‰</strong>ï¼šæ¯ä¸ª Partition éƒ½æœ‰ä¸”ä»…æœ‰ä¸€ä¸ª Leader å‰¯æœ¬ã€‚ä¸ºäº†ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œ<strong>Leader å¤„ç†ä¸€åˆ‡å¯¹ Partition ï¼ˆåˆ†åŒºï¼‰çš„è¯»å†™è¯·æ±‚</strong>ï¼›</li><li><strong>Follower å‰¯æœ¬ï¼ˆä»ï¼‰</strong>ï¼šLeader å‰¯æœ¬ä»¥å¤–çš„å‰¯æœ¬éƒ½æ˜¯ Follower å‰¯æœ¬ã€‚<strong>Follower å”¯ä¸€çš„ä»»åŠ¡å°±æ˜¯ä» Leader é‚£é‡Œå¤åˆ¶æ¶ˆæ¯ï¼Œä¿æŒä¸ Leader ä¸€è‡´çš„çŠ¶æ€</strong>ã€‚</li><li>å¦‚æœ Leader å®•æœºï¼Œå…¶ä¸­ä¸€ä¸ª Follower ä¼šè¢«é€‰ä¸¾ä¸ºæ–°çš„ Leaderã€‚</li></ul><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070726185.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ä¸ºäº†ä¸ Leader ä¿æŒåŒæ­¥ï¼ŒFollower å‘ Leader å‘èµ·è·å–æ•°æ®çš„è¯·æ±‚ï¼Œè¿™ç§è¯·æ±‚ä¸æ¶ˆè´¹è€…ä¸ºäº†è¯»å–æ¶ˆæ¯è€Œå‘é€çš„è¯·æ±‚æ˜¯ä¸€æ ·çš„ã€‚è¯·æ±‚æ¶ˆæ¯é‡ŒåŒ…å«äº† Follower æƒ³è¦è·å–æ¶ˆæ¯çš„åç§»é‡ï¼Œè€Œè¿™äº›åç§»é‡æ€»æ˜¯æœ‰åºçš„ã€‚</p><p>Leader å¦ä¸€ä¸ªä»»åŠ¡æ˜¯ææ¸…æ¥šå“ªä¸ª Follower çš„çŠ¶æ€ä¸è‡ªå·±æ˜¯ä¸€è‡´çš„ã€‚é€šè¿‡æŸ¥çœ‹æ¯ä¸ª Follower è¯·æ±‚çš„æœ€æ–°åç§»é‡ï¼ŒLeader å°±ä¼šçŸ¥é“æ¯ä¸ª Follower å¤åˆ¶çš„è¿›åº¦ã€‚å¦‚æœè·Ÿéšè€…åœ¨ 10s å†…æ²¡æœ‰è¯·æ±‚ä»»ä½•æ¶ˆæ¯ï¼Œæˆ–è€…è™½ç„¶åœ¨è¯·æ±‚æ¶ˆæ¯ï¼Œä½†æ˜¯åœ¨ 10s å†…æ²¡æœ‰è¯·æ±‚æœ€æ–°çš„æ•°æ®ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šè¢«è®¤ä¸ºæ˜¯<strong>ä¸åŒæ­¥</strong>çš„ã€‚<strong>å¦‚æœä¸€ä¸ªå‰¯æœ¬æ˜¯ä¸åŒæ­¥çš„ï¼Œåœ¨ Leader å¤±æ•ˆæ—¶ï¼Œå°±ä¸å¯èƒ½æˆä¸ºæ–°çš„ Leader</strong>â€”â€”æ¯•ç«Ÿå®ƒæ²¡æœ‰åŒ…å«å…¨éƒ¨çš„æ¶ˆæ¯ã€‚</p><p>é™¤äº†å½“å‰é¦–é¢†ä¹‹å¤–ï¼Œæ¯ä¸ªåˆ†åŒºéƒ½æœ‰ä¸€ä¸ªé¦–é€‰é¦–é¢†â€”â€”åˆ›å»º Topic æ—¶é€‰å®šçš„é¦–é¢†å°±æ˜¯åˆ†åŒºçš„é¦–é€‰é¦–é¢†ã€‚ä¹‹æ‰€ä»¥å«é¦–é€‰ Leaderï¼Œæ˜¯å› ä¸ºåœ¨åˆ›å»ºåˆ†åŒºæ—¶ï¼Œéœ€è¦åœ¨ Broker ä¹‹é—´å‡è¡¡ Leaderã€‚</p><h4 id="isr" tabindex="-1"><a class="header-anchor" href="#isr" aria-hidden="true">#</a> ISR</h4><p>ISR å³ In-sync Replicasï¼Œè¡¨ç¤ºåŒæ­¥å‰¯æœ¬ã€‚Follower å‰¯æœ¬ä¸æä¾›æœåŠ¡ï¼Œåªæ˜¯å®šæœŸåœ°å¼‚æ­¥æ‹‰å–é¢†å¯¼è€…å‰¯æœ¬ä¸­çš„æ•°æ®è€Œå·²ã€‚æ—¢ç„¶æ˜¯å¼‚æ­¥çš„ï¼Œè¯´æ˜å’Œ Leader å¹¶éæ•°æ®å¼ºä¸€è‡´æ€§çš„ã€‚</p><p><strong>åˆ¤æ–­ Follower æ˜¯å¦ä¸ Leader åŒæ­¥çš„æ ‡å‡†</strong>ï¼š</p><p>Kafka Broker ç«¯å‚æ•° <code>replica.lag.time.max.ms</code> å‚æ•°ï¼ŒæŒ‡å®šäº† Follower å‰¯æœ¬èƒ½å¤Ÿè½å Leader å‰¯æœ¬çš„æœ€é•¿æ—¶é—´é—´éš”ï¼Œé»˜è®¤ä¸º 10sã€‚è¿™æ„å‘³ç€ï¼šåªè¦ä¸€ä¸ª Follower å‰¯æœ¬è½å Leader å‰¯æœ¬çš„æ—¶é—´ä¸è¿ç»­è¶…è¿‡ 10 ç§’ï¼Œé‚£ä¹ˆ Kafka å°±è®¤ä¸ºè¯¥ Follower å‰¯æœ¬ä¸ Leader æ˜¯<strong>åŒæ­¥</strong>çš„ï¼Œå³ä½¿æ­¤æ—¶ Follower å‰¯æœ¬ä¸­ä¿å­˜çš„æ¶ˆæ¯æ˜æ˜¾å°‘äº Leader å‰¯æœ¬ä¸­çš„æ¶ˆæ¯ã€‚</p><p>ISR æ˜¯ä¸€ä¸ªåŠ¨æ€è°ƒæ•´çš„é›†åˆï¼Œä¼šä¸æ–­å°†åŒæ­¥å‰¯æœ¬åŠ å…¥é›†åˆï¼Œå°†ä¸åŒæ­¥å‰¯æœ¬ç§»é™¤é›†åˆã€‚Leader å‰¯æœ¬å¤©ç„¶å°±åœ¨ ISR ä¸­ã€‚</p><h4 id="unclean-é¢†å¯¼è€…é€‰ä¸¾" tabindex="-1"><a class="header-anchor" href="#unclean-é¢†å¯¼è€…é€‰ä¸¾" aria-hidden="true">#</a> Unclean é¢†å¯¼è€…é€‰ä¸¾</h4><p>å› ä¸º Leader å‰¯æœ¬å¤©ç„¶å°±åœ¨ ISR ä¸­ï¼Œå¦‚æœ ISR ä¸ºç©ºäº†ï¼Œå°±è¯´æ˜ Leader å‰¯æœ¬ä¹Ÿâ€œæŒ‚æ‰â€äº†ï¼ŒKafka éœ€è¦é‡æ–°é€‰ä¸¾ä¸€ä¸ªæ–°çš„ Leaderã€‚</p><p><strong>Kafka æŠŠæ‰€æœ‰ä¸åœ¨ ISR ä¸­çš„å­˜æ´»å‰¯æœ¬éƒ½ç§°ä¸ºéåŒæ­¥å‰¯æœ¬</strong>ã€‚é€šå¸¸æ¥è¯´ï¼ŒéåŒæ­¥å‰¯æœ¬è½å Leader å¤ªå¤šï¼Œå› æ­¤ï¼Œå¦‚æœé€‰æ‹©è¿™äº›å‰¯æœ¬ä½œä¸ºæ–° Leaderï¼Œå°±å¯èƒ½å‡ºç°æ•°æ®çš„ä¸¢å¤±ã€‚æ¯•ç«Ÿï¼Œè¿™äº›å‰¯æœ¬ä¸­ä¿å­˜çš„æ¶ˆæ¯è¿œè¿œè½åäºè€ Leader ä¸­çš„æ¶ˆæ¯ã€‚åœ¨ Kafka ä¸­ï¼Œé€‰ä¸¾è¿™ç§å‰¯æœ¬çš„è¿‡ç¨‹ç§°ä¸º Unclean é¢†å¯¼è€…é€‰ä¸¾ã€‚<strong>Broker ç«¯å‚æ•° <code>unclean.leader.election.enable</code> æ§åˆ¶æ˜¯å¦å…è®¸ Unclean é¢†å¯¼è€…é€‰ä¸¾</strong>ã€‚</p><p><strong>å¼€å¯ Unclean é¢†å¯¼è€…é€‰ä¸¾å¯èƒ½ä¼šé€ æˆæ•°æ®ä¸¢å¤±</strong>ï¼Œä½†å¥½å¤„æ˜¯ï¼šå®ƒä½¿å¾— Partition Leader å‰¯æœ¬ä¸€ç›´å­˜åœ¨ï¼Œä¸è‡³äºåœæ­¢å¯¹å¤–æä¾›æœåŠ¡ï¼Œå› æ­¤æå‡äº†é«˜å¯ç”¨æ€§ã€‚åä¹‹ï¼Œç¦æ­¢ Unclean é¢†å¯¼è€…é€‰ä¸¾çš„å¥½å¤„åœ¨äºç»´æŠ¤äº†æ•°æ®çš„ä¸€è‡´æ€§ï¼Œé¿å…äº†æ¶ˆæ¯ä¸¢å¤±ï¼Œä½†ç‰ºç‰²äº†é«˜å¯ç”¨æ€§ã€‚</p><h3 id="ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•å®ç°å¤šé›†ç¾¤çš„æ•°æ®åŒæ­¥-è·¨é›†ç¾¤å¤åˆ¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆ-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•å®ç°å¤šé›†ç¾¤çš„æ•°æ®åŒæ­¥-è·¨é›†ç¾¤å¤åˆ¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆ-ğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•å®ç°å¤šé›†ç¾¤çš„æ•°æ®åŒæ­¥ï¼Ÿè·¨é›†ç¾¤å¤åˆ¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ</h3><p><strong>MirrorMaker æ˜¯ Kafka å®˜æ–¹çš„è·¨é›†ç¾¤å¤åˆ¶æ–¹æ¡ˆ</strong>ã€‚</p><ul><li><strong>åŠŸèƒ½</strong>ï¼šKafka å®˜æ–¹çš„è·¨é›†ç¾¤æ•°æ®å¤åˆ¶å·¥å…·ï¼Œå®ç°<strong>æºé›†ç¾¤ â†’ ç›®æ ‡é›†ç¾¤</strong>çš„æ•°æ®åŒæ­¥ã€‚</li><li><strong>åŸç†</strong>ï¼šåŸºäº<strong>æ¶ˆè´¹è€…-ç”Ÿäº§è€…æ¨¡å‹</strong>ã€‚ <ul><li><strong>Consumer</strong>ï¼šä»æºé›†ç¾¤æ‹‰å–æ•°æ®ã€‚</li><li><strong>Producer</strong>ï¼šå‘ç›®æ ‡é›†ç¾¤æ¨é€æ•°æ®ã€‚</li></ul></li><li><strong>ç‰ˆæœ¬</strong><ul><li><strong>MirrorMaker 1.0</strong>ï¼šåŸºç¡€å¤åˆ¶ï¼Œé…ç½®å¤æ‚ï¼Œå•çº¿ç¨‹æœ‰æ€§èƒ½ç“¶é¢ˆã€‚</li><li><strong>MirrorMaker 2.0 (æ¨è)</strong>ï¼šæ”¯æŒåŒå‘åŒæ­¥ã€è‡ªåŠ¨åŒæ­¥ Topic é…ç½®ã€åç§»é‡åŒæ­¥ç­‰é«˜çº§ç‰¹æ€§ã€‚</li></ul></li><li><strong>è¦ç‚¹</strong><ul><li><strong>æ•°æ®ä¸€è‡´æ€§</strong>ï¼šä¿è¯<strong>æ¶ˆæ¯é¡ºåº</strong>ï¼Œä½†å­˜åœ¨<strong>å¤åˆ¶å»¶è¿Ÿ</strong>ï¼ˆå—ç½‘ç»œå’Œè´Ÿè½½å½±å“ï¼‰ã€‚</li><li><strong>å®¹é”™æ€§</strong>ï¼šé€šè¿‡æ¶ˆè´¹è€…ç»„æœºåˆ¶ï¼Œæ•…éšœæ¢å¤åå¯<strong>æ–­ç‚¹ç»­ä¼ </strong>ã€‚</li><li><strong>æ€§èƒ½ç“¶é¢ˆ</strong>ï¼šMM 1.0 ä¸ºå•çº¿ç¨‹ï¼Œé«˜åååœºæ™¯éœ€éƒ¨ç½²<strong>å¤šä¸ªå®ä¾‹</strong>è¿›è¡Œæ¨ªå‘æ‰©å±•ã€‚</li><li><strong>æ ¸å¿ƒç›‘æ§</strong>ï¼šé‡ç‚¹å…³æ³¨ <strong>consumer-lag</strong>ï¼ˆæ¶ˆè´¹å»¶è¿Ÿï¼‰å’Œ <strong>producer-throughput</strong>ï¼ˆç”Ÿäº§ååé‡ï¼‰ã€‚</li></ul></li></ul><p><strong>æ›¿ä»£å·¥å…·</strong></p><ul><li><strong>Confluent Replicator</strong>ï¼šä¼ä¸šçº§å•†ä¸šå·¥å…·ï¼ŒåŠŸèƒ½å…¨é¢ï¼ˆå¦‚ Schema åŒæ­¥ï¼‰ã€‚</li><li><strong>uReplicator</strong>ï¼šå¼€æºæ–¹æ¡ˆï¼Œé’ˆå¯¹é«˜å¯ç”¨å’Œä½å»¶è¿Ÿä¼˜åŒ–ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-çš„-controller-failover-æ˜¯å¦‚ä½•è®¾è®¡çš„-åœ¨-controller-å®•æœºæ—¶å¦‚ä½•è¿›è¡Œæ•…éšœæ¢å¤-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-çš„-controller-failover-æ˜¯å¦‚ä½•è®¾è®¡çš„-åœ¨-controller-å®•æœºæ—¶å¦‚ä½•è¿›è¡Œæ•…éšœæ¢å¤-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka çš„ Controller Failover æ˜¯å¦‚ä½•è®¾è®¡çš„ï¼Ÿåœ¨ Controller å®•æœºæ—¶å¦‚ä½•è¿›è¡Œæ•…éšœæ¢å¤ï¼ŸğŸŒŸğŸŒŸ</h3><p>Kafka çš„ Controller æ˜¯é›†ç¾¤ä¸­è´Ÿè´£ç®¡ç†å„ç§å…ƒæ•°æ®ï¼ˆå¦‚ä¸»é¢˜åˆ›å»ºã€åˆ†åŒºåˆ†é…ã€å‰¯æœ¬åˆ†é…ç­‰ï¼‰ä»¥åŠåè°ƒé¢†å¯¼è€…é€‰ä¸¾çš„å…³é”®ç»„ä»¶ã€‚Controller Failover æ˜¯ Kafka ä¿è¯é«˜å¯ç”¨æ€§çš„é‡è¦æœºåˆ¶ã€‚å…·ä½“æ¥è®²ï¼Œå½“ Controller å®•æœºæ—¶ï¼ŒKafka ä¼šé€šè¿‡ Zookeeper é€‰ä¸¾å‡ºä¸€ä¸ªæ–°çš„ Controllerï¼Œä»¥ç¡®ä¿é›†ç¾¤å¯ä»¥ç»§ç»­æ­£å¸¸è¿è¡Œã€‚</p><p>ä»¥ä¸‹æ˜¯ Kafka Controller Failover çš„ä¸»è¦è®¾è®¡å’Œæµç¨‹ï¼š</p><ol><li>Zookeeper ä½œä¸ºåè°ƒè€…ï¼šæ¯ä¸ª Kafka Broker å¯åŠ¨æ—¶éƒ½ä¼šå°è¯•åœ¨ Zookeeper ä¸­åˆ›å»ºä¸€ä¸ªç‰¹æ®Šçš„èŠ‚ç‚¹ï¼ˆ<code>/controller</code>ï¼‰ã€‚å› ä¸ºè¿™ä¸ªèŠ‚ç‚¹ä½¿ç”¨çš„æ˜¯ Ephemeralï¼ˆä¸´æ—¶ï¼‰èŠ‚ç‚¹ç±»å‹ï¼Œå½“åˆ›å»ºè¯¥èŠ‚ç‚¹çš„ Broker å®•æœºæ—¶ï¼Œè¿™ä¸ªèŠ‚ç‚¹ä¼šè‡ªåŠ¨åˆ é™¤ã€‚</li><li>ç«äº‰æˆä¸º Controllerï¼šä¸€æ—¦å½“å‰çš„ Controller å®•æœºï¼Œæ‰€æœ‰æ´»ç€çš„ Broker éƒ½ä¼šå°è¯•åœ¨ Zookeeper ä¸­åˆ›å»º <code>/controller</code> èŠ‚ç‚¹ã€‚ç¬¬ä¸€ä¸ªæˆåŠŸåˆ›å»ºè¿™ä¸ªèŠ‚ç‚¹çš„ Broker ä¼šæˆä¸ºæ–°çš„ Controllerï¼Œå‰©ä¸‹çš„åˆ™ä¼šæ”¶åˆ°å¤±è´¥é€šçŸ¥ã€‚</li><li>é€šçŸ¥æœºåˆ¶ï¼šæ–°çš„ Controller ä¼šåœ¨ Zookeeper ä¸­å†™å…¥å®ƒçš„é€‰ä¸¾ç»“æœï¼Œå¹¶é€šè¿‡ç›‘å¬æœºåˆ¶é€šçŸ¥æ‰€æœ‰ Brokerã€‚è¿™äº› Broker ä¼šæ›´æ–°å®ƒä»¬æœ¬åœ°çš„ Controller ç¼“å­˜ï¼Œä»è€ŒæŒ‡å‘æ–°çš„ Controllerã€‚</li><li>æ¢å¤ä»»åŠ¡ï¼šæ–°å½“é€‰çš„ Controller éœ€è¦å¿«é€Ÿå®Œæˆé›†ç¾¤çŠ¶æ€çš„æ¥ç®¡ï¼ŒåŒ…æ‹¬é‡æ–°åˆ†é…åˆ†åŒºå‰¯æœ¬ã€æ·»åŠ ä¸»é¢˜ã€è°ƒæ•´å‰¯æœ¬åŒæ­¥ç­‰ç­‰ã€‚è¿™äº›æ“ä½œé€šè¿‡ç›‘å¬ Zookeeper èŠ‚ç‚¹å’Œæ“ä½œ Kafka å†…éƒ¨ Topicï¼ˆå¦‚ã€__consumer_offsetsï¼‰å®Œæˆã€‚</li></ol><h3 id="ã€å›°éš¾ã€‘kafka-ä¸­çš„-controller-å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆ-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-ä¸­çš„-controller-å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆ-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka ä¸­çš„ Controller å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸğŸŒŸ</h3><p>Kafka ä¸­çš„ Controller æ˜¯æ•´ä¸ªé›†ç¾¤çš„åè°ƒè€…ï¼Œå®ƒæ˜¯ä¸“é—¨è´Ÿè´£ç›‘æ§å’Œç®¡ç† Kafka é›†ç¾¤ä¸­åˆ†åŒºï¼ˆpartitionï¼‰å’Œå‰¯æœ¬ï¼ˆreplicaï¼‰çŠ¶æ€çš„èŠ‚ç‚¹ã€‚åœ¨æ•´ä¸ª Kafka é›†ç¾¤ä¸­ï¼ŒController çš„è§’è‰²æ˜¯è‡³å…³é‡è¦çš„ï¼Œå®ƒå¸®åŠ©é›†ç¾¤ç»´æŒç¨³å®šï¼Œç¡®ä¿åˆ†åŒºå’Œå‰¯æœ¬çš„å¯ç”¨æ€§å’Œä¸€è‡´æ€§ã€‚</p><div class="hint-container info"><p class="hint-container-title">Controller ä½œç”¨</p></div><p>Controller åœ¨é›†ç¾¤ä¸­çš„ä¸»è¦ä½œç”¨åŒ…æ‹¬ï¼š</p><ul><li><strong>åˆ†åŒº Leader é€‰ä¸¾</strong>ï¼šç¡®å®šå“ªä¸ªå‰¯æœ¬æˆä¸ºåˆ†åŒºçš„ Leader æ¥å¤„ç†è¯»å†™è¯·æ±‚ã€‚</li><li><strong>å…ƒæ•°æ®ç®¡ç†</strong>ï¼šç®¡ç†æ‰€æœ‰ Topicã€Partition çš„åˆ›å»ºã€åˆ é™¤å’Œå‰¯æœ¬åˆ†é…æ–¹æ¡ˆã€‚</li><li><strong>çŠ¶æ€ç»´æŠ¤</strong>ï¼šç»´æŠ¤ Partition çš„ ISRï¼ˆåŒæ­¥å‰¯æœ¬ï¼‰åˆ—è¡¨ï¼Œå¤„ç†å‰¯æœ¬çš„åŠ å…¥ä¸ç§»é™¤ã€‚</li><li><strong>åˆ†åŒºè¿ç§»</strong>ï¼šå¦‚æœæŸä¸ª broker å‡ºç°æ•…éšœï¼ŒController è´Ÿè´£é‡æ–°åˆ†é…å…¶ä¸Šçš„åˆ†åŒºåˆ°å…¶ä»–å¯ç”¨ Broker ä¸Šã€‚</li><li><strong>é›†ç¾¤åè°ƒ</strong>ï¼šæ„ŸçŸ¥ Broker çš„ä¸Šä¸‹çº¿ï¼Œå¹¶è§¦å‘ç›¸åº”çš„å…ƒæ•°æ®æ›´æ–°å’Œè´Ÿè½½å‡è¡¡ã€‚</li><li><strong>ä¿¡æ¯åŒæ­¥</strong>ï¼šå‘æ‰€æœ‰ Broker åŒæ­¥æœ€æ–°çš„é›†ç¾¤å…ƒæ•°æ®ã€‚</li></ul><div class="hint-container info"><p class="hint-container-title">Controller åŸç†</p></div><p><strong>åŸºäº ZooKeeper çš„æ¨¡å¼ï¼š</strong></p><ul><li><strong>é€‰ä¸¾</strong>ï¼šæ‰€æœ‰ Broker äº‰æŠ¢åœ¨ ZooKeeper åˆ›å»º <strong><code>/controller</code> ä¸´æ—¶èŠ‚ç‚¹</strong>ï¼Œåˆ›å»ºæˆåŠŸè€…å³ä¸º Controllerã€‚</li><li><strong>æ•…éšœè½¬ç§»</strong>ï¼šè‹¥ Controller å®•æœºï¼Œå…¶ä¸´æ—¶èŠ‚ç‚¹è‡ªåŠ¨åˆ é™¤ï¼Œå…¶ä»– Broker ç›‘å¬åˆ°æ­¤å˜åŒ–åç«‹å³è§¦å‘æ–°ä¸€è½®é€‰ä¸¾ã€‚</li><li><strong>çŠ¶æ€æ„ŸçŸ¥</strong>ï¼šController é€šè¿‡ç›‘å¬ ZooKeeper ä¸Šå…¶ä»–èŠ‚ç‚¹çš„å˜åŒ–æ¥æ„ŸçŸ¥é›†ç¾¤çŠ¶æ€ï¼ˆå¦‚ Broker ä¸‹çº¿ï¼‰ï¼Œå¹¶æ‰§è¡Œç›¸åº”æ“ä½œã€‚</li></ul><p><strong>åŸºäº KRaft çš„æ¨¡å¼ï¼ˆæ–°ä¸€ä»£ï¼‰ï¼š</strong></p><ul><li><strong>å» ZooKeeper ä¾èµ–</strong>ï¼šKafka ä½¿ç”¨å†…ç½®çš„ <strong>Raft å…±è¯†ç®—æ³•</strong> æ¥ç®¡ç†å…ƒæ•°æ®ã€‚</li><li><strong>è§’è‰²åˆ†ç¦»</strong>ï¼šæœ‰ä¸“é—¨çš„ Controller èŠ‚ç‚¹ï¼ˆæ„æˆ Quorumï¼‰è¿›è¡Œå…ƒæ•°æ®ç®¡ç†ï¼Œä¸è´Ÿè´£æ•°æ®å­˜å–çš„ Broker èŠ‚ç‚¹åˆ†ç¦»ã€‚</li><li><strong>å…±è¯†ä¿éšœ</strong>ï¼šé€šè¿‡ Raft ç®—æ³•åœ¨ Controller èŠ‚ç‚¹é—´è‡ªåŠ¨å®Œæˆ Leader é€‰ä¸¾å’Œå…ƒæ•°æ®åŒæ­¥ï¼Œæ›´é«˜æ•ˆã€å¯æ‰©å±•æ€§æ›´å¼ºã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°é«˜å¯ç”¨-ğŸŒŸğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°é«˜å¯ç”¨-ğŸŒŸğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç°é«˜å¯ç”¨ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</h3><ul><li><strong>æ•°æ®å†—ä½™</strong>ï¼šå¤šå‰¯æœ¬å­˜å‚¨ï¼Œé˜²æ­¢å•ç‚¹æ•°æ®ä¸¢å¤±ã€‚</li><li><strong>è‡ªåŠ¨å®¹ç¾</strong>ï¼šLeader è‡ªåŠ¨åˆ‡æ¢ + åˆ†åŒºå†å‡è¡¡ï¼Œå‡å°‘äººå·¥å¹²é¢„ã€‚</li><li><strong>çµæ´»ä¸€è‡´æ€§</strong>ï¼šé€šè¿‡ ACK å’Œ ISR æœºåˆ¶é€‚é…ä¸åŒä¸šåŠ¡åœºæ™¯ï¼ˆå¦‚é«˜ååæˆ–å¼ºä¸€è‡´æ€§ï¼‰ã€‚</li></ul><p><strong>æ ¸å¿ƒæœºåˆ¶</strong></p><ul><li><strong>å¤šå‰¯æœ¬æœºåˆ¶</strong><ul><li>æ¯ä¸ªåˆ†åŒºï¼ˆPartitionï¼‰æœ‰å¤šä¸ªå‰¯æœ¬ï¼Œåˆ†å¸ƒåœ¨ä¸åŒçš„ Broker ä¸Šï¼Œç¡®ä¿æ•°æ®å†—ä½™ã€‚</li><li>å‰¯æœ¬åˆ†ä¸º <strong>Leader</strong>ï¼ˆå¤„ç†è¯»å†™è¯·æ±‚ï¼‰å’Œ <strong>Follower</strong>ï¼ˆåŒæ­¥æ•°æ®ï¼‰ã€‚</li></ul></li><li><strong>ä¸»ä»æ¶æ„</strong><ul><li>ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä»…ä¸ Leader å‰¯æœ¬äº¤äº’ã€‚</li><li>å½“ Leader å®•æœºæ—¶ï¼Œä» Follower å‰¯æœ¬ä¸­é€‰ä¸¾æ–° Leaderï¼Œä¿è¯æœåŠ¡è¿ç»­æ€§ã€‚</li></ul></li><li><strong>ZooKeeper åè°ƒ</strong><ul><li>ç®¡ç†é›†ç¾¤å…ƒæ•°æ®ï¼ˆå¦‚ Broker çŠ¶æ€ã€åˆ†åŒº Leader ä¿¡æ¯ï¼‰ã€‚</li><li>æ£€æµ‹ Broker æ•…éšœå¹¶è§¦å‘ Leader é€‰ä¸¾ã€‚</li></ul></li></ul><p><strong>æ•…éšœæ¢å¤æµç¨‹</strong></p><ul><li><strong>æ•…éšœæ£€æµ‹</strong>ï¼šZooKeeper å‘ç° Broker å®•æœºã€‚</li><li><strong>Leader é€‰ä¸¾</strong>ï¼šä» ISRï¼ˆåŒæ­¥å‰¯æœ¬é›†ï¼‰ä¸­é€‰å‡ºæ–° Leaderã€‚</li><li><strong>åˆ†åŒºå†å‡è¡¡</strong>ï¼šå°†å®•æœº Broker çš„åˆ†åŒºé‡æ–°åˆ†é…åˆ°å…¶ä»–å¯ç”¨ Brokerã€‚</li></ul><p><strong>æ”¯æ’‘æŠ€æœ¯</strong></p><ul><li><strong>ISRï¼ˆIn-Sync Replicasï¼‰</strong>ï¼šä»…ä¸ Leader ä¿æŒåŒæ­¥çš„å‰¯æœ¬å¯å‚ä¸ Leader é€‰ä¸¾ï¼Œç¡®ä¿æ•°æ®ä¸€è‡´æ€§ã€‚</li><li><strong>ACK ç¡®è®¤æœºåˆ¶</strong>ï¼šç”Ÿäº§è€…å¯é…ç½®ä¸åŒçº§åˆ«çš„ç¡®è®¤ï¼ˆå¦‚ <code>0</code>ã€<code>1</code>ã€<code>all</code>ï¼‰ï¼Œå¹³è¡¡ååé‡ä¸æ•°æ®å¯é æ€§ã€‚</li><li><strong>æ§åˆ¶å™¨ï¼ˆControllerï¼‰</strong>ï¼šé›†ç¾¤ä¸­ä¸€ä¸ª Broker æ‹…ä»»æ§åˆ¶å™¨ï¼Œè´Ÿè´£åˆ†åŒº Leader é€‰ä¸¾å’ŒçŠ¶æ€ç®¡ç†ã€‚æ§åˆ¶å™¨æ•…éšœæ—¶ï¼ŒZooKeeper é‡æ–°é€‰ä¸¾æ–°æ§åˆ¶å™¨ã€‚</li><li><strong>æƒ°æ€§æ•…éšœæ£€æµ‹</strong>ï¼šé¿å…çŸ­æš‚æ•…éšœå¯¼è‡´çš„é¢‘ç¹ Leader åˆ‡æ¢ï¼Œé€šè¿‡å»¶è¿Ÿåˆ¤æ–­å‡å°‘é›†ç¾¤æ³¢åŠ¨ã€‚</li></ul><h2 id="kafka-å¯é ä¼ è¾“" tabindex="-1"><a class="header-anchor" href="#kafka-å¯é ä¼ è¾“" aria-hidden="true">#</a> Kafka å¯é ä¼ è¾“</h2><h3 id="ã€ä¸­ç­‰ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•é€šè¿‡-acks-é…ç½®æé«˜æ•°æ®å¯é æ€§-acks-çš„å€¼å¦‚ä½•å½±å“æ€§èƒ½" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•é€šè¿‡-acks-é…ç½®æé«˜æ•°æ®å¯é æ€§-acks-çš„å€¼å¦‚ä½•å½±å“æ€§èƒ½" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•é€šè¿‡ Acks é…ç½®æé«˜æ•°æ®å¯é æ€§ï¼ŸAcks çš„å€¼å¦‚ä½•å½±å“æ€§èƒ½ï¼Ÿ</h3><p><strong>é€‰æ‹©åŸåˆ™</strong>ï¼šæ ¹æ®ä¸šåŠ¡å¯¹æ•°æ®ä¸¢å¤±çš„å®¹å¿åº¦è¿›è¡Œæƒè¡¡é…ç½®ã€‚</p><p><strong>å‚æ•°é€‰é¡¹</strong></p><table><thead><tr><th>é…ç½®å€¼</th><th>å¯é æ€§</th><th>æ€§èƒ½</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>0</code></td><td>æœ€ä½</td><td>æœ€é«˜</td><td>å®æ—¶ç›‘æ§/æ—¥å¿—æ”¶é›†</td></tr><tr><td><code>1</code></td><td>ä¸­ç­‰</td><td>ä¸­ç­‰</td><td>æ™®é€šä¸šåŠ¡åœºæ™¯</td></tr><tr><td><code>all/-1</code></td><td>æœ€é«˜</td><td>æœ€ä½</td><td>é‡‘èäº¤æ˜“/å…³é”®æ•°æ®</td></tr></tbody></table><p><strong>ä¼˜åŒ–å»ºè®®</strong></p><ul><li><strong>å¯é æ€§ä¼˜å…ˆ</strong>ï¼š <ul><li>è®¾ç½®<code>acks=all</code></li><li>é…åˆ<code>min.insync.replicas=2</code></li><li>ç¦ç”¨<code>unclean.leader.election.enable=false</code></li></ul></li><li><strong>æ€§èƒ½ä¼˜å…ˆ</strong>ï¼š <ul><li>é€‰æ‹©<code>acks=0</code>æˆ–<code>1</code></li><li>é€‚å½“é™ä½<code>replication.factor</code>ï¼ˆå¦‚ 2ï¼‰</li></ul></li></ul><p><strong>æ³¨æ„äº‹é¡¹</strong></p><ul><li>å‰¯æœ¬æ•°<code>replication.factor</code>å»ºè®®â‰¥3</li><li>é«˜<code>acks</code>å€¼ä¼šå¢åŠ ç½‘ç»œå’Œå­˜å‚¨å‹åŠ›</li><li>æ–°ç‰ˆ Kafka ä¼˜åŒ–äº†é«˜å¯é æ€§é…ç½®çš„æ€§èƒ½è¡¨ç°</li></ul><h3 id="ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯ä¸ä¸¢å¤±-ğŸŒŸğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯ä¸ä¸¢å¤±-ğŸŒŸğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯ Kafka æ¶ˆæ¯ä¸ä¸¢å¤±ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</h3><p>å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ä¼ è¾“ï¼Œæˆ–è€…è¯´ï¼Œå¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±ï¼Ÿè¿™å¯¹äºä»»ä½• MQ éƒ½æ˜¯æ ¸å¿ƒé—®é¢˜ã€‚</p><p>ä¸€æ¡æ¶ˆæ¯ä»ç”Ÿäº§åˆ°æ¶ˆè´¹ï¼Œå¯ä»¥åˆ’åˆ†ä¸‰ä¸ªé˜¶æ®µï¼š</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070727544.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li><strong>ç”Ÿäº§é˜¶æ®µ</strong>ï¼šProducer åˆ›å»ºæ¶ˆæ¯ï¼Œå¹¶é€šè¿‡ç½‘ç»œå‘é€ç»™ Brokerã€‚</li><li><strong>å­˜å‚¨é˜¶æ®µ</strong>ï¼šBroker æ”¶åˆ°æ¶ˆæ¯å¹¶å­˜å‚¨ï¼Œå¦‚æœæ˜¯é›†ç¾¤ï¼Œè¿˜è¦åŒæ­¥å‰¯æœ¬ç»™å…¶ä»– Brokerã€‚</li><li><strong>æ¶ˆè´¹é˜¶æ®µ</strong>ï¼šConsumer å‘ Broker è¯·æ±‚æ¶ˆæ¯ï¼ŒBroker é€šè¿‡ç½‘ç»œä¼ è¾“ç»™ Consumerã€‚</li></ul><p>è¿™ä¸‰ä¸ªé˜¶æ®µéƒ½å¯èƒ½ä¸¢å¤±æ•°æ®ï¼Œæ‰€ä»¥è¦ä¿è¯æ¶ˆæ¯ä¸¢å¤±ï¼Œå°±éœ€è¦ä»»æ„ä¸€ç¯éƒ½ä¿è¯å¯é ã€‚é€šè¿‡ <strong>ACK+å‰¯æœ¬+å¹‚ç­‰+æ‰‹åŠ¨æäº¤ Offset</strong> çš„ç»„åˆç­–ç•¥ï¼Œå¯ç³»ç»Ÿæ€§è§£å†³æ¶ˆæ¯ä¸¢å¤±é—®é¢˜ã€‚æ ¹æ®ä¸šåŠ¡å¯¹å¯é æ€§å’Œæ€§èƒ½çš„éœ€æ±‚è°ƒæ•´é…ç½®ã€‚</p><ul><li><strong>ç”Ÿäº§è€…ç«¯</strong><ul><li><strong>ACK æœºåˆ¶</strong>ï¼šè®¾ç½® <code>acks=all</code>ï¼Œç¡®ä¿æ‰€æœ‰å‰¯æœ¬æŒä¹…åŒ–åæ‰ç¡®è®¤å‘é€æˆåŠŸã€‚</li><li><strong>å¹‚ç­‰ç”Ÿäº§è€…</strong>ï¼šå¯ç”¨ <code>enable.idempotence=true</code>ï¼Œé¿å…ç½‘ç»œé‡è¯•å¯¼è‡´æ¶ˆæ¯é‡å¤æˆ–ä¸¢å¤±ã€‚</li><li><strong>äº‹åŠ¡æ”¯æŒ</strong>ï¼šè·¨åˆ†åŒºçš„åŸå­æ€§å†™å…¥ï¼ˆ<code>producer.initTransactions()</code>ï¼‰ã€‚</li></ul></li><li><strong>Broker ç«¯</strong><ul><li><strong>å¤šå‰¯æœ¬æœºåˆ¶</strong>ï¼šè®¾ç½® <code>replication.factorâ‰¥3</code>ï¼Œä¿è¯é«˜å¯ç”¨ã€‚</li><li><strong>æœ€å°åŒæ­¥å‰¯æœ¬</strong>ï¼šé…ç½® <code>min.insync.replicasâ‰¥2</code>ï¼Œé˜²æ­¢å•ç‚¹æ•…éšœå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚</li></ul></li><li><strong>æ¶ˆè´¹è€…ç«¯</strong><ul><li><strong>æ‰‹åŠ¨æäº¤ Offset</strong>ï¼šå…³é—­ <code>enable.auto.commit=false</code>ï¼Œå¤„ç†å®Œæ¶ˆæ¯åæ‰‹åŠ¨æäº¤åç§»é‡ã€‚</li><li><strong>æŒä¹…åŒ– Offset</strong>ï¼šå°† Offset å­˜å‚¨åˆ° Kafkaï¼ˆè€Œé Zookeeperï¼‰ï¼Œé¿å…åˆ†åŒºå†å‡è¡¡æ—¶ä¸¢å¤±ã€‚</li></ul></li></ul><p>å…³é”®é…ç½®ï¼š</p><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token comment"># ç”Ÿäº§è€…</span>
<span class="token key attr-name">acks</span><span class="token punctuation">=</span><span class="token value attr-value">all</span>
<span class="token key attr-name">enable.idempotence</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token comment"># Broker</span>
<span class="token key attr-name">replication.factor</span><span class="token punctuation">=</span><span class="token value attr-value">3</span>
<span class="token key attr-name">min.insync.replicas</span><span class="token punctuation">=</span><span class="token value attr-value">2</span>
<span class="token comment"># æ¶ˆè´¹è€…</span>
<span class="token key attr-name">enable.auto.commit</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å­˜å‚¨é˜¶æ®µä¸ä¸¢æ¶ˆæ¯" tabindex="-1"><a class="header-anchor" href="#å­˜å‚¨é˜¶æ®µä¸ä¸¢æ¶ˆæ¯" aria-hidden="true">#</a> å­˜å‚¨é˜¶æ®µä¸ä¸¢æ¶ˆæ¯</h4><p>å­˜å‚¨é˜¶æ®µæŒ‡çš„æ˜¯ Kafka Serverï¼Œä¹Ÿå°±æ˜¯ Broker å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±ã€‚</p><p>ä¸€å¥è¯æ¦‚æ‹¬ï¼Œ<strong>Kafka åªå¯¹â€œå·²æäº¤â€çš„æ¶ˆæ¯ï¼ˆcommitted messageï¼‰åšæœ‰é™åº¦çš„æŒä¹…åŒ–ä¿è¯</strong>ã€‚</p><p>ä¸Šé¢çš„è¯å¯ä»¥è§£è¯»ä¸ºï¼š</p><ul><li><strong>å·²æäº¤</strong>ï¼š<strong>åªæœ‰å½“æ¶ˆæ¯è¢«å†™å…¥åˆ†åŒºçš„è‹¥å¹²åŒæ­¥å‰¯æœ¬æ—¶ï¼Œæ‰è¢«è®¤ä¸ºæ˜¯å·²æäº¤çš„</strong>ã€‚ä¸ºä»€ä¹ˆæ˜¯è‹¥å¹²ä¸ª Broker å‘¢ï¼Ÿè¿™å–å†³äºä½ å¯¹â€œå·²æäº¤â€çš„å®šä¹‰ã€‚ä½ å¯ä»¥é€‰æ‹©åªè¦ Leader æˆåŠŸä¿å­˜è¯¥æ¶ˆæ¯å°±ç®—æ˜¯å·²æäº¤ï¼Œä¹Ÿå¯ä»¥æ˜¯ä»¤æ‰€æœ‰ Broker éƒ½æˆåŠŸä¿å­˜è¯¥æ¶ˆæ¯æ‰ç®—æ˜¯å·²æäº¤ã€‚</li><li><strong>æŒä¹…åŒ–</strong>ï¼šKafka çš„æ•°æ®å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œæ‰€ä»¥åªè¦å†™å…¥æˆåŠŸï¼Œå¤©ç„¶å°±æ˜¯æŒä¹…åŒ–çš„ã€‚</li><li><strong>åªè¦è¿˜æœ‰ä¸€ä¸ªå‰¯æœ¬æ˜¯å­˜æ´»çš„ï¼Œé‚£ä¹ˆå·²æäº¤çš„æ¶ˆæ¯å°±ä¸ä¼šä¸¢å¤±</strong>ã€‚</li><li><strong>æ¶ˆè´¹è€…åªèƒ½è¯»å–å·²æäº¤çš„æ¶ˆæ¯</strong>ã€‚</li></ul><p><strong>Kafka çš„å‰¯æœ¬æœºåˆ¶æ˜¯ kafka å¯é æ€§ä¿è¯çš„æ ¸å¿ƒ</strong>ã€‚</p><p>Kafka çš„ä¸»é¢˜è¢«åˆ†ä¸ºå¤šä¸ªåˆ†åŒºï¼Œåˆ†åŒºæ˜¯åŸºæœ¬çš„æ•°æ®å—ã€‚æ¯ä¸ªåˆ†åŒºå¯ä»¥æœ‰å¤šä¸ªå‰¯æœ¬ï¼Œæœ‰ä¸€ä¸ªæ˜¯ Leaderï¼ˆä¸»å‰¯æœ¬ï¼‰ï¼Œå…¶ä»–æ˜¯ Followerï¼ˆä»å‰¯æœ¬ï¼‰ã€‚æ‰€æœ‰æ•°æ®éƒ½ç›´æ¥å‘é€ç»™ Leaderï¼Œæˆ–è€…ç›´æ¥ä» Leader è¯»å–äº‹ä»¶ã€‚Follower åªéœ€è¦ä¸ Leader ä¿æŒåŒæ­¥ï¼Œå¹¶åŠæ—¶å¤åˆ¶æœ€æ–°çš„æ•°æ®ã€‚å½“ Leader å®•æœºæ—¶ï¼Œä» Follower ä¸­é€‰ä¸¾ä¸€ä¸ªæˆä¸ºæ–°çš„ Leaderã€‚</p><p>Broker æœ‰ 3 ä¸ªé…ç½®å‚æ•°ä¼šå½±å“ Kafka æ¶ˆæ¯å­˜å‚¨çš„å¯é æ€§ã€‚</p><ul><li><strong>å‰¯æœ¬æ•°</strong> - <strong><code>replication.factor</code> çš„ä½œç”¨æ˜¯è®¾ç½®æ¯ä¸ªåˆ†åŒºçš„å‰¯æœ¬æ•°</strong>ã€‚<code>replication.factor</code> æ˜¯ä¸»é¢˜çº§åˆ«é…ç½®ï¼› <code>default.replication.factor</code> æ˜¯ broker çº§åˆ«é…ç½®ã€‚å‰¯æœ¬æ•°è¶Šå¤šï¼Œæ•°æ®å¯é æ€§è¶Šé«˜ï¼›ä½†ç”±äºå‰¯æœ¬æ•°å¢å¤šï¼Œä¹Ÿä¼šå¢åŠ åŒæ­¥å‰¯æœ¬çš„å¼€é”€ï¼Œå¯èƒ½ä¼šé™ä½é›†ç¾¤çš„å¯ç”¨æ€§ã€‚ä¸€èˆ¬ï¼Œå»ºè®®è®¾ä¸º 3ï¼Œè¿™ä¹Ÿæ˜¯ Kafka çš„é»˜è®¤å€¼ã€‚</li><li><strong>ä¸å®Œå…¨çš„é€‰ä¸»</strong> - <code>unclean.leader.election.enable</code> ç”¨äºæ§åˆ¶æ˜¯å¦æ”¯æŒä¸åŒæ­¥çš„å‰¯æœ¬å‚ä¸é€‰ä¸¾ Leaderã€‚<code>unclean.leader.election.enable</code> æ˜¯ broker çº§åˆ«ï¼ˆå®é™…ä¸Šæ˜¯é›†ç¾¤èŒƒå›´å†…ï¼‰é…ç½®ï¼Œé»˜è®¤å€¼ä¸º trueã€‚ <ul><li>å¦‚æœè®¾ä¸º trueï¼Œä»£è¡¨ç€<strong>å…è®¸ä¸åŒæ­¥çš„å‰¯æœ¬æˆä¸ºä¸»å‰¯æœ¬</strong>ï¼ˆå³ä¸å®Œå…¨çš„é€‰ä¸¾ï¼‰ï¼Œé‚£ä¹ˆå°†<strong>é¢ä¸´ä¸¢å¤±æ¶ˆæ¯çš„é£é™©</strong>ï¼›</li><li>å¦‚æœè®¾ä¸º falseï¼Œå°±è¦<strong>ç­‰å¾…åŸå…ˆçš„ä¸»å‰¯æœ¬é‡æ–°ä¸Šçº¿</strong>ï¼Œä»è€Œé™ä½äº†å¯ç”¨æ€§ã€‚</li></ul></li><li><strong>æœ€å°‘åŒæ­¥å‰¯æœ¬</strong> - <strong><code>min.insync.replicas</code> æ§åˆ¶çš„æ˜¯æ¶ˆæ¯è‡³å°‘è¦è¢«å†™å…¥åˆ°å¤šå°‘ä¸ªå‰¯æœ¬æ‰ç®—æ˜¯â€œå·²æäº¤â€</strong>ã€‚<code>min.insync.replicas</code> æ˜¯ä¸»é¢˜çº§åˆ«å’Œ broker çº§åˆ«é…ç½®ã€‚å°½ç®¡å¯ä»¥ä¸ºä¸€ä¸ªä¸»é¢˜é…ç½® 3 ä¸ªå‰¯æœ¬ï¼Œä½†è¿˜æ˜¯å¯èƒ½ä¼šå‡ºç°åªæœ‰ä¸€ä¸ªåŒæ­¥å‰¯æœ¬çš„æƒ…å†µã€‚å¦‚æœè¿™ä¸ªåŒæ­¥å‰¯æœ¬å˜ä¸ºä¸å¯ç”¨ï¼Œåˆ™å¿…é¡»åœ¨å¯ç”¨æ€§å’Œæ•°æ®ä¸€è‡´æ€§ä¹‹é—´åšå‡ºé€‰æ‹©ã€‚Kafka ä¸­ï¼Œæ¶ˆæ¯åªæœ‰è¢«å†™å…¥åˆ°æ‰€æœ‰çš„åŒæ­¥å‰¯æœ¬ä¹‹åæ‰è¢«è®¤ä¸ºæ˜¯å·²æäº¤çš„ã€‚ä½†å¦‚æœåªæœ‰ä¸€ä¸ªåŒæ­¥å‰¯æœ¬ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªå‰¯æœ¬ä¸å¯ç”¨æ—¶ï¼Œåˆ™æ•°æ®å°±ä¼šä¸¢å¤±ã€‚ <ul><li>å¦‚æœè¦ç¡®ä¿å·²ç»æäº¤çš„æ•°æ®è¢«å·²å†™å…¥ä¸æ­¢ä¸€ä¸ªå‰¯æœ¬ï¼Œå°±éœ€è¦æŠŠæœ€å°åŒæ­¥å‰¯æœ¬çš„è®¾ç½®ä¸ºå¤§ä¸€ç‚¹çš„å€¼ã€‚</li><li>æ³¨æ„ï¼šè¦ç¡®ä¿ <code>replication.factor</code> &gt; <code>min.insync.replicas</code>ã€‚å¦‚æœä¸¤è€…ç›¸ç­‰ï¼Œé‚£ä¹ˆåªè¦æœ‰ä¸€ä¸ªå‰¯æœ¬æŒ‚æœºï¼Œæ•´ä¸ªåˆ†åŒºå°±æ— æ³•æ­£å¸¸å·¥ä½œäº†ã€‚æˆ‘ä»¬ä¸ä»…è¦æ”¹å–„æ¶ˆæ¯çš„æŒä¹…æ€§ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ï¼Œè¿˜è¦åœ¨ä¸é™ä½å¯ç”¨æ€§çš„åŸºç¡€ä¸Šå®Œæˆã€‚æ¨èè®¾ç½®æˆ <code>replication.factor = min.insync.replicas + 1</code>ã€‚</li></ul></li></ul><h4 id="ç”Ÿäº§é˜¶æ®µä¸ä¸¢æ¶ˆæ¯" tabindex="-1"><a class="header-anchor" href="#ç”Ÿäº§é˜¶æ®µä¸ä¸¢æ¶ˆæ¯" aria-hidden="true">#</a> ç”Ÿäº§é˜¶æ®µä¸ä¸¢æ¶ˆæ¯</h4><p>åœ¨ç”Ÿäº§æ¶ˆæ¯é˜¶æ®µï¼Œæ¶ˆæ¯é˜Ÿåˆ—ä¸€èˆ¬é€šè¿‡è¯·æ±‚ç¡®è®¤æœºåˆ¶ï¼Œæ¥ä¿è¯æ¶ˆæ¯çš„å¯é ä¼ é€’ï¼ŒKafka ä¹Ÿä¸ä¾‹å¤–ã€‚</p><p>Kafka æœ‰ä¸‰ç§å‘é€æ–¹å¼ï¼šåŒæ­¥ã€å¼‚æ­¥ã€å¼‚æ­¥å›è°ƒã€‚åŒæ­¥æ–¹å¼èƒ½ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±ï¼Œä½†æ€§èƒ½å¤ªå·®ï¼›å¼‚æ­¥æ–¹å¼å‘é€æ¶ˆæ¯ï¼Œé€šå¸¸ä¼šç«‹å³è¿”å›ï¼Œä½†æ¶ˆæ¯å¯èƒ½ä¸¢å¤±ã€‚</p><p>è§£å†³ç”Ÿäº§è€…ä¸¢å¤±æ¶ˆæ¯çš„æ–¹æ¡ˆï¼š</p><p>ç”Ÿäº§è€…ä½¿ç”¨å¼‚æ­¥å›è°ƒæ–¹å¼ <code>producer.send(msg, callback)</code> å‘é€æ¶ˆæ¯ã€‚callbackï¼ˆå›è°ƒï¼‰èƒ½å‡†ç¡®åœ°å‘Šè¯‰ä½ æ¶ˆæ¯æ˜¯å¦çœŸçš„æäº¤æˆåŠŸäº†ã€‚ä¸€æ—¦å‡ºç°æ¶ˆæ¯æäº¤å¤±è´¥çš„æƒ…å†µï¼Œä½ å°±å¯ä»¥æœ‰é’ˆå¯¹æ€§åœ°è¿›è¡Œå¤„ç†ã€‚</p><ul><li>å¦‚æœæ˜¯å› ä¸ºé‚£äº›ç¬æ—¶é”™è¯¯ï¼Œé‚£ä¹ˆä»…ä»…è®© Producer é‡è¯•å°±å¯ä»¥äº†ï¼›</li><li>å¦‚æœæ˜¯æ¶ˆæ¯ä¸åˆæ ¼é€ æˆçš„ï¼Œé‚£ä¹ˆå¯ä»¥è°ƒæ•´æ¶ˆæ¯æ ¼å¼åå†æ¬¡å‘é€ã€‚</li></ul><p>ç„¶åï¼Œéœ€è¦åŸºäºä»¥ä¸‹å‡ ç‚¹æ¥ä¿è¯ Kafka ç”Ÿäº§è€…çš„å¯é æ€§ï¼š</p><ul><li><strong>ACK</strong> - ç”Ÿäº§è€…å¯é€‰çš„ç¡®è®¤æ¨¡å¼æœ‰ä¸‰ç§ï¼š<code>acks=0</code>ã€<code>acks=1</code>ã€<code>acks=all</code>ã€‚ <ul><li><code>acks=0</code>ã€<code>acks=1</code> éƒ½æœ‰ä¸¢å¤±æ•°æ®çš„é£é™©ã€‚</li><li><code>acks=all</code> æ„å‘³ç€ä¼šç­‰å¾…æ‰€æœ‰åŒæ­¥å‰¯æœ¬éƒ½æ”¶åˆ°æ¶ˆæ¯ã€‚å†ç»“åˆ <code>min.insync.replicas</code> ï¼Œå°±å¯ä»¥å†³å®šåœ¨å¾—åˆ°ç¡®è®¤å“åº”å‰ï¼Œè‡³å°‘æœ‰å¤šå°‘å‰¯æœ¬èƒ½å¤Ÿæ”¶åˆ°æ¶ˆæ¯ã€‚è¿™æ˜¯æœ€ä¿é™©çš„åšæ³•ï¼Œä½†ä¹Ÿä¼šé™ä½ååé‡ã€‚</li></ul></li><li><strong>é‡è¯•</strong> - å¦‚æœ broker è¿”å›çš„é”™è¯¯å¯ä»¥é€šè¿‡<strong>é‡è¯•</strong>æ¥è§£å†³ï¼Œç”Ÿäº§è€…ä¼šè‡ªåŠ¨å¤„ç†è¿™äº›é”™è¯¯ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæœ‰æ—¶å¯èƒ½å› ä¸ºç½‘ç»œé—®é¢˜å¯¼è‡´æ²¡æœ‰æ”¶åˆ°ç¡®è®¤ï¼Œä½†å®é™…ä¸Šæ¶ˆæ¯å·²ç»å†™å…¥æˆåŠŸã€‚ç”Ÿäº§è€…ä¼šè®¤ä¸ºå‡ºç°ä¸´æ—¶æ•…éšœï¼Œé‡è¯•å‘é€æ¶ˆæ¯ï¼Œè¿™æ ·å°±ä¼šå‡ºç°é‡å¤è®°å½•ã€‚æ‰€ä»¥ï¼Œå°½å¯èƒ½åœ¨ä¸šåŠ¡ä¸Šä¿è¯å¹‚ç­‰æ€§ã€‚è®¾ç½® <code>retries</code> ä¸ºä¸€ä¸ªè¾ƒå¤§çš„å€¼ã€‚è¿™é‡Œçš„ <code>retries</code> åŒæ ·æ˜¯ Producer çš„å‚æ•°ï¼Œå¯¹åº”å‰é¢æåˆ°çš„ Producer è‡ªåŠ¨é‡è¯•ã€‚å½“å‡ºç°ç½‘ç»œçš„ç¬æ—¶æŠ–åŠ¨æ—¶ï¼Œæ¶ˆæ¯å‘é€å¯èƒ½ä¼šå¤±è´¥ï¼Œæ­¤æ—¶é…ç½®äº† retries &gt; 0 çš„ Producer èƒ½å¤Ÿè‡ªåŠ¨é‡è¯•æ¶ˆæ¯å‘é€ï¼Œé¿å…æ¶ˆæ¯ä¸¢å¤±ã€‚ <ul><li><strong>å¯é‡è¯•é”™è¯¯</strong>ï¼Œå¦‚ï¼š<code>LEADER_NOT_AVAILABLE</code>ï¼Œä¸»å‰¯æœ¬ä¸å¯ç”¨ï¼Œå¯èƒ½è¿‡ä¸€æ®µæ—¶é—´ï¼Œé›†ç¾¤å°±ä¼šé€‰ä¸¾å‡ºæ–°çš„ä¸»å‰¯æœ¬ï¼Œé‡è¯•å¯ä»¥è§£å†³é—®é¢˜ã€‚</li><li><strong>ä¸å¯é‡è¯•é”™è¯¯</strong>ï¼Œå¦‚ï¼š<code>INVALID_CONFIG</code>ï¼Œå³ä½¿é‡è¯•ï¼Œä¹Ÿæ— æ³•æ”¹å˜é…ç½®é€‰é¡¹ï¼Œé‡è¯•æ²¡æœ‰æ„ä¹‰ã€‚</li></ul></li><li><strong>é”™è¯¯å¤„ç†</strong> - å¼€å‘è€…éœ€è¦è‡ªè¡Œå¤„ç†çš„é”™è¯¯ï¼š <ul><li>ä¸å¯é‡è¯•çš„ broker é”™è¯¯ï¼Œå¦‚æ¶ˆæ¯å¤§å°é”™è¯¯ã€è®¤è¯é”™è¯¯ç­‰ï¼›</li><li>æ¶ˆæ¯å‘é€å‰å‘ç”Ÿçš„é”™è¯¯ï¼Œå¦‚åºåˆ—åŒ–é”™è¯¯ï¼›</li><li>ç”Ÿäº§è€…è¾¾åˆ°é‡è¯•æ¬¡æ•°ä¸Šé™æˆ–æ¶ˆæ¯å ç”¨çš„å†…å­˜è¾¾åˆ°ä¸Šé™æ—¶å‘ç”Ÿçš„é”™è¯¯ã€‚</li></ul></li></ul><h4 id="æ¶ˆè´¹é˜¶æ®µä¸ä¸¢æ¶ˆæ¯" tabindex="-1"><a class="header-anchor" href="#æ¶ˆè´¹é˜¶æ®µä¸ä¸¢æ¶ˆæ¯" aria-hidden="true">#</a> æ¶ˆè´¹é˜¶æ®µä¸ä¸¢æ¶ˆæ¯</h4><p>å‰æ–‡å·²ç»æåˆ°ï¼Œ<strong>æ¶ˆè´¹è€…åªèƒ½è¯»å–å·²æäº¤çš„æ¶ˆæ¯</strong>ã€‚è¿™å°±ä¿è¯äº†æ¶ˆè´¹è€…æ¥æ”¶åˆ°æ¶ˆæ¯æ—¶å·²ç»å…·å¤‡äº†æ•°æ®ä¸€è‡´æ€§ã€‚</p><p>æ¶ˆè´¹è€…å”¯ä¸€è¦åšçš„æ˜¯ç¡®ä¿å“ªäº›æ¶ˆæ¯æ˜¯å·²ç»è¯»å–è¿‡çš„ï¼Œå“ªäº›æ˜¯æ²¡æœ‰è¯»å–è¿‡çš„ï¼ˆé€šè¿‡æäº¤åç§»é‡ç»™ Broker æ¥ç¡®è®¤ï¼‰ã€‚å¦‚æœæ¶ˆè´¹è€…æäº¤äº†åç§»é‡å´æœªèƒ½å¤„ç†å®Œæ¶ˆæ¯ï¼Œé‚£ä¹ˆå°±æœ‰å¯èƒ½é€ æˆæ¶ˆæ¯ä¸¢å¤±ï¼Œè¿™ä¹Ÿæ˜¯æ¶ˆè´¹è€…ä¸¢å¤±æ¶ˆæ¯çš„ä¸»è¦åŸå› ã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20200727140159.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ¶ˆè´¹è€…çš„å¯é æ€§é…ç½®ï¼š</p><ul><li><code>group.id</code> - å¦‚æœå¸Œæœ›æ¶ˆè´¹è€…å¯ä»¥çœ‹åˆ°ä¸»é¢˜çš„æ‰€æœ‰æ¶ˆæ¯ï¼Œé‚£ä¹ˆéœ€è¦ä¸ºå®ƒä»¬è®¾ç½®å”¯ä¸€çš„ <code>group.id</code>ã€‚</li><li><code>auto.offset.reset</code> - æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼š <ul><li><code>earliest</code> - æ¶ˆè´¹è€…ä¼šä»åˆ†åŒºçš„å¼€å§‹ä½ç½®è¯»å–æ•°æ®</li><li><code>latest</code> - æ¶ˆè´¹è€…ä¼šä»åˆ†åŒºæœ«å°¾ä½ç½®è¯»å–æ•°æ®</li></ul></li><li><code>enable.auto.commit</code> - æ¶ˆè´¹è€…è‡ªåŠ¨æäº¤åç§»é‡ã€‚å¦‚æœè®¾ä¸º trueï¼Œå¤„ç†æµç¨‹æ›´ç®€å•ï¼Œä½†æ— æ³•ä¿è¯é‡å¤å¤„ç†æ¶ˆæ¯ã€‚</li><li><code>auto.commit.interval.ms</code> - è‡ªåŠ¨æäº¤çš„é¢‘ç‡ï¼Œé»˜è®¤ä¸ºæ¯ 5 ç§’æäº¤ä¸€æ¬¡ã€‚</li></ul><p>å¦‚æœ <code>enable.auto.commit</code> è®¾ä¸º trueï¼Œå³è‡ªåŠ¨æäº¤ï¼Œå°±æ— éœ€è€ƒè™‘æäº¤åç§»é‡çš„é—®é¢˜ã€‚</p><p>å¦‚æœé€‰æ‹©æ˜¾ç¤ºæäº¤åç§»é‡ï¼Œéœ€è¦è€ƒè™‘ä»¥ä¸‹é—®é¢˜ï¼š</p><ul><li>å¿…é¡»åœ¨å¤„ç†å®Œæ¶ˆæ¯åå†å‘é€ç¡®è®¤ï¼ˆæäº¤åç§»é‡ï¼‰ï¼Œä¸è¦æ”¶åˆ°æ¶ˆæ¯ç«‹å³ç¡®è®¤ã€‚</li><li>æäº¤é¢‘ç‡æ˜¯æ€§èƒ½å’Œé‡å¤æ¶ˆæ¯æ•°ä¹‹é—´çš„æƒè¡¡</li><li>åˆ†åŒºå†å‡è¡¡</li><li>æ¶ˆè´¹å¯èƒ½éœ€è¦é‡è¯•æœºåˆ¶</li><li>è¶…æ—¶å¤„ç†</li><li>æ¶ˆè´¹è€…å¯èƒ½éœ€è¦ç»´æŠ¤æ¶ˆè´¹çŠ¶æ€ï¼Œå¦‚ï¼šå¤„ç†å®Œæ¶ˆæ¯åï¼Œè®°å½•åœ¨æ•°æ®åº“ä¸­ã€‚</li><li>å¹‚ç­‰æ€§è®¾è®¡ <ul><li>å†™æ•°æ®åº“ï¼šæ ¹æ®ä¸»é”®åˆ¤æ–­è®°å½•æ˜¯å¦å­˜åœ¨</li><li>å†™ Redisï¼šset æ“ä½œå¤©ç„¶å…·æœ‰å¹‚ç­‰æ€§</li><li>å¤æ‚çš„é€»è¾‘å¤„ç†ï¼Œåˆ™å¯ä»¥åœ¨æ¶ˆæ¯ä¸­åŠ å…¥å…¨å±€ ID</li></ul></li></ul><h3 id="ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯ä¸é‡å¤-ğŸŒŸğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯ä¸é‡å¤-ğŸŒŸğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯ Kafka æ¶ˆæ¯ä¸é‡å¤ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</h3><p>åœ¨ MQTT åè®®ä¸­ï¼Œç»™å‡ºäº†ä¸‰ç§ä¼ é€’æ¶ˆæ¯æ—¶èƒ½å¤Ÿæä¾›çš„æœåŠ¡è´¨é‡æ ‡å‡†ï¼Œè¿™ä¸‰ç§æœåŠ¡è´¨é‡ä»ä½åˆ°é«˜ä¾æ¬¡æ˜¯ï¼š</p><ul><li><strong>At most once</strong>ï¼šè‡³å¤šä¸€æ¬¡ã€‚æ¶ˆæ¯åœ¨ä¼ é€’æ—¶ï¼Œæœ€å¤šä¼šè¢«é€è¾¾ä¸€æ¬¡ã€‚æ¢ä¸€ä¸ªè¯´æ³•å°±æ˜¯ï¼Œæ²¡ä»€ä¹ˆæ¶ˆæ¯å¯é æ€§ä¿è¯ï¼Œå…è®¸ä¸¢æ¶ˆæ¯ã€‚ä¸€èˆ¬éƒ½æ˜¯ä¸€äº›å¯¹æ¶ˆæ¯å¯é æ€§è¦æ±‚ä¸å¤ªé«˜çš„ç›‘æ§åœºæ™¯ä½¿ç”¨ï¼Œæ¯”å¦‚æ¯åˆ†é’Ÿä¸ŠæŠ¥ä¸€æ¬¡æœºæˆ¿æ¸©åº¦æ•°æ®ï¼Œå¯ä»¥æ¥å—æ•°æ®å°‘é‡ä¸¢å¤±ã€‚</li><li><strong>At least once</strong>: è‡³å°‘ä¸€æ¬¡ã€‚æ¶ˆæ¯åœ¨ä¼ é€’æ—¶ï¼Œè‡³å°‘ä¼šè¢«é€è¾¾ä¸€æ¬¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å…è®¸ä¸¢æ¶ˆæ¯ï¼Œä½†æ˜¯å…è®¸æœ‰å°‘é‡é‡å¤æ¶ˆæ¯å‡ºç°ã€‚</li><li><strong>Exactly once</strong>ï¼šæ°å¥½ä¸€æ¬¡ã€‚æ¶ˆæ¯åœ¨ä¼ é€’æ—¶ï¼Œåªä¼šè¢«é€è¾¾ä¸€æ¬¡ï¼Œä¸å…è®¸ä¸¢å¤±ä¹Ÿä¸å…è®¸é‡å¤ï¼Œè¿™ä¸ªæ˜¯æœ€é«˜çš„ç­‰çº§ã€‚</li></ul><p>ç»å¤§éƒ¨åˆ†æ¶ˆæ¯é˜Ÿåˆ—æä¾›çš„æœåŠ¡è´¨é‡éƒ½æ˜¯ At least onceï¼ŒåŒ…æ‹¬ RocketMQã€RabbitMQ å’Œ Kafka éƒ½æ˜¯è¿™æ ·ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¶ˆæ¯é˜Ÿåˆ—å¾ˆéš¾ä¿è¯æ¶ˆæ¯ä¸é‡å¤ã€‚</p><p>ä¸€èˆ¬è§£å†³é‡å¤æ¶ˆæ¯çš„åŠæ³•æ˜¯ï¼Œåœ¨æ¶ˆè´¹ç«¯ï¼Œ<strong>ä¿è¯æ¶ˆè´¹æ¶ˆæ¯çš„æ“ä½œå…·å¤‡å¹‚ç­‰æ€§</strong>ã€‚</p><p><strong>å¹‚ç­‰</strong>ï¼ˆidempotentã€idempotenceï¼‰æ˜¯ä¸€ä¸ªæ•°å­¦ä¸è®¡ç®—æœºå­¦æ¦‚å¿µï¼ŒæŒ‡çš„æ˜¯ï¼š<strong>ä¸€ä¸ªå¹‚ç­‰æ“ä½œçš„ç‰¹ç‚¹æ˜¯å…¶ä»»æ„å¤šæ¬¡æ‰§è¡Œæ‰€äº§ç”Ÿçš„å½±å“å‡ä¸ä¸€æ¬¡æ‰§è¡Œçš„å½±å“ç›¸åŒã€‚</strong></p><p>å¸¸ç”¨çš„å®ç°å¹‚ç­‰æ“ä½œçš„æ–¹æ³•ï¼š</p><ul><li><strong>æ¶ˆè´¹è€…å¹‚ç­‰å¤„ç†</strong><ul><li>å­˜å‚¨å·²å¤„ç†æ¶ˆæ¯ IDï¼ˆå¦‚ offset/ä¸šåŠ¡ IDï¼‰åˆ° DB/Redisï¼Œå¤„ç†å‰æ ¡éªŒå»é‡ã€‚</li><li><em>ä¼˜ç‚¹</em>ï¼šå®ç°ç®€å•ï¼›<em>ç¼ºç‚¹</em>ï¼šä¾èµ–å¤–éƒ¨å­˜å‚¨æ€§èƒ½ã€‚</li></ul></li><li><strong>Kafka å¹‚ç­‰æ€§ä¸äº‹åŠ¡</strong><ul><li><strong>ç”Ÿäº§è€…</strong>ï¼šå¯ç”¨<code>enable.idempotence=true</code>ï¼Œé¿å…ç½‘ç»œé‡è¯•å¯¼è‡´é‡å¤ã€‚</li><li><strong>æ¶ˆè´¹è€…</strong>ï¼šé…åˆäº‹åŠ¡æäº¤ Offsetï¼Œç¡®ä¿&quot;ç²¾ç¡®ä¸€æ¬¡&quot;å¤„ç†ã€‚</li><li><em>è¦æ±‚</em>ï¼šéœ€ Kafka 0.11+ç‰ˆæœ¬æ”¯æŒã€‚</li></ul></li><li><strong>ä¸šåŠ¡é€»è¾‘å»é‡</strong><ul><li>è®¾è®¡å¤©ç„¶å¹‚ç­‰æ“ä½œï¼ˆå¦‚è®¢å•çŠ¶æ€æ›´æ–°ï¼š&quot;SET status=paid&quot;ï¼‰ã€‚</li><li><em>ä¼˜åŠ¿</em>ï¼šé«˜æ€§èƒ½ï¼›<em>æŒ‘æˆ˜</em>ï¼šéœ€æ·±åº¦ç†è§£ä¸šåŠ¡ã€‚</li></ul></li></ul><h3 id="ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯æœ‰åº-ğŸŒŸğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯æœ‰åº-ğŸŒŸğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯ Kafka æ¶ˆæ¯æœ‰åºï¼ŸğŸŒŸğŸŒŸğŸŒŸ</h3><p><strong>å¯¹æ¶ˆæ¯æœ‰åºæœ‰è¦æ±‚çš„åœºæ™¯</strong></p><table><thead><tr><th style="text-align:left;"><strong>åœºæ™¯</strong></th><th style="text-align:left;"><strong>é¡ºåºæ€§è¦æ±‚ç¤ºä¾‹</strong></th></tr></thead><tbody><tr><td style="text-align:left;">é‡‘èäº¤æ˜“</td><td style="text-align:left;">è½¬è´¦æŒ‡ä»¤å¿…é¡»æŒ‰ <code>å¼€æˆ·â†’å­˜æ¬¾â†’è½¬è´¦</code> é¡ºåºæ‰§è¡Œ</td></tr><tr><td style="text-align:left;">æ—¥å¿—èšåˆ</td><td style="text-align:left;">é”™è¯¯æ—¥å¿—éœ€æŒ‰æ—¶é—´é¡ºåºæ’åˆ—ï¼š<code>å¯åŠ¨â†’è¿è¡Œâ†’å¼‚å¸¸â†’ç»ˆæ­¢</code></td></tr><tr><td style="text-align:left;">åº“å­˜ç®¡ç†</td><td style="text-align:left;">æ“ä½œé¡ºåºå¿…é¡»ä¸º <code>å…¥åº“â†’å‡ºåº“â†’ç›˜ç‚¹</code>ï¼Œå¦åˆ™åº“å­˜æ•°æ®ä¸ä¸€è‡´</td></tr><tr><td style="text-align:left;">æµåª’ä½“</td><td style="text-align:left;">è§†é¢‘å¸§éœ€æŒ‰ <code>I å¸§â†’P å¸§â†’B å¸§</code> é¡ºåºä¼ è¾“ï¼Œå¦åˆ™è§£ç å¤±è´¥</td></tr></tbody></table><p>Kafka æä¾›äº†<strong>æœ‰é™åº¦çš„é¡ºåºæ€§ä¿è¯</strong>ï¼Œå…·ä½“æ¥è¯´ï¼š</p><ul><li>åœ¨åŒä¸€ä¸ªåˆ†åŒºå†…ï¼Œæ¶ˆæ¯æ˜¯æœ‰åºçš„ã€‚</li><li>é æ¶ˆæ¯é”®å°†ç›¸å…³æ¶ˆæ¯åˆ†é…åˆ°åŒä¸€åˆ†åŒºï¼Œå¯ä»¥ä¿è¯è¿™äº›æ¶ˆæ¯åœ¨åŒä¸€åˆ†åŒºå†…ä¾ç„¶æœ‰åºã€‚</li></ul><p><strong>å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„ä¸¥æ ¼é¡ºåºæ€§</strong></p><ul><li><strong>åˆ†åŒº</strong>ï¼šç¡®ä¿ç”Ÿäº§è€…å°†åŒä¸€ç±»å‹çš„æ¶ˆæ¯å‘é€åˆ°ç‰¹å®šåˆ†åŒºã€‚Kafka ä¿è¯ä¸€ä¸ªåˆ†åŒºå†…çš„æ¶ˆæ¯æ˜¯æŒ‰é¡ºåºå­˜å‚¨å’Œæ¶ˆè´¹çš„ã€‚</li><li><strong>æ¶ˆæ¯é”®</strong>ï¼šä½¿ç”¨æ¶ˆæ¯é”®ï¼ˆKeyï¼‰æ¥æ§åˆ¶æ¶ˆæ¯çš„åˆ†åŒºã€‚ç›¸åŒçš„ Key æ€»æ˜¯è¢«è·¯ç”±åˆ°åŒä¸€ä¸ªåˆ†åŒºï¼Œä»è€Œä¿è¯äº†å…·æœ‰ç›¸åŒ Key çš„æ¶ˆæ¯é¡ºåºã€‚</li><li><strong>å•ç”Ÿäº§è€…çº¿ç¨‹</strong>ï¼šç¡®ä¿ç”Ÿäº§è€…æ˜¯å•çº¿ç¨‹çš„æˆ–ä½¿ç”¨æœ‰åºçš„å‘é€æœºåˆ¶ï¼Œè¿™æ ·å°±ä¸ä¼šå› å¤šçº¿ç¨‹çš„å¹¶å‘å‘é€è€Œæ‰“ä¹±é¡ºåºã€‚</li><li><strong>ç”Ÿäº§è€…ä¸­çš„åˆ†åŒºå™¨</strong>ï¼šKafka çš„è‡ªå®šä¹‰åˆ†åŒºå™¨å¯ä»¥ç¡®ä¿ç›¸åŒ Key çš„æ¶ˆæ¯å§‹ç»ˆå‘é€åˆ°åŒä¸€ä¸ªåˆ†åŒºã€‚</li></ul><p><strong>é«˜å¹¶å‘åœºæ™¯ä¸‹å¦‚ä½•ä¼˜åŒ–é¡ºåºæ¶ˆè´¹</strong></p><ul><li><strong>å¹¶è¡Œå¤„ç†</strong>ï¼šåœ¨æ¶ˆè´¹ç«¯ï¼Œå¯ä»¥é€šè¿‡æ‹†åˆ†æ­¥éª¤æ¥å¹¶è¡Œå¤„ç†éƒ¨åˆ†æ— é¡ºåºä¾èµ–çš„é€»è¾‘ï¼Œä»è€Œæé«˜æ•´ä½“ååé‡ã€‚</li><li><strong>å¼‚æ­¥å¤„ç†</strong>ï¼šåˆ©ç”¨å¼‚æ­¥å¤„ç†æœºåˆ¶å¤„ç†æ¶ˆæ¯ï¼Œä½†éœ€è¦ç¡®ä¿æ¶ˆæ¯çš„æ ¸å¿ƒé€»è¾‘æ˜¯é¡ºåºæ‰§è¡Œçš„ï¼Œä»è€Œä¿è¯é¡ºåºã€‚</li><li><strong>å¤šçº¿ç¨‹æ¶ˆè´¹</strong>ï¼šåœ¨ä¸åŒæ¶ˆè´¹ç»„ä¸­æ ¹æ®åˆ†åŒºå¹¶è¡Œæ¶ˆè´¹ï¼Œä½†ä»éœ€æ¯ä¸ªåˆ†åŒºå†…çš„æ¶ˆè´¹çº¿ç¨‹æŒ‰ç…§é¡ºåºå¤„ç†æ¶ˆæ¯ã€‚</li></ul><p><strong>å…³é”®æœºåˆ¶</strong></p><ul><li><strong>åˆ†åŒºæœºåˆ¶</strong>ï¼šåœ¨ Kafka ä¸­ï¼Œæ¯ä¸ª Topic éƒ½å¯ä»¥é…ç½®ä¸ºå¤šä¸ªåˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºéƒ½æ˜¯ä¸€ä¸ªæœ‰åºçš„ã€ä¸å¯å˜çš„æ¶ˆæ¯æ—¥å¿—ã€‚ç”Ÿäº§è€…åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œå¯ä»¥æŒ‡å®šæ¶ˆæ¯çš„é”®ï¼ˆKeyï¼‰ï¼ŒKafka æ ¹æ®è¿™ä¸ªé”®æ¥è¿›è¡Œå“ˆå¸Œè¿ç®—ï¼Œå°†æ¶ˆæ¯å†™å…¥ç›¸åº”çš„åˆ†åŒºã€‚åŒä¸€é”®çš„æ¶ˆæ¯æ€»ä¼šè¢«å†™å…¥åˆ°åŒä¸€ä¸ªåˆ†åŒºï¼Œè¿™æ ·å°±ä¿è¯äº†åŒä¸€é”®çš„æ¶ˆæ¯åœ¨åŒä¸€ä¸ªåˆ†åŒºå†…æ˜¯æœ‰åºçš„ã€‚</li><li><strong>æ¶ˆæ¯é”®å’Œåˆ†åŒºç­–ç•¥</strong>ï¼šå½“ç”Ÿäº§è€…å‘é€æ¶ˆæ¯æ—¶ï¼Œå¯ä»¥é€šè¿‡é…ç½®åˆ†åŒºç­–ç•¥ï¼ˆPartitionerï¼‰å†³å®šæ¶ˆæ¯å»å“ªä¸ªåˆ†åŒºã€‚é»˜è®¤çš„åˆ†åŒºç­–ç•¥æ˜¯åŸºäºæ¶ˆæ¯é”®çš„å“ˆå¸Œå€¼ï¼Œæ¯”å¦‚ <code>hash(key) mod partitionNum</code> ã€‚é€šè¿‡è¿™ç§ç­–ç•¥ï¼Œå¯ä»¥ç¡®ä¿ç›¸åŒé”®çš„æ¶ˆæ¯è¢«å‘é€åˆ°åŒä¸€ä¸ªåˆ†åŒºï¼Œä»è€Œä¿è¯å®ƒä»¬çš„é¡ºåºæ€§ã€‚</li><li><strong>æ¶ˆè´¹ç«¯çš„é¡ºåºä¿è¯</strong>ï¼šæ¶ˆè´¹è€…åœ¨æ¶ˆè´¹æ¶ˆæ¯æ—¶ï¼ŒåŒä¸€ä¸ªæ¶ˆè´¹è€…çº¿ç¨‹åªèƒ½åŒæ—¶æ¶ˆè´¹ä¸€ä¸ªåˆ†åŒºçš„æ¶ˆæ¯ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ¶ˆè´¹ç«¯åœ¨å¤„ç†æŸä¸ªåˆ†åŒºå†…çš„æ¶ˆæ¯æ—¶æ˜¯æŒ‰é¡ºåºçš„ã€‚å¦‚æœ Kafka é›†ç¾¤ä¸­æ²¡æœ‰è¶³å¤Ÿçš„æ¶ˆè´¹è€…çº¿ç¨‹ï¼ŒæŸä¸ªæ¶ˆè´¹è€…çº¿ç¨‹å¯èƒ½éœ€è¦åŒæ—¶æ¶ˆè´¹å¤šä¸ªåˆ†åŒºçš„æ¶ˆæ¯ï¼Œä½†è¿™äº›åˆ†åŒºä¹‹é—´çš„é¡ºåºæ˜¯æ— æ³•ä¿è¯çš„ã€‚</li><li><strong>é¡ºåºæ€§åœ¨é«˜å¯ç”¨ç¯å¢ƒä¸‹çš„æŒ‘æˆ˜</strong>ï¼šå½“ Kafka åˆ†åŒºçš„ Leader å‘ç”Ÿåˆ‡æ¢æ—¶ï¼Œå¯èƒ½ä¼šæœ‰çŸ­æ—¶é—´çš„æ•°æ®ä¸ä¸€è‡´ã€‚å¦‚æœå¤„ç†ä¸å½“ï¼Œå¯èƒ½ä¼šå½±å“é¡ºåºæ€§ä¿è¯ã€‚Kafka é€šè¿‡ä¿æŒåˆ†åŒºå‰¯æœ¬ï¼ˆReplicaï¼‰çš„ä¸€è‡´æ€§ï¼Œå¹¶åœ¨é‡æ–°é€‰ä¸¾ Leader æ—¶ç¡®ä¿æ–° Leader ä»æœ€æ–°çš„æ•°æ®ç‚¹å¼€å§‹å¤„ç†ï¼Œå°½é‡å‡å°‘é¡ºåºæ€§çš„æŸå¤±ã€‚</li></ul><p>æœ€ä½³å®è·µ</p><ul><li><strong>ç”Ÿäº§è€…ä¼˜åŒ–</strong><ul><li>æ‰¹é‡å‘é€ï¼šåœ¨ä¿è¯é¡ºåºçš„å‰æä¸‹ï¼Œå°½é‡ä½¿ç”¨æ‰¹é‡å‘é€æ¥æé«˜ååé‡ã€‚</li><li>å¹‚ç­‰æ€§ï¼ˆIdempotenceï¼‰ï¼šKafka ç”Ÿäº§è€…æ”¯æŒå¹‚ç­‰æ€§ï¼Œç¡®ä¿æ¶ˆæ¯ä¸ä¼šå› ä¸ºé‡è¯•è€Œå¯¼è‡´é‡å¤ã€‚å¼€å¯å¹‚ç­‰æ€§å¯ä»¥è¿›ä¸€æ­¥ä¿è¯æ¶ˆæ¯é¡ºåºçš„ä¸€è‡´æ€§ã€‚</li></ul></li><li><strong>æ¶ˆè´¹è€…ä¼˜åŒ–</strong><ul><li>æ‰‹å·¥æäº¤æ¶ˆè´¹ä½ç§»ï¼šå¯ä»¥é€‰æ‹©åœ¨æ¶ˆè´¹æ¯ä¸€æ‰¹æ¶ˆæ¯åï¼Œæ‰‹å·¥æäº¤æ¶ˆè´¹ä½ç§»ï¼Œè¿™æ ·å¯ä»¥å¯¹æŸäº›æ¶ˆæ¯è¿›è¡Œé‡è¯•å¤„ç†ï¼Œç¡®ä¿æŒ‰åºæ¶ˆè´¹ã€‚</li><li>äº‹åŠ¡æ€§æ¶ˆè´¹ï¼šä½¿ç”¨ Kafka çš„äº‹åŠ¡æ€§æ”¯æŒï¼Œæ¶ˆè´¹è€…å¯ä»¥ç¡®ä¿ä¸€ç»„æ¶ˆæ¯è¦ä¹ˆå…¨éƒ¨å¤„ç†æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å›æ»šï¼Œè¿™åœ¨å¤„ç†æ‰¹é‡æ¶ˆæ¯æ—¶ä¿è¯é¡ºåºæ€§éå¸¸æœ‰æ•ˆã€‚</li><li>åç§»é‡ç®¡ç†ï¼šåˆç†ç®¡ç†å’Œæäº¤åç§»é‡ï¼ˆOffsetï¼‰ï¼Œç¡®ä¿åœ¨å‡ºç°é”™è¯¯æˆ–é‡å¯æ—¶èƒ½ç»§ç»­ä¿æŒé¡ºåºæ¶ˆè´¹ã€‚</li></ul></li><li><strong>Kafka é…ç½®è°ƒä¼˜</strong><ul><li>min.insync.replicasï¼šç¡®ä¿æœ€å°åŒæ­¥å‰¯æœ¬æ•°ï¼Œä»¥æé«˜æ¶ˆæ¯çš„å¯é æ€§å’Œé¡ºåºæ€§ä¿éšœã€‚</li><li>acks è®¾ç½®ï¼šç”Ÿäº§è€…çš„ acks è®¾ç½®ä¸º &#39;all&#39;ï¼ˆæˆ– -1ï¼‰ï¼Œç¡®ä¿æ‰€æœ‰å‰¯æœ¬å·²æ¥æ”¶åˆ°æ¶ˆæ¯å†è¿›è¡Œç¡®è®¤ï¼Œä¿éšœæ¶ˆæ¯é¡ºåºå’ŒæŒä¹…æ€§ã€‚</li></ul></li></ul><h3 id="ã€å›°éš¾ã€‘å¦‚ä½•åº”å¯¹-kafka-æ¶ˆæ¯ç§¯å‹-ğŸŒŸğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘å¦‚ä½•åº”å¯¹-kafka-æ¶ˆæ¯ç§¯å‹-ğŸŒŸğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘å¦‚ä½•åº”å¯¹ Kafka æ¶ˆæ¯ç§¯å‹ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</h3><ul><li><strong>ç´§æ€¥å¤„ç†</strong><ul><li>å¢åŠ æ¶ˆè´¹è€…å®ä¾‹ï¼ˆä¸è¶…è¿‡åˆ†åŒºæ•°ï¼‰</li><li>è°ƒæ•´å‚æ•°ï¼šå¢å¤§ max.poll.records</li><li>é€‰æ‹©æ€§è·³è¿‡ï¼šé‡ç½® offsetï¼ˆä»…é™éå…³é”®æ•°æ®ï¼‰</li></ul></li><li><strong>æ€§èƒ½ä¼˜åŒ–</strong><ul><li>é‡‡ç”¨å¼‚æ­¥å¤„ç†ï¼šåˆ†ç¦»æ¶ˆæ¯æ‹‰å–å’Œå¤„ç†é€»è¾‘</li><li>ä¼˜å…ˆå¤„ç†ï¼šç¡®ä¿å…³é”®ä¸šåŠ¡æ¶ˆæ¯ä¼˜å…ˆæ¶ˆè´¹</li></ul></li><li><strong>ç›‘æ§é¢„é˜²</strong><ul><li>å®æ—¶ç›‘æ§ Lag æŒ‡æ ‡</li><li>é…ç½®è‡ªåŠ¨æ‰©ç¼©å®¹æœºåˆ¶</li></ul></li><li><strong>æç«¯æƒ…å†µå¤„ç†</strong><ul><li>æ‹†åˆ† Topicï¼šåˆ†æ•£ç§¯å‹æ¶ˆæ¯</li><li>ç¦»çº¿å¤„ç†ï¼šå¯¼å‡ºåˆ° HDFS æ‰¹é‡æ¶ˆè´¹</li></ul></li></ul><p><strong>æ–¹æ¡ˆå¯¹æ¯”</strong></p><table><thead><tr><th>æ–¹æ³•</th><th>è§æ•ˆé€Ÿåº¦</th><th>å½±å“</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>å¢åŠ æ¶ˆè´¹è€…</td><td>ç«‹å³</td><td>æ— </td><td>åˆ†åŒºæœ‰ä½™é‡æ—¶</td></tr><tr><td>è°ƒæ•´å‚æ•°</td><td>ç«‹å³</td><td>å¯èƒ½å†…å­˜å‹åŠ›</td><td>èµ„æºå……è¶³æ—¶</td></tr><tr><td>é‡ç½® offset</td><td>ç«‹å³</td><td>æ•°æ®ä¸¢å¤±</td><td>éå…³é”®æ¶ˆæ¯</td></tr></tbody></table><p><strong>å¤„ç†åŸåˆ™</strong></p><ul><li>å…ˆæ‰©å®¹æ¶ˆè´¹è€…</li><li>å†ä¼˜åŒ–æ¶ˆè´¹é€»è¾‘</li><li>ç¡®ä¿æ ¸å¿ƒä¸šåŠ¡</li><li>å»ºç«‹é¢„é˜²æœºåˆ¶</li></ul><h3 id="ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•å®ç°å¹‚ç­‰æ€§-producer-å®ƒå¯¹æ¶ˆæ¯å¤„ç†çš„æ„ä¹‰æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•å®ç°å¹‚ç­‰æ€§-producer-å®ƒå¯¹æ¶ˆæ¯å¤„ç†çš„æ„ä¹‰æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•å®ç°å¹‚ç­‰æ€§ Producerï¼Ÿå®ƒå¯¹æ¶ˆæ¯å¤„ç†çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p><strong>æœ€ä½³å®è·µ</strong>ï¼šå¹‚ç­‰æ€§+äº‹åŠ¡+åˆç†é‡è¯•é…ç½®ï¼Œæ„å»ºé«˜å¯é æ¶ˆæ¯ç³»ç»Ÿ</p><p><strong>æ ¸å¿ƒé…ç½®</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Properties</span> props <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
props<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;enable.idempotence&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å¯ç”¨å¹‚ç­‰æ€§</span>
props<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;acks&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// ç¡®ä¿æ‰€æœ‰å‰¯æœ¬ç¡®è®¤</span>
props<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;retries&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ— é™é‡è¯•</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å…³é”®ç‰¹æ€§</strong></p><table><thead><tr><th>ç‰¹æ€§</th><th>è¯´æ˜</th><th>ä¼˜åŠ¿</th></tr></thead><tbody><tr><td>æ¶ˆæ¯å»é‡</td><td>è‡ªåŠ¨è¿‡æ»¤é‡å¤æ¶ˆæ¯</td><td>é¿å…æ•°æ®é‡å¤</td></tr><tr><td>é¡ºåºä¿è¯</td><td>å•åˆ†åŒºå†…æ¶ˆæ¯æœ‰åº</td><td>ç»´æŠ¤æ•°æ®ä¸€è‡´æ€§</td></tr><tr><td>è‡ªåŠ¨é‡è¯•</td><td>å†…ç½®å®‰å…¨é‡è¯•æœºåˆ¶</td><td>æå‡å¯é æ€§</td></tr></tbody></table><p><strong>é«˜çº§åº”ç”¨</strong></p><ul><li><strong>äº‹åŠ¡æ”¯æŒ</strong></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>props<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;transactional.id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;txn-1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
producer<span class="token punctuation">.</span><span class="token function">initTransactions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// åˆå§‹åŒ–äº‹åŠ¡</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>Exactly-Once è¯­ä¹‰</strong><ul><li>ç»“åˆå¹‚ç­‰æ€§å’Œäº‹åŠ¡</li><li>ç¡®ä¿ç«¯åˆ°ç«¯ä¸€æ¬¡æ€§å¤„ç†</li></ul></li></ul><p><strong>ä½¿ç”¨å»ºè®®</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šé‡‘èäº¤æ˜“ã€è®¢å•å¤„ç†ç­‰å…³é”®ä¸šåŠ¡</li><li><strong>æ€§èƒ½å½±å“</strong>ï¼šè½»å¾®ååé‡ä¸‹é™ï¼Œæ¢å–æ•°æ®å¯é æ€§</li><li><strong>ç‰ˆæœ¬è¦æ±‚</strong>ï¼šKafka 0.11+</li></ul><h2 id="kafka-æ¶æ„" tabindex="-1"><a class="header-anchor" href="#kafka-æ¶æ„" aria-hidden="true">#</a> Kafka æ¶æ„</h2><h3 id="ã€ä¸­ç­‰ã€‘kafka-å„ç»„ä»¶å¦‚ä½•è¿›è¡Œä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-å„ç»„ä»¶å¦‚ä½•è¿›è¡Œä¼˜åŒ–" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka å„ç»„ä»¶å¦‚ä½•è¿›è¡Œä¼˜åŒ–ï¼Ÿ</h3><ul><li><strong>Producer ä¼˜åŒ–</strong><ul><li>æ‰¹é‡å‘é€ï¼ˆ<code>linger.ms</code>+<code>batch.size</code>ï¼‰</li><li>å‹ç¼©ç®—æ³•ï¼ˆSnappy/Gzip é™ä½å¸¦å®½å ç”¨ï¼‰</li><li>å¼‚æ­¥å‘é€ï¼ˆ<code>acks=1/all</code>å¹³è¡¡æ€§èƒ½ä¸å¯é æ€§ï¼‰</li></ul></li><li><strong>Consumer ä¼˜åŒ–</strong><ul><li>åŠ¨æ€åˆ†åŒºåˆ†é…ï¼ˆ<code>range/round-robin</code>ç­–ç•¥ï¼‰</li><li>æ‰‹åŠ¨æäº¤ Offsetï¼ˆ<code>enable.auto.commit=false</code>é¿å…é‡å¤/ä¸¢å¤±ï¼‰</li><li>å¹¶è¡Œæ¶ˆè´¹ï¼ˆåˆ†åŒºæ•°â‰¥æ¶ˆè´¹è€…æ•°ï¼Œé¿å…é—²ç½®ï¼‰</li></ul></li><li><strong>Broker ä¼˜åŒ–</strong><ul><li>å‰¯æœ¬æœºåˆ¶ï¼ˆ<code>replication.factorâ‰¥2</code>ä¿éšœå®¹é”™ï¼‰</li><li>ISR åˆ—è¡¨ï¼ˆåŒæ­¥å‰¯æœ¬å¿«é€Ÿé€‰ä¸¾æ–° Leaderï¼‰</li><li>ç£ç›˜é¡ºåºå†™ï¼ˆé«˜ååè®¾è®¡ï¼Œé¿å…éšæœº IOï¼‰</li></ul></li></ul><p><strong>å…³é”®é…ç½®å»ºè®®</strong></p><table><thead><tr><th>åœºæ™¯</th><th>æ¨èé…ç½®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>é«˜åååœºæ™¯</td><td><code>compression.type=snappy</code></td><td>å‹ç¼©ç‡ä¸ CPU å¼€é”€å¹³è¡¡</td></tr><tr><td>æ•°æ®æŒä¹…åŒ–è¦æ±‚</td><td><code>log.retention.hours=168</code>ï¼ˆ7 å¤©ï¼‰</td><td>æ ¹æ®å­˜å‚¨å®¹é‡è°ƒæ•´</td></tr><tr><td>ä½å»¶è¿Ÿåœºæ™¯</td><td><code>num.io.threads=8</code>ï¼ˆé»˜è®¤å€¼ç¿»å€ï¼‰</td><td>æå‡ç£ç›˜ IO å¹¶è¡Œåº¦</td></tr></tbody></table><p><strong>ç‰ˆæœ¬æ¼”è¿›æ³¨æ„</strong></p><ul><li><strong>KRaft æ¨¡å¼</strong>ï¼šKafka 3.0+ç‰ˆæœ¬å†…ç½®å…ƒæ•°æ®ç®¡ç†ï¼Œé€æ­¥æ·˜æ±° Zookeeper ä¾èµ–</li><li><strong>æ€§èƒ½å–èˆ</strong>ï¼šåˆ†åŒºæ•°å¹¶éè¶Šå¤šè¶Šå¥½ï¼ˆå»ºè®®å• Brokerâ‰¤2000 åˆ†åŒºï¼Œé¿å…å…ƒæ•°æ®è†¨èƒ€ï¼‰</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-ä¸ºä»€ä¹ˆæ€§èƒ½é«˜-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-ä¸ºä»€ä¹ˆæ€§èƒ½é«˜-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka ä¸ºä»€ä¹ˆæ€§èƒ½é«˜ï¼ŸğŸŒŸğŸŒŸ</h3><p>Kafka çš„æ•°æ®å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œä¸ºä»€ä¹ˆè¿˜èƒ½è¿™ä¹ˆå¿«ï¼Ÿ</p><p>è¯´ Kafka å¾ˆå¿«æ—¶ï¼Œä»–ä»¬é€šå¸¸æŒ‡çš„æ˜¯ Kafka é«˜æ•ˆç§»åŠ¨å¤§é‡æ•°æ®çš„èƒ½åŠ›ã€‚Kafka ä¸ºäº†æé«˜ä¼ è¾“æ•ˆç‡ï¼Œåšäº†å¾ˆå¤šç²¾å¦™çš„è®¾è®¡ã€‚</p><div class="hint-container info"><p class="hint-container-title">é¡ºåº I/Oï¼ˆè¿½åŠ å†™å…¥ï¼‰</p></div><p>ç£ç›˜è¯»å†™æœ‰ä¸¤ç§æ–¹å¼ï¼šé¡ºåºè¯»å†™æˆ–è€…éšæœºè¯»å†™ã€‚åœ¨é¡ºåºè¯»å†™çš„æƒ…å†µä¸‹ï¼Œç£ç›˜çš„é¡ºåºè¯»å†™é€Ÿåº¦å’Œå†…å­˜æ¥è¿‘ã€‚å› ä¸ºç£ç›˜æ˜¯æœºæ¢°ç»“æ„ï¼Œæ¯æ¬¡è¯»å†™éƒ½ä¼šå¯»å€å†™å…¥ï¼Œå…¶ä¸­å¯»å€æ˜¯ä¸€ä¸ªâ€œæœºæ¢°åŠ¨ä½œâ€ã€‚Kafka åˆ©ç”¨äº†ä¸€ç§åˆ†æ®µå¼çš„ã€åªè¿½åŠ  (Append-Only) çš„æ—¥å¿—ï¼ŒåŸºæœ¬ä¸ŠæŠŠè‡ªèº«çš„è¯»å†™æ“ä½œé™åˆ¶ä¸º<strong>é¡ºåº I/O</strong>ï¼Œä¹Ÿå°±ä½¿å¾—å®ƒåœ¨å„ç§å­˜å‚¨ä»‹è´¨ä¸Šèƒ½æœ‰å¾ˆå¿«çš„é€Ÿåº¦ã€‚</p><div class="hint-container info"><p class="hint-container-title">é›¶æ‹·è´</p></div><p>Kafka æ•°æ®ä¼ è¾“æ˜¯ä¸€ä¸ªä»ç½‘ç»œåˆ°ç£ç›˜ï¼Œå†ç”±ç£ç›˜åˆ°ç½‘ç»œçš„è¿‡ç¨‹ã€‚åœ¨ç½‘ç»œå’Œç£ç›˜ä¹‹é—´ä¼ è¾“æ•°æ®æ—¶ï¼Œæ¶ˆé™¤å¤šä½™çš„å¤åˆ¶æ˜¯æé«˜æ•ˆç‡çš„å…³é”®ã€‚<strong>Kafka åˆ©ç”¨é›¶æ‹·è´æŠ€æœ¯æ¥æ¶ˆé™¤ä¼ è¾“è¿‡ç¨‹ä¸­çš„å¤šä½™å¤åˆ¶</strong>ã€‚</p><p>å¦‚æœä¸é‡‡ç”¨é›¶æ‹·è´ï¼ŒKafka å°†æ•°æ®åŒæ­¥ç»™æ¶ˆè´¹è€…çš„å¤§è‡´æµç¨‹æ˜¯ï¼š</p><ol><li>ä»ç£ç›˜åŠ è½½æ•°æ®åˆ° os buffer</li><li>æ‹·è´æ•°æ®åˆ° app buffer</li><li>å†æ‹·è´æ•°æ®åˆ° socket buffer</li><li>æ¥ä¸‹æ¥ï¼Œå°†æ•°æ®æ‹·è´åˆ°ç½‘å¡ buffer</li><li>æœ€åï¼Œé€šè¿‡ç½‘ç»œä¼ è¾“ï¼Œå°†æ•°æ®å‘é€åˆ°æ¶ˆè´¹è€…</li></ol><p>é‡‡ç”¨é›¶æ‹·è´æŠ€æœ¯ï¼ŒKafka ä½¿ç”¨ <code>sendfile()</code> ç³»ç»Ÿæ–¹æ³•ï¼Œå°†æ•°æ®ä» os buffer ç›´æ¥å¤åˆ¶åˆ°ç½‘å¡ bufferã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå”¯ä¸€ä¸€æ¬¡å¤åˆ¶æ•°æ®æ˜¯ä» os buffer åˆ°ç½‘å¡ bufferã€‚è¿™ä¸ªå¤åˆ¶è¿‡ç¨‹æ˜¯é€šè¿‡ DMAï¼ˆDirect Memory Accessï¼Œç›´æ¥å†…å­˜è®¿é—®ï¼‰ å®Œæˆçš„ã€‚ä½¿ç”¨ DMA æ—¶ï¼ŒCPU ä¸å‚ä¸ï¼Œè¿™ä½¿å¾—å®ƒéå¸¸é«˜æ•ˆã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070727055.webp" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="hint-container info"><p class="hint-container-title">å…¶ä»–æ€§èƒ½è®¾è®¡</p></div><ul><li><strong>é¡µç¼“å­˜</strong> - Kafka çš„æ•°æ®å¹¶ä¸æ˜¯å®æ—¶çš„å†™å…¥ç£ç›˜ï¼Œå®ƒå……åˆ†åˆ©ç”¨äº†ç°ä»£æ“ä½œç³»ç»Ÿåˆ†é¡µå­˜å‚¨æ¥åˆ©ç”¨å†…å­˜æé«˜ I/O æ•ˆç‡ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯æŠŠç£ç›˜ä¸­çš„æ•°æ®ç¼“å­˜åˆ°å†…å­˜ä¸­ï¼ŒæŠŠå¯¹ç£ç›˜çš„è®¿é—®å˜ä¸ºå¯¹å†…å­˜çš„è®¿é—®ã€‚Kafka æ¥æ”¶æ¥è‡ª socket buffer çš„ç½‘ç»œæ•°æ®ï¼Œåº”ç”¨è¿›ç¨‹ä¸éœ€è¦ä¸­é—´å¤„ç†ã€ç›´æ¥è¿›è¡ŒæŒä¹…åŒ–æ—¶ã€‚å¯ä»¥ä½¿ç”¨ mmap å†…å­˜æ–‡ä»¶æ˜ å°„ã€‚</li><li><strong>å‹ç¼©</strong> - Kafka å†…ç½®äº†å‡ ç§å‹ç¼©ç®—æ³•ï¼Œå¹¶å…è®¸å®šåˆ¶åŒ–å‹ç¼©ç®—æ³•ã€‚é€šè¿‡å‹ç¼©ç®—æ³•ï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘ä¼ è¾“æ•°æ®çš„å¤§å°ï¼Œä»è€Œæå‡ä¼ è¾“æ•ˆç‡ã€‚</li><li><strong>æ‰¹å¤„ç†</strong> - Kafka çš„ Clients å’Œ Brokers ä¼šæŠŠå¤šæ¡è¯»å†™çš„æ—¥å¿—è®°å½•åˆå¹¶æˆä¸€ä¸ªæ‰¹æ¬¡ï¼Œç„¶åæ‰é€šè¿‡ç½‘ç»œå‘é€å‡ºå»ã€‚æ—¥å¿—è®°å½•çš„æ‰¹å¤„ç†é€šè¿‡ä½¿ç”¨æ›´å¤§çš„åŒ…ä»¥åŠæé«˜å¸¦å®½æ•ˆç‡æ¥æ‘Šè–„ç½‘ç»œå¾€è¿”çš„å¼€é”€ã€‚</li><li><strong>åˆ†åŒº</strong> - Kafka å°† Topic åˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºå¯¹åº”ä¸€ä¸ªåä¸ºçš„ Log çš„ç£ç›˜ç›®å½•ï¼Œè€Œ Log åˆæ ¹æ®å¤§å°ï¼Œå¯ä»¥åˆ†ä¸ºå¤šä¸ª Log Segment æ–‡ä»¶ã€‚è¿™ç§åˆ†è€Œæ²»ä¹‹çš„ç­–ç•¥ï¼Œä½¿å¾— Kafka å¯ä»¥<strong>å¹¶å‘</strong>è¯»ï¼Œä»¥æ”¯æ’‘éå¸¸é«˜çš„ååé‡ã€‚æ­¤å¤–ï¼ŒKafka æ”¯æŒè´Ÿè½½å‡è¡¡æœºåˆ¶ï¼Œå°†æ•°æ®åˆ†åŒºè¿‘ä¼¼å‡åŒ€åœ°åˆ†é…ç»™æ¶ˆè´¹è€…ç¾¤ç»„çš„å„ä¸ªæ¶ˆè´¹è€…ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°æµé‡æ§åˆ¶-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°æµé‡æ§åˆ¶-ğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç°æµé‡æ§åˆ¶ï¼ŸğŸŒŸ</h3><p>Kafka é€šè¿‡å‚æ•°åŒ–é™é€Ÿå’Œè‡ªé€‚åº”èƒŒå‹å®ç°å¤šå±‚çº§æµé‡æ§åˆ¶ï¼Œéœ€æ ¹æ®ä¸šåŠ¡ç‰¹ç‚¹ï¼ˆåå/å»¶è¿Ÿ/å¯é æ€§éœ€æ±‚ï¼‰ç»„åˆé…ç½®ã€‚ç”Ÿäº§ç¯å¢ƒå»ºè®®é…åˆç›‘æ§ç³»ç»Ÿå®ç°åŠ¨æ€è°ƒèŠ‚ã€‚</p><p><strong>é™é€Ÿæ§åˆ¶ï¼ˆRate Limitingï¼‰</strong></p><table><thead><tr><th><strong>ç»„ä»¶</strong></th><th><strong>å…³é”®å‚æ•°</strong></th><th><strong>æ§åˆ¶æ•ˆæœ</strong></th></tr></thead><tbody><tr><td><strong>ç”Ÿäº§è€…</strong></td><td><code>max.in.flight.requests.per.connection</code></td><td>é™åˆ¶å•è¿æ¥æœªç¡®è®¤è¯·æ±‚æ•°ï¼ˆé»˜è®¤ 5ï¼‰</td></tr><tr><td></td><td><code>linger.ms</code></td><td>æ‰¹é‡å‘é€ç­‰å¾…æ—¶é—´ï¼ˆ0-5000msï¼‰</td></tr><tr><td><strong>æ¶ˆè´¹è€…</strong></td><td><code>fetch.min.bytes</code></td><td>å•æ¬¡æ‹‰å–æœ€å°æ•°æ®é‡ï¼ˆé»˜è®¤ 1Bï¼‰</td></tr><tr><td></td><td><code>fetch.max.wait.ms</code></td><td>æ‹‰å–è¯·æ±‚æœ€é•¿ç­‰å¾…æ—¶é—´ï¼ˆé»˜è®¤ 500msï¼‰</td></tr></tbody></table><p><strong>èƒŒå‹æœºåˆ¶ï¼ˆBackpressureï¼‰</strong></p><ul><li><strong>æ¶ˆè´¹è€…æ§åˆ¶</strong><ul><li>æ‰‹åŠ¨æäº¤åç§»é‡ï¼ˆ<code>enable.auto.commit=false</code>ï¼‰</li><li>é€šè¿‡å¤„ç†è¿›åº¦åé¦ˆè°ƒèŠ‚æ¶ˆè´¹é€Ÿç‡</li></ul></li><li><strong>ç³»ç»Ÿçº§ç¼“å†²</strong><ul><li>ç”Ÿäº§è€…ç¼“å†²åŒºï¼ˆ<code>buffer.memory</code>ï¼Œé»˜è®¤ 32MBï¼‰</li><li>æ¶ˆè´¹è€… fetch é˜Ÿåˆ—ï¼ˆ<code>queued.max.messages</code>ï¼Œé»˜è®¤ 500ï¼‰</li></ul></li></ul><p><strong>é«˜çº§æ§åˆ¶ç­–ç•¥</strong></p><ul><li><strong>åŠ¨æ€é™æµ</strong>ï¼šåŸºäºç›‘æ§æŒ‡æ ‡ï¼ˆå¦‚ CPU/ç½‘ç»œè´Ÿè½½ï¼‰è‡ªåŠ¨è°ƒæ•´ç”Ÿäº§/æ¶ˆè´¹é€Ÿç‡</li><li><strong>å¼‚æ­¥æ‰¹å¤„ç†</strong>ï¼šæµå¤„ç†æ¡†æ¶ï¼ˆFlink/Sparkï¼‰çš„å¾®æ‰¹å¤„ç†ä¼˜åŒ–ååé‡</li></ul><p><strong>é…ç½®å»ºè®®</strong></p><table><thead><tr><th><strong>åœºæ™¯</strong></th><th><strong>ä¼˜åŒ–æ–¹å‘</strong></th><th><strong>å…¸å‹å€¼</strong></th></tr></thead><tbody><tr><td>é«˜åååœºæ™¯</td><td>å¢å¤§<code>linger.ms</code>+<code>batch.size</code></td><td><code>linger.ms=50-100ms</code></td></tr><tr><td>ä½å»¶è¿Ÿåœºæ™¯</td><td>å‡å°<code>fetch.max.wait.ms</code></td><td><code>fetch.max.wait.ms=10ms</code></td></tr><tr><td>ç¨³å®šæ€§ä¼˜å…ˆ</td><td>é™ä½<code>max.in.flight.requests</code></td><td>è®¾ä¸º 1ï¼ˆç¡®ä¿é¡ºåºæ€§ï¼‰</td></tr></tbody></table><h3 id="ã€å›°éš¾ã€‘kafka-åœ¨é«˜ååé‡åœºæ™¯ä¸‹å¦‚ä½•ä¿æŒä½å»¶è¿Ÿ-æœ‰å“ªäº›æ€§èƒ½è°ƒä¼˜çš„ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-åœ¨é«˜ååé‡åœºæ™¯ä¸‹å¦‚ä½•ä¿æŒä½å»¶è¿Ÿ-æœ‰å“ªäº›æ€§èƒ½è°ƒä¼˜çš„ç­–ç•¥" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka åœ¨é«˜ååé‡åœºæ™¯ä¸‹å¦‚ä½•ä¿æŒä½å»¶è¿Ÿï¼Ÿæœ‰å“ªäº›æ€§èƒ½è°ƒä¼˜çš„ç­–ç•¥ï¼Ÿ</h3><p>é€šè¿‡ <strong>å¹¶è¡ŒåŒ–ã€æ‰¹å¤„ç†ã€ç¡¬ä»¶åŠ é€Ÿ</strong> å®ç°é«˜ååï¼ŒåŒæ—¶æ§åˆ¶åˆ†åŒº/å‰¯æœ¬æ•°é‡åŠç½‘ç»œå‚æ•°ä»¥é™ä½å»¶è¿Ÿã€‚</p><p><strong>åˆ†åŒºä¸å‰¯æœ¬ä¼˜åŒ–</strong></p><ul><li><strong>åˆ†åŒºæ•°</strong>ï¼šå¢åŠ åˆ†åŒºæå‡å¹¶è¡Œåº¦ï¼Œä½†é¿å…è¿‡å¤šï¼ˆç®¡ç†å¼€é”€ï¼‰ã€‚</li><li><strong>å‰¯æœ¬æ•°</strong>ï¼šé€šå¸¸è®¾ <strong>2-3</strong>ï¼Œå¹³è¡¡å¯é æ€§ä¸æ€§èƒ½ã€‚</li></ul><p><strong>ç”Ÿäº§ç«¯è°ƒä¼˜</strong></p><ul><li><strong>acks=1</strong>ï¼šç¡®ä¿è‡³å°‘ 1 ä¸ªå‰¯æœ¬å†™å…¥ï¼Œå…¼é¡¾æ€§èƒ½ä¸å¯é æ€§ã€‚</li><li><strong>batch.size â†‘</strong> + <strong><a href="http://linger.ms" target="_blank" rel="noopener noreferrer">linger.ms<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> â†“</strong>ï¼šå‡å°‘ç½‘ç»œè¯·æ±‚ï¼Œé™ä½å»¶è¿Ÿã€‚</li><li><strong>å‹ç¼©</strong>ï¼šé€‰ç”¨ <strong>lz4</strong>ï¼ˆé«˜æ•ˆå‹ç¼©/è§£å‹ï¼‰ï¼ŒèŠ‚çœå¸¦å®½ã€‚</li></ul><p><strong>æ¶ˆè´¹ç«¯è°ƒä¼˜</strong></p><ul><li><strong>fetch.min.bytes</strong> + <strong><a href="http://fetch.max.wait.ms" target="_blank" rel="noopener noreferrer">fetch.max.wait.ms<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></strong>ï¼šå¹³è¡¡ååä¸å»¶è¿Ÿã€‚</li></ul><p><strong>ç¡¬ä»¶ä¼˜åŒ–</strong></p><ul><li><strong>ç£ç›˜</strong>ï¼šSSDï¼ˆæ˜¾è‘—æå‡ I/O æ€§èƒ½ï¼‰ã€‚</li><li><strong>å†…å­˜/CPU</strong>ï¼šå¢å¤§å†…å­˜ç¼“å­˜æ•°æ®ï¼Œå¤šæ ¸å¤„ç†å¹¶è¡Œä»»åŠ¡ã€‚</li><li><strong>ç½‘ç»œ</strong>ï¼šç¡®ä¿é«˜å¸¦å®½ï¼Œå‡å°‘ä¼ è¾“å»¶è¿Ÿã€‚</li></ul><p><strong>Broker é…ç½®</strong></p><ul><li><strong>log.retention â†‘</strong>ï¼šå‡å°‘æ—¥å¿—é¢‘ç¹æ¸…ç†å¼€é”€ã€‚</li><li><strong>socket ç¼“å†²åŒº â†‘</strong>ï¼šæå‡ç½‘ç»œä¼ è¾“æ•ˆç‡ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-å¦‚ä½•å¤„ç†æ•°æ®å€¾æ–œé—®é¢˜-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å¤„ç†æ•°æ®å€¾æ–œé—®é¢˜-ğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka å¦‚ä½•å¤„ç†æ•°æ®å€¾æ–œé—®é¢˜ï¼ŸğŸŒŸ</h3><p>é€šè¿‡ <strong>åˆ†åŒºç­–ç•¥ä¼˜åŒ– + åŠ¨æ€èµ„æºåˆ†é… + æµé‡æ§åˆ¶</strong>ï¼Œå®ç°æ•°æ®å‡åŒ€åˆ†å¸ƒä¸ç¨³å®šååã€‚</p><p><strong>å‡è¡¡æ•°æ®åˆ†å¸ƒ</strong></p><ul><li><strong>åˆç†è®¾è®¡åˆ†åŒºé”®</strong>ï¼šé€‰æ‹©é«˜åŸºæ•°å­—æ®µï¼ˆå¦‚ <code>user_id</code>ã€<code>order_id</code>ï¼‰ï¼Œé¿å…çƒ­ç‚¹ã€‚</li><li><strong>å¢åŠ åˆ†åŒºæ•°</strong>ï¼šåˆ†æ•£æ•°æ®å‹åŠ›ï¼Œä½†é¿å…è¿‡å¤šåˆ†åŒºå¯¼è‡´ç®¡ç†è´Ÿæ‹…ã€‚</li><li><strong>è‡ªå®šä¹‰åˆ†åŒºå™¨</strong>ï¼šæŒ‰ä¸šåŠ¡é€»è¾‘é‡å†™åˆ†é…ç­–ç•¥ï¼ˆå¦‚è½®è¯¢ã€å“ˆå¸Œä¼˜åŒ–ï¼‰ã€‚</li></ul><p><strong>åŠ¨æ€è°ƒæ•´ä¸å†—ä½™</strong></p><ul><li><strong>è°ƒæ•´å‰¯æœ¬å› å­</strong>ï¼šé€‚å½“å¢åŠ å‰¯æœ¬ï¼ˆå¦‚ <code>replication-factor=3</code>ï¼‰åˆ†æ•£è¯»å‹åŠ›ï¼Œå¹³è¡¡èµ„æºå¼€é”€ã€‚</li><li><strong>åŠ¨æ€ç›‘æ§è°ƒæ•´</strong>ï¼šå®æ—¶ç›‘æ§åˆ†åŒºè´Ÿè½½ï¼Œå¿…è¦æ—¶è§¦å‘ <code>rebalance</code> æˆ–è¿ç§»æ•°æ®ã€‚</li></ul><p><strong>æµæ§ä¸é™æµ</strong></p><ul><li><strong>ç”Ÿäº§è€…é™æµ</strong>ï¼šæ§åˆ¶ <code>producer</code> é€Ÿç‡ï¼ˆå¦‚ <code>max.in.flight.requests</code>ï¼‰ã€‚</li><li><strong>æ¶ˆè´¹è€…é™æµ</strong>ï¼šè°ƒæ•´ <code>fetch.max.bytes</code> æˆ–ä½¿ç”¨èƒŒå‹æœºåˆ¶ï¼ŒåŒ¹é…æ¶ˆè´¹èƒ½åŠ›ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-å¤„ç†è¯·æ±‚çš„å…¨æµç¨‹" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-å¤„ç†è¯·æ±‚çš„å…¨æµç¨‹" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka å¤„ç†è¯·æ±‚çš„å…¨æµç¨‹ï¼Ÿ</h3><p>Kafka é‡‡ç”¨ <strong>å¤šçº¿ç¨‹æ±  + äº‹ä»¶é©±åŠ¨</strong> æ¨¡å‹ï¼Œæ ¸å¿ƒçº¿ç¨‹ç»„åˆ†å·¥å¦‚ä¸‹ï¼š</p><p><strong>ç½‘ç»œé€šä¿¡å±‚ï¼ˆ1 ä¸ª Acceptor + N ä¸ª Processorï¼‰</strong></p><ul><li><strong>Acceptor çº¿ç¨‹</strong>ï¼ˆ1 ä¸ªï¼‰ï¼šç›‘å¬ <code>ServerSocket</code>ï¼Œæ¥æ”¶å®¢æˆ·ç«¯è¿æ¥ï¼Œè½®è¯¢åˆ†å‘ç»™ <code>Processor</code> çº¿ç¨‹ã€‚</li><li><strong>Processor çº¿ç¨‹</strong>ï¼ˆé»˜è®¤ 3 ä¸ªï¼Œå¯é…ç½®ï¼‰ï¼šæ¯ä¸ª <code>Processor</code> ç»´æŠ¤ä¸€ä¸ª <code>Selector</code>ï¼ˆNIOï¼‰ï¼Œè´Ÿè´£ï¼š <ul><li><strong>è¯»è¯·æ±‚</strong>ï¼šè§£æè¯·æ±‚æ•°æ®ï¼Œæ”¾å…¥<strong>å…±äº«è¯·æ±‚é˜Ÿåˆ—</strong>ï¼ˆ<code>RequestChannel</code>ï¼‰ã€‚</li><li><strong>å†™å“åº”</strong>ï¼šä» <code>ResponseQueue</code> è·å–ç»“æœï¼Œé€šè¿‡ <code>Socket</code> è¿”å›å®¢æˆ·ç«¯ã€‚</li></ul></li></ul><p><strong>è¯·æ±‚å¤„ç†å±‚ï¼ˆKafkaRequestHandlerPoolï¼‰</strong></p><p><strong>IO çº¿ç¨‹æ± </strong>ï¼ˆé»˜è®¤ 8 ä¸ªï¼Œå¯é…ç½®ï¼‰ä» <code>RequestChannel</code> æ‹‰å–è¯·æ±‚ï¼Œæ ¹æ®ç±»å‹è°ƒç”¨å¯¹åº” <code>API å±‚</code> å¤„ç†ï¼ˆå¦‚ <code>handleProduceRequest</code>ï¼‰ã€‚</p><p>å…³é”®æ“ä½œï¼š</p><ul><li><strong>ç”Ÿäº§è¯·æ±‚</strong>ï¼šå†™å…¥ Leader å‰¯æœ¬çš„ <code>LogSegment</code>ï¼ˆå†…å­˜â†’PageCacheâ†’ç£ç›˜ï¼‰ã€‚</li><li><strong>æ¶ˆè´¹è¯·æ±‚</strong>ï¼šä» <code>PageCache</code> æˆ–ç£ç›˜è¯»å–æ•°æ®ï¼ˆé›¶æ‹·è´ä¼˜åŒ–ï¼‰ã€‚</li></ul><p><strong>åå°çº¿ç¨‹</strong></p><ul><li><strong>Log Cleaner</strong>ï¼šæ—¥å¿—å‹ç¼©ï¼ˆCompactionï¼‰å’Œåˆ é™¤ï¼ˆRetentionï¼‰ã€‚</li><li><strong>Replica Manager</strong>ï¼šå‰¯æœ¬åŒæ­¥ï¼ˆISRï¼‰ã€Leader é€‰ä¸¾ã€‚</li><li><strong>Delayed Operation</strong>ï¼šå¤„ç†å»¶è¿Ÿæ“ä½œï¼ˆå¦‚ <code>Produce</code> çš„ ACK ç­‰å¾…ï¼‰ã€‚</li></ul><figure><img src="https://rahulvishwakarma.wordpress.com/wp-content/uploads/2016/06/kafka-broker-internals.png?w=634" alt="kafka broker internals" tabindex="0" loading="lazy"><figcaption>kafka broker internals</figcaption></figure><p><strong>æ ¸å¿ƒè®¾è®¡ä¼˜åŠ¿</strong></p><ul><li><strong>è§£è€¦ç½‘ç»œ I/O ä¸ä¸šåŠ¡å¤„ç†</strong>ï¼š<code>Processor</code> ä»…è´Ÿè´£é€šä¿¡ï¼Œ<code>Handler</code> ä¸“æ³¨é€»è¾‘ã€‚</li><li><strong>æ— é”é˜Ÿåˆ—</strong>ï¼š<code>RequestChannel</code> ä½¿ç”¨ <code>ConcurrentLinkedQueue</code>ï¼Œå‡å°‘ç«äº‰ã€‚</li><li><strong>åŠ¨æ€æ‰©å±•</strong>ï¼šå¯è°ƒæ•´ <code>Processor</code> å’Œ <code>Handler</code> çº¿ç¨‹æ•°é€‚é…è´Ÿè½½ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘zookeeper-åœ¨-kafka-ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆ-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘zookeeper-åœ¨-kafka-ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆ-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘ZooKeeper åœ¨ Kafka ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸğŸŒŸ</h3><p>ZooKeeper åœ¨ Kafka ä¸­æ‰®æ¼”ç€<strong>æ ¸å¿ƒçš„åè°ƒè€…è§’è‰²</strong>ï¼Œä¸»è¦è´Ÿè´£é›†ç¾¤çš„å…ƒæ•°æ®ç®¡ç†ã€Broker åè°ƒå’ŒçŠ¶æ€ç»´æŠ¤ã€‚</p><p>Zookeeper ä»æ˜¯ Kafka 2.8 ä¹‹å‰ç‰ˆæœ¬çš„&quot;å¤§è„‘&quot;ï¼Œæ‰¿æ‹…å…³é”®åè°ƒèŒèƒ½ã€‚KRaft æ¨¡å¼å°†æˆä¸ºæ ‡å‡†æ¶æ„ï¼Œ2023 å¹´åæ–°ç‰ˆæœ¬å°†é»˜è®¤å¯ç”¨ã€‚</p><p><strong>Zookeeper çš„æ ¸å¿ƒä½œç”¨</strong></p><table><thead><tr><th><strong>åŠŸèƒ½</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>ç®¡ç† Broker å…ƒæ•°æ®</strong></td><td>ç»´æŠ¤ Broker æ³¨å†Œä¿¡æ¯ï¼ˆåœ¨çº¿/ç¦»çº¿çŠ¶æ€ï¼‰ï¼›Broker çš„ IDã€ä¸»æœºåã€ç«¯å£ç­‰å…ƒæ•°æ®ï¼›Topic/Partition å…ƒæ•°æ®</td></tr><tr><td><strong>Controller é€‰ä¸¾</strong></td><td>é€šè¿‡ä¸´æ—¶èŠ‚ç‚¹ï¼ˆEphemeral ZNodeï¼‰é€‰ä¸¾é›†ç¾¤å”¯ä¸€ Controllerï¼Œè´Ÿè´£åˆ†åŒº Leader é€‰ä¸¾</td></tr><tr><td><strong>æ•…éšœæ¢å¤</strong></td><td>ç›‘æµ‹èŠ‚ç‚¹æ•…éšœå¹¶è§¦å‘åˆ†åŒº Leader é‡é€‰ä¸¾</td></tr><tr><td><strong>æ¶ˆè´¹è€…ç»„ Offset</strong></td><td>æ—§ç‰ˆæœ¬ï¼ˆâ‰¤0.8ï¼‰å°†æ¶ˆè´¹è€… Offset å­˜å‚¨åœ¨ Zookeeperï¼Œæ–°ç‰ˆæœ¬æ”¹ç”¨å†…éƒ¨ ä¸»é¢˜ <code>_consumer_offsets</code>ã€‚</td></tr><tr><td><strong>é…ç½®ä¸­å¿ƒ</strong></td><td>å­˜å‚¨ Kafka é…ç½®å’Œæ‹“æ‰‘ä¿¡æ¯</td></tr></tbody></table><p><strong>Zookeeper çš„å±€é™æ€§</strong></p><ul><li><strong>æ€§èƒ½ç“¶é¢ˆ</strong>ï¼šé«˜é¢‘å…ƒæ•°æ®æ“ä½œï¼ˆå¦‚åˆ†åŒºé‡å¹³è¡¡ï¼‰å¯èƒ½å¯¼è‡´ Zookeeper æˆä¸ºæ€§èƒ½ç“¶é¢ˆã€‚</li><li><strong>è¿ç»´å¤æ‚åº¦</strong>ï¼šéœ€å•ç‹¬ç»´æŠ¤ Zookeeper é›†ç¾¤ï¼Œå¢åŠ è¿ç»´è´Ÿæ‹…ã€‚</li><li><strong>æ‰©å±•æ€§å·®</strong>ï¼šZookeeper çš„å†™æ€§èƒ½éšèŠ‚ç‚¹æ•°å¢åŠ è€Œä¸‹é™ã€‚</li></ul><p><strong>å» Zookeeper åŒ–</strong></p><ul><li><strong>ç›®æ ‡</strong>ï¼šç”¨ Kafka è‡ªèº«æœºåˆ¶æ›¿ä»£ Zookeeperï¼Œç®€åŒ–æ¶æ„ã€‚</li><li><strong>å®ç°æ–¹æ¡ˆ</strong>ï¼š <ul><li><strong>Raft åè®®</strong>ï¼šé€šè¿‡å†…ç½®çš„ Raft å…±è¯†ç®—æ³•ç®¡ç†å…ƒæ•°æ®ï¼ˆç±»ä¼¼ ZooKeeper çš„ ZABï¼‰ã€‚</li><li><strong>å†…éƒ¨ Topic</strong>ï¼šå°†å…ƒæ•°æ®å­˜å‚¨åœ¨ Kafka çš„ <code>__cluster_metadata</code> Topic ä¸­ï¼Œåˆ©ç”¨å‰¯æœ¬æœºåˆ¶ä¿è¯é«˜å¯ç”¨ã€‚</li></ul></li><li><strong>ä¼˜åŠ¿</strong>ï¼š <ul><li>å‡å°‘å¤–éƒ¨ä¾èµ–ï¼Œé™ä½è¿ç»´æˆæœ¬ã€‚</li><li>æå‡å…ƒæ•°æ®æ“ä½œçš„ååé‡å’Œå»¶è¿Ÿã€‚</li></ul></li></ul><p><strong>è¿ç»´å»ºè®®</strong></p><ul><li><strong>Zookeeper é›†ç¾¤é…ç½®</strong>ï¼š <ul><li>è‡³å°‘éƒ¨ç½² <strong>3/5 ä¸ªèŠ‚ç‚¹</strong>ï¼ˆå®¹å¿ 1/2 ä¸ªèŠ‚ç‚¹æ•…éšœï¼‰ã€‚</li><li>éš”ç¦» Zookeeper ä¸ Kafka çš„ç£ç›˜ I/Oï¼Œé¿å…èµ„æºç«äº‰ã€‚</li></ul></li><li><strong>ç›‘æ§æŒ‡æ ‡</strong>ï¼š <ul><li>Zookeeper çš„ <code>znode</code> æ•°é‡ã€å»¶è¿Ÿï¼ˆ<code>avg_latency</code>ï¼‰ã€æ´»è·ƒè¿æ¥æ•°ã€‚</li><li>Kafka Controller çš„å­˜æ´»çŠ¶æ€åŠåˆ‡æ¢é¢‘ç‡ã€‚</li></ul></li></ul><p><strong>æ€»ç»“</strong></p><ul><li><strong>ç°çŠ¶</strong>ï¼šZookeeper ä»æ˜¯ Kafka çš„æ ¸å¿ƒä¾èµ–ï¼ˆ3.x ç‰ˆæœ¬ï¼‰ï¼Œè´Ÿè´£é›†ç¾¤å…ƒæ•°æ®ç®¡ç†ã€‚</li><li><strong>æœªæ¥</strong>ï¼šKIP-500 å°†é€æ­¥ç§»é™¤ Zookeeperï¼Œé‡‡ç”¨è‡ªç®¡ç†çš„ Raft å…ƒæ•°æ®æœåŠ¡ã€‚</li><li><strong>å…³é”®æªæ–½</strong>ï¼š <ul><li>ä¿éšœ Zookeeper é›†ç¾¤çš„é«˜å¯ç”¨ï¼ˆå¥‡æ•°èŠ‚ç‚¹+åˆ†æ•£éƒ¨ç½²ï¼‰ã€‚</li><li>å…³æ³¨ Kafka æ–°ç‰ˆæœ¬æ¼”è¿›ï¼Œè§„åˆ’æ¶æ„å‡çº§ã€‚</li></ul></li></ul><h3 id="ã€ä¸­ç­‰ã€‘kafka-ä¸ºä»€ä¹ˆè¦å¼ƒç”¨-zookeeper" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-ä¸ºä»€ä¹ˆè¦å¼ƒç”¨-zookeeper" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka ä¸ºä»€ä¹ˆè¦å¼ƒç”¨ Zookeeperï¼Ÿ</h3><p>Kafka å¼ƒç”¨ ZooKeeper ä¸»è¦æ˜¯ä¸ºäº†<strong>ç®€åŒ–æ¶æ„ã€æå‡æ€§èƒ½ã€é™ä½è¿ç»´å¤æ‚åº¦</strong>ã€‚</p><p><strong>å‡å°‘å¤–éƒ¨ä¾èµ–</strong></p><ul><li><strong>æ¶æ„ç®€åŒ–</strong>ï¼šZooKeeper æ˜¯ç‹¬ç«‹çš„å¤–éƒ¨ç³»ç»Ÿï¼Œéœ€é¢å¤–éƒ¨ç½²å’Œç»´æŠ¤ã€‚ç§»é™¤åï¼ŒKafka æˆä¸ºå®Œå…¨è‡ªåŒ…å«çš„ç³»ç»Ÿï¼Œé™ä½éƒ¨ç½²å’Œè¿ç»´æˆæœ¬ã€‚</li><li><strong>é¿å…å•ç‚¹é£é™©</strong>ï¼šZooKeeper æœ¬èº«éœ€è¦é›†ç¾¤åŒ–ï¼Œè‹¥å‡ºç°æ•…éšœä¼šå½±å“ Kafka çš„å…ƒæ•°æ®ç®¡ç†ï¼Œå†…åµŒæ²»ç†é€»è¾‘å¯å‡å°‘æ­¤ç±»é£é™©ã€‚</li></ul><p><strong>æå‡æ‰©å±•æ€§ä¸æ€§èƒ½</strong></p><ul><li><strong>å…ƒæ•°æ®æ•ˆç‡</strong>ï¼šZooKeeper çš„å†™æ“ä½œï¼ˆå¦‚ Leader é€‰ä¸¾ï¼‰æ˜¯ä¸²è¡Œçš„ï¼Œå¯èƒ½æˆä¸ºç“¶é¢ˆã€‚Kafka å†…ç½®çš„ <strong>KRaft åè®®</strong>ï¼ˆåŸºäº Raftï¼‰æ”¯æŒå¹¶è¡Œæ—¥å¿—å†™å…¥ï¼Œæ˜¾è‘—æå‡å…ƒæ•°æ®å¤„ç†é€Ÿåº¦ï¼ˆå¦‚åˆ†åŒºæ‰©å®¹ã€Leader åˆ‡æ¢ï¼‰ã€‚</li><li><strong>é™ä½å»¶è¿Ÿ</strong>ï¼šçœå»ä¸ ZooKeeper çš„ç½‘ç»œé€šä¿¡ï¼Œå…ƒæ•°æ®æ“ä½œï¼ˆå¦‚ Broker æ³¨å†Œã€Topic å˜æ›´ï¼‰å»¶è¿Ÿæ›´ä½ã€‚</li></ul><p><strong>ç»Ÿä¸€å…ƒæ•°æ®ç®¡ç†</strong></p><ul><li><strong>ä¸€è‡´æ€§æ¨¡å‹ç»Ÿä¸€</strong>ï¼šZooKeeper ä½¿ç”¨ ZAB åè®®ï¼Œè€Œ Kafka ä½¿ç”¨è‡ªèº«çš„æ—¥å¿—å¤åˆ¶æœºåˆ¶ï¼Œä¸¤è€…ä¸ä¸€è‡´å¯èƒ½å¯¼è‡´åè°ƒé—®é¢˜ã€‚KRaft æ¨¡å¼é€šè¿‡å•ä¸€åè®®ï¼ˆRaftï¼‰ç®¡ç†æ‰€æœ‰å…ƒæ•°æ®ï¼Œé€»è¾‘æ›´æ¸…æ™°ã€‚</li><li><strong>ç®€åŒ–å®¢æˆ·ç«¯è®¿é—®</strong>ï¼šæ—§ç‰ˆå®¢æˆ·ç«¯éœ€åŒæ—¶è¿æ¥ Kafka å’Œ ZooKeeperï¼Œæ–°ç‰ˆåªéœ€ç›´è¿ Kafka Brokerã€‚</li></ul><p><strong>æ”¯æŒæ›´å¤§è§„æ¨¡é›†ç¾¤</strong></p><p><strong>ZooKeeper çš„å±€é™æ€§</strong>ï¼šZooKeeper å¯¹èŠ‚ç‚¹æ•°é‡ï¼ˆé€šå¸¸â‰¤7ï¼‰å’Œ Watcher æ•°é‡æœ‰é™åˆ¶ï¼Œå½±å“ Kafka é›†ç¾¤çš„æ‰©å±•æ€§ã€‚KRaft æ¨¡å¼é€šè¿‡åˆ†ç‰‡å’Œæµå¼å…ƒæ•°æ®ä¼ é€’ï¼Œæ”¯æŒè¶…å¤§è§„æ¨¡é›†ç¾¤ï¼ˆå¦‚æ•°åä¸‡åˆ†åŒºï¼‰ã€‚</p><p><strong>è¡¥å……è¯´æ˜</strong></p><ul><li>Kafka 2.8+ å¼€å§‹å®éªŒæ€§æ”¯æŒ KRaft æ¨¡å¼ï¼Œ3.0+ é€æ­¥ç¨³å®šï¼Œä½†ä»å…¼å®¹ ZooKeeper æ¨¡å¼ã€‚</li><li>å®Œå…¨ç§»é™¤ ZooKeeper éœ€ç¡®ä¿ KRaft åœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„æˆç†Ÿåº¦ï¼ˆå¦‚æ•…éšœæ¢å¤ã€ç›‘æ§å·¥å…·é“¾å®Œå–„ï¼‰ã€‚</li></ul><h3 id="ã€ä¸­ç­‰ã€‘kafka-ä¸­å¦‚ä½•å®ç°æ—¶é—´è½®-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-ä¸­å¦‚ä½•å®ç°æ—¶é—´è½®-ğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka ä¸­å¦‚ä½•å®ç°æ—¶é—´è½®ï¼ŸğŸŒŸ</h3><p>æ—¶é—´è½®æ˜¯ç”¨äºé«˜æ•ˆç®¡ç†å’Œè°ƒåº¦å¤§é‡å®šæ—¶ä»»åŠ¡çš„<strong>ç¯å½¢æ•°æ®ç»“æ„</strong>ï¼Œé€šè¿‡æ—¶é—´åˆ†ç‰‡ï¼ˆæ§½ï¼‰ç®¡ç†ä»»åŠ¡ï¼Œä¼˜åŒ–è°ƒåº¦æ•ˆç‡ã€‚</p><p><strong>æ•°æ®ç»“æ„</strong></p><ul><li><strong>ç¯å½¢æ•°ç»„</strong>ï¼šæ¯ä¸ªæ§½ä»£è¡¨ä¸€ä¸ªæ—¶é—´ç‰‡ï¼ˆå¦‚ 1 ç§’ï¼‰ï¼Œå­˜å‚¨åŒå‘é“¾è¡¨ç®¡ç†çš„ä»»åŠ¡ã€‚</li><li><strong>æŒ‡é’ˆç§»åŠ¨</strong>ï¼šä»¥å›ºå®šæ—¶é—´æ­¥é•¿æ¨è¿›ï¼Œè§¦å‘å½“å‰æ§½çš„ä»»åŠ¡æ‰§è¡Œã€‚</li></ul><p><strong>å·¥ä½œåŸç†</strong></p><ul><li><strong>ä»»åŠ¡æ’å…¥</strong>ï¼šæ ¹æ®å»¶è¿Ÿæ—¶é—´è®¡ç®—æ§½ä½ï¼ˆå¦‚ <code>å»¶è¿Ÿ % æ§½æ•°</code>ï¼‰ï¼Œæ’å…¥é“¾è¡¨å°¾éƒ¨ï¼ˆ<code>O(1)</code> å¤æ‚åº¦ï¼‰ã€‚</li><li><strong>ä»»åŠ¡è§¦å‘</strong>ï¼šæŒ‡é’ˆæ¯ç§»åŠ¨ä¸€æ ¼ï¼Œæ‰§è¡Œå¯¹åº”æ§½ä¸­æ‰€æœ‰ä»»åŠ¡ã€‚</li></ul><p><strong>å¤„ç†é•¿å»¶è¿Ÿä»»åŠ¡</strong></p><ul><li><strong>æ–¹æ¡ˆ 1ï¼šè½®æ¬¡ï¼ˆNettyï¼‰</strong>ï¼šè®¡ç®—è½®æ•°ï¼ˆå¦‚ <code>ï¼ˆå»¶è¿Ÿ-1)/æ§½æ•°</code>ï¼‰ï¼Œè½®æ•°å½’é›¶æ—¶è§¦å‘ã€‚</li><li><strong>æ–¹æ¡ˆ 2ï¼šå¤šå±‚æ¬¡æ—¶é—´è½®ï¼ˆKafkaï¼‰</strong><ul><li><strong>å±‚çº§é€’è¿›</strong>ï¼šé«˜å±‚æ§½è¦†ç›–æ›´å¤§æ—¶é—´èŒƒå›´ï¼ˆå¦‚ç§’â†’åˆ†â†’æ—¶ï¼‰ã€‚</li><li><strong>é™çº§æœºåˆ¶</strong>ï¼šä»»åŠ¡éšæ—¶é—´æ¨ç§»ä»é«˜å±‚ç§»è‡³åº•å±‚ï¼Œä¿è¯ç²¾åº¦ã€‚</li></ul></li></ul><p><strong>ä¼˜ç‚¹</strong></p><ul><li><strong>é«˜æ•ˆæ€§</strong>ï¼šæ’å…¥/åˆ é™¤ä»»åŠ¡ O(1) å¤æ‚åº¦ã€‚</li><li><strong>ä½å†…å­˜å¼€é”€</strong>ï¼šå›ºå®šæ§½æ•°ï¼Œå†…å­˜å ç”¨ç¨³å®šã€‚</li></ul><p><strong>åº”ç”¨åœºæ™¯</strong></p><ul><li>é«˜å¹¶å‘å®šæ—¶ä»»åŠ¡ï¼ˆå¦‚ Netty çš„è¶…æ—¶æ£€æµ‹ï¼‰ã€‚</li><li>ç½‘ç»œæœåŠ¡å™¨ï¼ˆè¿æ¥/è¯·æ±‚è¶…æ—¶ç®¡ç†ï¼‰ã€‚</li><li>åˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆèŠ‚ç‚¹é—´ä»»åŠ¡åè°ƒï¼‰ã€‚</li></ul><p><strong>å®é™…åº”ç”¨</strong></p><ul><li><strong>Netty</strong>ï¼š<code>HashedWheelTimer</code>ï¼ˆå•å±‚+è½®æ¬¡ï¼‰ã€‚</li><li><strong>Kafka</strong>ï¼šå¤šå±‚æ¬¡æ—¶é—´è½®+é™çº§ã€‚</li><li><strong>Caffeine Cache</strong>ï¼šæœ¬åœ°ç¼“å­˜çš„ä»»åŠ¡è°ƒåº¦ã€‚</li></ul><h3 id="ã€ä¸­ç­‰ã€‘kafka-çš„ç´¢å¼•è®¾è®¡æœ‰ä»€ä¹ˆäº®ç‚¹-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-çš„ç´¢å¼•è®¾è®¡æœ‰ä»€ä¹ˆäº®ç‚¹-ğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka çš„ç´¢å¼•è®¾è®¡æœ‰ä»€ä¹ˆäº®ç‚¹ï¼ŸğŸŒŸ</h3><p>Kafka çš„ç´¢å¼•è®¾è®¡é€šè¿‡<strong>ç¨€ç–ç´¢å¼• + äºŒåˆ†æŸ¥æ‰¾ + åˆ†æ®µå­˜å‚¨</strong>ï¼Œåœ¨<strong>æŸ¥è¯¢æ•ˆç‡ã€å­˜å‚¨æˆæœ¬ã€æ‰©å±•æ€§</strong>ä¹‹é—´å–å¾—å¹³è¡¡ï¼Œé€‚åˆé«˜ååã€ä½å»¶è¿Ÿçš„æ¶ˆæ¯ç³»ç»Ÿéœ€æ±‚ã€‚</p><p>Kafka çš„ç´¢å¼•è®¾è®¡ï¼ˆä¸»è¦æ¶‰åŠ<strong>åç§»é‡ç´¢å¼•ï¼ˆ.indexï¼‰å’Œæ—¶é—´æˆ³ç´¢å¼•ï¼ˆ.timeindexï¼‰</strong>ï¼‰å…·æœ‰ä»¥ä¸‹æ ¸å¿ƒä¼˜åŠ¿ï¼š</p><p><strong>é«˜æ•ˆæŸ¥è¯¢ï¼ˆO(1) ~ O(logN) å¤æ‚åº¦ï¼‰</strong></p><ul><li><strong>ç¨€ç–ç´¢å¼•</strong>ï¼šä¸å­˜å‚¨æ¯æ¡æ¶ˆæ¯çš„ç´¢å¼•ï¼Œè€Œæ˜¯æŒ‰ä¸€å®šé—´éš”ï¼ˆå¦‚æ¯ 4KB æ•°æ®ï¼‰å»ºç«‹ç´¢å¼•é¡¹ï¼Œå¤§å¹…å‡å°‘ç´¢å¼•æ–‡ä»¶å¤§å°ã€‚</li><li><strong>äºŒåˆ†æŸ¥æ‰¾</strong>ï¼šé€šè¿‡ç´¢å¼•å¿«é€Ÿå®šä½æ¶ˆæ¯æ‰€åœ¨çš„<strong>ç‰©ç†ä½ç½®ï¼ˆç£ç›˜æ–‡ä»¶+åç§»é‡ï¼‰</strong>ï¼Œå‡å°‘å…¨é‡æ‰«æã€‚</li></ul><p><strong>ä½å­˜å‚¨å¼€é”€</strong></p><ul><li><strong>ç´§å‡‘ç»“æ„</strong>ï¼šç´¢å¼•æ–‡ä»¶ä»…å­˜å‚¨<strong>åç§»é‡ + ç‰©ç†ä½ç½®</strong>ï¼ˆå›ºå®š 8 å­—èŠ‚/é¡¹ï¼‰ï¼Œå ç”¨ç©ºé—´æå°ã€‚</li><li><strong>åˆ†æ®µå­˜å‚¨</strong>ï¼šæ¯ä¸ªæ—¥å¿—æ®µï¼ˆSegmentï¼‰ç‹¬ç«‹ç»´æŠ¤ç´¢å¼•ï¼Œé¿å…å•ä¸€å¤§æ–‡ä»¶ç´¢å¼•çš„æ€§èƒ½ç“¶é¢ˆã€‚</li></ul><p><strong>å¿«é€Ÿæ•…éšœæ¢å¤</strong></p><ul><li><strong>å†…å­˜æ˜ å°„ï¼ˆMMAPï¼‰</strong>ï¼šç´¢å¼•æ–‡ä»¶é€šè¿‡å†…å­˜æ˜ å°„åŠ é€Ÿè¯»å–ï¼Œé‡å¯æ—¶æ— éœ€å…¨é‡åŠ è½½ã€‚</li><li><strong>æ‡’åŠ è½½</strong>ï¼šä»…åŠ è½½æ´»è·ƒåˆ†ç‰‡çš„ç´¢å¼•ï¼Œå‡å°‘å¯åŠ¨æ—¶é—´ã€‚</li></ul><p><strong>æ”¯æŒæ—¶é—´èŒƒå›´æŸ¥è¯¢</strong>ï¼š**æ—¶é—´æˆ³ç´¢å¼•ï¼ˆ.timeindexï¼‰**å…è®¸æŒ‰æ—¶é—´æˆ³å¿«é€Ÿå®šä½æ¶ˆæ¯ï¼Œé€‚ç”¨äºæ—¥å¿—å›æº¯ã€ç›‘æ§ç­‰åœºæ™¯ã€‚</p><p><strong>ç´¢å¼•è‡ªåŠ¨æ›´æ–°</strong>ï¼šæ—¥å¿—å‹ç¼©ï¼ˆCompactionï¼‰æˆ–åˆ é™¤ï¼ˆRetentionï¼‰æ—¶ï¼Œç´¢å¼•åŒæ­¥æ¸…ç†ï¼Œé¿å…æ— æ•ˆæŸ¥è¯¢ã€‚</p><h2 id="kafka-äº‹åŠ¡" tabindex="-1"><a class="header-anchor" href="#kafka-äº‹åŠ¡" aria-hidden="true">#</a> Kafka äº‹åŠ¡</h2><h3 id="ã€ä¸­ç­‰ã€‘kafka-æ˜¯å¦æ”¯æŒäº‹åŠ¡-å¦‚ä½•æ”¯æŒäº‹åŠ¡-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-æ˜¯å¦æ”¯æŒäº‹åŠ¡-å¦‚ä½•æ”¯æŒäº‹åŠ¡-ğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka æ˜¯å¦æ”¯æŒäº‹åŠ¡ï¼Ÿå¦‚ä½•æ”¯æŒäº‹åŠ¡ï¼ŸğŸŒŸ</h3><p>Kafka è‡ª 0.11 ç‰ˆæœ¬å¼€å§‹æä¾›äº†å¯¹äº‹åŠ¡çš„æ”¯æŒï¼Œç›®å‰ä¸»è¦æ˜¯åœ¨ read committed éš”ç¦»çº§åˆ«ä¸Šåšäº‹æƒ…ã€‚å®ƒèƒ½<strong>ä¿è¯å¤šæ¡æ¶ˆæ¯åŸå­æ€§åœ°å†™å…¥åˆ°ç›®æ ‡åˆ†åŒºï¼ŒåŒæ—¶ä¹Ÿèƒ½ä¿è¯ Consumer åªèƒ½çœ‹åˆ°äº‹åŠ¡æˆåŠŸæäº¤çš„æ¶ˆæ¯</strong>ã€‚</p><div class="hint-container info"><p class="hint-container-title">exactly once</p></div><p>Kafka äº‹åŠ¡éä¸¥æ ¼æ„ä¹‰çš„äº‹åŠ¡ï¼Œå…¶ä¸»è¦ç›®æ ‡æ˜¯ä¸ºäº†<strong>å®ç° exactly once è¯­ä¹‰</strong>çš„ï¼Œç¡®ä¿æ¶ˆæ¯åœ¨ç”Ÿäº§ã€ä¼ è¾“å’Œæ¶ˆè´¹è¿‡ç¨‹ä¸­ä¸è¢«é‡å¤å¤„ç†æˆ–ä¸¢å¤±ã€‚</p><p>æ¶ˆæ¯å¯é æ€§ä¿éšœï¼Œç”±ä½åˆ°é«˜ä¸ºï¼š</p><ul><li><strong>æœ€å¤šä¸€æ¬¡ï¼ˆat most onceï¼‰</strong>ï¼šæ¶ˆæ¯å¯èƒ½ä¼šä¸¢å¤±ï¼Œä½†ç»ä¸ä¼šè¢«é‡å¤å‘é€ã€‚</li><li><strong>è‡³å°‘ä¸€æ¬¡ï¼ˆat least onceï¼‰</strong>ï¼šæ¶ˆæ¯ä¸ä¼šä¸¢å¤±ï¼Œä½†æœ‰å¯èƒ½è¢«é‡å¤å‘é€ã€‚</li><li><strong>ç²¾ç¡®ä¸€æ¬¡ï¼ˆexactly onceï¼‰</strong>ï¼šæ¶ˆæ¯ä¸ä¼šä¸¢å¤±ï¼Œä¹Ÿä¸ä¼šè¢«é‡å¤å‘é€ã€‚</li></ul><div class="hint-container info"><p class="hint-container-title">Kafka äº‹åŠ¡å®ç°æœºåˆ¶</p></div><ul><li><strong>äº‹åŠ¡åè°ƒå™¨</strong><ul><li>è´Ÿè´£ç®¡ç†äº‹åŠ¡çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸï¼ˆå¯åŠ¨ã€æäº¤ã€ä¸­æ­¢ï¼‰ã€‚</li><li>å°†äº‹åŠ¡çŠ¶æ€æŒä¹…åŒ–åˆ°å†…éƒ¨ä¸»é¢˜ <code>__transaction_state</code> ä¸­ã€‚</li></ul></li><li><strong>å¹‚ç­‰ç”Ÿäº§è€…</strong><ul><li>é€šè¿‡å”¯ä¸€çš„ <code>Producer ID (PID)</code> å’Œ <code>Sequence Number</code> æ¥æ ‡è¯†å’ŒåŒºåˆ†æ¶ˆæ¯ã€‚</li><li>ç¡®ä¿åŒä¸€ç”Ÿäº§è€…å‘é€çš„åŒä¸€æ¶ˆæ¯<strong>åªä¼šè¢« Broker å†™å…¥ä¸€æ¬¡</strong>ï¼Œé¿å…å› é‡è¯•å¯¼è‡´çš„æ¶ˆæ¯é‡å¤ã€‚</li></ul></li><li><strong>äº‹åŠ¡æ€§æ¶ˆè´¹</strong><ul><li>æ¶ˆè´¹è€…å¯é…ç½® <code>isolation.level</code> å‚æ•°ã€‚</li><li>è®¾ç½®ä¸º <code>read_committed</code> æ—¶ï¼Œæ¶ˆè´¹è€…<strong>åªä¼šè¯»å–å·²æäº¤äº‹åŠ¡</strong>çš„æ¶ˆæ¯ï¼Œè¿‡æ»¤æ‰æœªæäº¤ï¼ˆä¸­æ­¢ï¼‰çš„æ¶ˆæ¯ï¼Œä¿è¯æœ€ç»ˆä¸€è‡´æ€§ã€‚</li></ul></li></ul><div class="hint-container info"><p class="hint-container-title">Kafka äº‹åŠ¡å·¥ä½œæµç¨‹</p></div><ul><li><strong>Prepare</strong>: ç”Ÿäº§è€…å‘äº‹åŠ¡åè°ƒå™¨å‘èµ·äº‹åŠ¡ï¼Œè·å–äº‹åŠ¡ IDã€‚ç”Ÿäº§è€…åœ¨äº‹åŠ¡å†…å‘é€æ¶ˆæ¯ï¼Œæ¶ˆæ¯æºå¸¦ PID å’Œåºåˆ—å·ä»¥ä¿è¯å¹‚ç­‰æ€§ã€‚</li><li><strong>Commit/Abort</strong>: ç”Ÿäº§è€…ç»“æŸäº‹åŠ¡ï¼Œå‘åè°ƒå™¨å‘é€æäº¤æˆ–ä¸­æ­¢è¯·æ±‚ã€‚</li><li><strong>Consume</strong>: é…ç½®ä¸º <code>read_committed</code> çš„æ¶ˆè´¹è€…åªæ¶ˆè´¹å·²æäº¤çš„æ¶ˆæ¯ï¼Œå®ç°ç«¯åˆ°ç«¯çš„ä¸€è‡´æ€§ã€‚</li></ul><p><strong>æ€»ç»“</strong>ï¼šKafka é€šè¿‡<strong>äº‹åŠ¡åè°ƒå™¨ã€å¹‚ç­‰ç”Ÿäº§è€…å’Œäº‹åŠ¡æ€§æ¶ˆè´¹</strong>ä¸‰è€…ååŒï¼Œåœ¨æ¶ˆæ¯ç³»ç»Ÿå†…éƒ¨å®ç°äº†ç”Ÿäº§ç«¯çš„ç²¾ç¡®ä¸€æ¬¡å‘é€å’Œæ¶ˆè´¹ç«¯çš„äº‹åŠ¡éš”ç¦»ï¼Œä»è€Œè¾¾æˆäº† Exactly-Once è¯­ä¹‰ã€‚</p><h3 id="ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°-exactly-once-è¯­ä¹‰-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°-exactly-once-è¯­ä¹‰-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç° Exactly Once è¯­ä¹‰ï¼ŸğŸŒŸğŸŒŸ</h3><p>Kafka é€šè¿‡<code>å¹‚ç­‰ç”Ÿäº§</code>+<code>äº‹åŠ¡</code>+<code>ç²¾å‡† offset æ§åˆ¶</code>ï¼Œåœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹å®ç°<strong>ç«¯åˆ°ç«¯ Exactly Once</strong>ï¼Œé€‚ç”¨äºé‡‘èã€è®¡è´¹ç­‰å¼ºä¸€è‡´æ€§åœºæ™¯ã€‚</p><p><strong>æ ¸å¿ƒæœºåˆ¶</strong></p><ul><li><strong>å¹‚ç­‰ç”Ÿäº§è€…</strong><ul><li>é€šè¿‡å”¯ä¸€<code>Producer ID</code>å’Œæ¶ˆæ¯<code>åºåˆ—å·</code>å®ç°å»é‡</li><li>ç¡®ä¿å•æ¡æ¶ˆæ¯<strong>ä¸é‡å¤</strong>ï¼ˆç½‘ç»œé‡è¯•åœºæ™¯ï¼‰</li></ul></li><li><strong>äº‹åŠ¡ç”Ÿäº§è€…</strong><ul><li>æä¾›è·¨åˆ†åŒºçš„åŸå­æ“ä½œï¼ˆ<code>commitTransaction</code>/<code>abortTransaction</code>ï¼‰</li><li>ä¿è¯ä¸€ç»„æ¶ˆæ¯<strong>å…¨æˆåŠŸæˆ–å…¨å¤±è´¥</strong></li></ul></li><li><strong>æ¶ˆè´¹ç«¯å»é‡</strong><ul><li>åŸºäº<code>offset</code>ç®¡ç† + æ¶ˆè´¹è€…ç»„æœºåˆ¶</li><li>é¿å…æ¶ˆæ¯è¢«é‡å¤å¤„ç†</li></ul></li></ul><p><strong>å¼‚å¸¸å¤„ç†</strong></p><table><thead><tr><th><strong>æ–¹æ³•</strong></th><th><strong>ä½œç”¨</strong></th><th><strong>åœºæ™¯ç¤ºä¾‹</strong></th></tr></thead><tbody><tr><td>äº‹åŠ¡å›æ»š</td><td>æ’¤é”€æœªå®Œæˆçš„æ“ä½œï¼Œä¿æŒåŸå­æ€§</td><td>ç”Ÿäº§è€…å†™å…¥éƒ¨åˆ†åˆ†åŒºå¤±è´¥æ—¶</td></tr><tr><td>è‡ªåŠ¨é‡è¯•</td><td>åº”å¯¹ä¸´æ—¶æ€§æ•…éšœï¼ˆå¦‚ç½‘ç»œæŠ–åŠ¨ï¼‰</td><td>Broker çŸ­æš‚ä¸å¯ç”¨</td></tr><tr><td>å¹‚ç­‰æ¶ˆè´¹</td><td>é€šè¿‡ä¸šåŠ¡ ID æˆ–çŠ¶æ€è®°å½•é¿å…é‡å¤å¤„ç†</td><td>æ¶ˆè´¹è€…é‡å¯åé‡å¤æ‹‰å–æ¶ˆæ¯</td></tr></tbody></table><p><strong>å…³é”®æ‰©å±•</strong></p><ul><li><strong>CAP æƒè¡¡</strong>ï¼šKafka ä¼˜å…ˆä¿è¯<strong>é«˜å¯ç”¨</strong>å’Œ<strong>åˆ†åŒºå®¹é”™</strong>ï¼ˆAPï¼‰ï¼Œé€šè¿‡äº‹åŠ¡è¡¥å……ä¸€è‡´æ€§</li><li><strong>Kafka Streams</strong>ï¼šåˆ©ç”¨çŠ¶æ€å­˜å‚¨å’Œæ£€æŸ¥ç‚¹æœºåˆ¶å®ç°æµå¤„ç† Exactly Once</li><li><strong>æ¶ˆè´¹è€…ç»„</strong>ï¼š<code>enable.auto.commit=false</code>æ—¶éœ€æ‰‹åŠ¨æäº¤ offset ä»¥ç²¾å‡†æ§åˆ¶æ¶ˆè´¹</li></ul><h2 id="kafka-stream" tabindex="-1"><a class="header-anchor" href="#kafka-stream" aria-hidden="true">#</a> Kafka Stream</h2><h3 id="ã€å›°éš¾ã€‘kafka-ä¸-flink-çš„é›†æˆæ˜¯å¦‚ä½•å®ç°çš„-å¦‚ä½•ä¼˜åŒ–-flink-ä¸-kafka-ä¹‹é—´çš„æ•°æ®æµåŠ¨" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-ä¸-flink-çš„é›†æˆæ˜¯å¦‚ä½•å®ç°çš„-å¦‚ä½•ä¼˜åŒ–-flink-ä¸-kafka-ä¹‹é—´çš„æ•°æ®æµåŠ¨" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka ä¸ Flink çš„é›†æˆæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿå¦‚ä½•ä¼˜åŒ– Flink ä¸ Kafka ä¹‹é—´çš„æ•°æ®æµåŠ¨ï¼Ÿ</h3><p>å®ç° <strong>é«˜ååã€ä½å»¶è¿Ÿã€å¼ºä¸€è‡´æ€§</strong> çš„æµå¼æ•°æ®å¤„ç†ç®¡é“ã€‚</p><p><strong>åŸºç¡€é›†æˆæ­¥éª¤</strong></p><ul><li><strong>æ·»åŠ ä¾èµ–</strong>ï¼šå¼•å…¥ <code>flink-connector-kafka</code>ï¼ˆåŒ¹é… Kafka ç‰ˆæœ¬ï¼‰ã€‚</li><li><strong>é…ç½® Source</strong>ï¼šé€šè¿‡ <code>FlinkKafkaConsumer</code> è®¢é˜… Kafka Topicã€‚</li><li><strong>é…ç½® Sink</strong>ï¼šé€šè¿‡ <code>FlinkKafkaProducer</code> å†™å…¥ç»“æœåˆ° Kafkaã€‚</li><li><strong>è®¾è®¡ä½œä¸š</strong>ï¼šåœ¨ Flink ä¸­å®ç°æ•°æ®å¤„ç†é€»è¾‘ï¼ˆè¿‡æ»¤/è½¬æ¢/èšåˆï¼‰ã€‚</li></ul><p><strong>æ€§èƒ½ä¼˜åŒ–æ–¹å‘</strong></p><table><thead><tr><th><strong>ä¼˜åŒ–é¡¹</strong></th><th><strong>å…³é”®æªæ–½</strong></th></tr></thead><tbody><tr><td><strong>å‚æ•°è°ƒä¼˜</strong></td><td>- è°ƒæ•´ <code>batch.size</code>/<code>linger.ms</code>ï¼ˆç”Ÿäº§è€…ï¼‰<br>- è®¾ç½®åˆç†å¹¶è¡Œåº¦ï¼ˆFlink ä»»åŠ¡ï¼‰</td></tr><tr><td><strong>èµ„æºåˆ†é…</strong></td><td>- å¹³è¡¡ Flink TaskManager çš„ CPU/å†…å­˜<br>- ç¡®ä¿ Kafka Broker å¸¦å®½å……è¶³</td></tr><tr><td><strong>å®¹é”™æœºåˆ¶</strong></td><td>- å¯ç”¨ Flink Checkpointingï¼ˆç²¾ç¡®ä¸€æ¬¡è¯­ä¹‰ï¼‰<br>- é…ç½® Kafka å¹‚ç­‰æ€§/äº‹åŠ¡</td></tr><tr><td><strong>æ•°æ®å‹ç¼©</strong></td><td>é€‰ç”¨é«˜æ•ˆå‹ç¼©ç®—æ³•ï¼ˆå¦‚ <code>lz4</code>/<code>snappy</code>ï¼‰ï¼Œå‡å°‘ç½‘ç»œä¼ è¾“å‹åŠ›</td></tr></tbody></table><p><strong>å…³é”®ä»£ç ç¤ºä¾‹</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// Kafka Source</span>
<span class="token class-name">Properties</span> props <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
props<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;bootstrap.servers&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;kafka:9092&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
props<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;group.id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;flink-group&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">FlinkKafkaConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FlinkKafkaConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token string">&quot;input-topic&quot;</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">SimpleStringSchema</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    props
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Kafka Sink</span>
<span class="token class-name">FlinkKafkaProducer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sink <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FlinkKafkaProducer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token string">&quot;output-topic&quot;</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">SimpleStringSchema</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    props
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ä½œä¸šæµç¨‹</span>
env<span class="token punctuation">.</span><span class="token function">addSource</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>  <span class="token comment">// æ•°æ®å¤„ç†</span>
   <span class="token punctuation">.</span><span class="token function">addSink</span><span class="token punctuation">(</span>sink<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é«˜çº§ç‰¹æ€§</strong></p><ul><li><strong>åŠ¨æ€å‘ç°åˆ†åŒº</strong>ï¼š<code>setStartFromLatest()</code>/<code>setStartFromEarliest()</code>ã€‚</li><li><strong>æ°´ä½çº¿ç”Ÿæˆ</strong>ï¼šç»“åˆ <code>assignTimestampsAndWatermarks</code> å¤„ç†äº‹ä»¶æ—¶é—´ã€‚</li><li><strong>Exactly-Once ä¿éšœ</strong>ï¼šå¯ç”¨ Kafka äº‹åŠ¡ï¼ˆéœ€é…ç½® <code>transaction.timeout.ms</code>ï¼‰ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-çš„-stream-å’Œ-table-æ˜¯å¦‚ä½•ç›¸äº’è½¬æ¢çš„-å®ƒä»¬åœ¨-kafka-streams-ä¸­çš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-çš„-stream-å’Œ-table-æ˜¯å¦‚ä½•ç›¸äº’è½¬æ¢çš„-å®ƒä»¬åœ¨-kafka-streams-ä¸­çš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka çš„ Stream å’Œ Table æ˜¯å¦‚ä½•ç›¸äº’è½¬æ¢çš„ï¼Ÿå®ƒä»¬åœ¨ Kafka Streams ä¸­çš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>é€šè¿‡ <strong>æµè¡¨è½¬æ¢ + çŠ¶æ€ç®¡ç†</strong>ï¼Œå®ç°å®æ—¶è®¡ç®—ä¸çŠ¶æ€ç»´æŠ¤çš„ç»Ÿä¸€å¤„ç†ã€‚</p><p><strong>æ ¸å¿ƒæ¦‚å¿µå¯¹æ¯”</strong></p><table><thead><tr><th><strong>æŠ½è±¡ç±»å‹</strong></th><th><strong>ç‰¹ç‚¹</strong></th><th><strong>é€‚ç”¨åœºæ™¯</strong></th></tr></thead><tbody><tr><td><strong>Stream</strong></td><td>æ— ç•Œã€æœ‰åºçš„é”®å€¼è®°å½•æµï¼ˆäº‹ä»¶æ—¥å¿—ï¼‰</td><td>å®æ—¶åˆ†æã€äº‹ä»¶ç›‘æ§ï¼ˆå¦‚ç‚¹å‡»æµã€äº¤æ˜“è®°å½•ï¼‰</td></tr><tr><td><strong>Table</strong></td><td>æœ‰çŠ¶æ€çš„é”®å€¼å¿«ç…§ï¼ˆå½“å‰æ•°æ®è§†å›¾ï¼‰</td><td>çŠ¶æ€ç»´æŠ¤ï¼ˆå¦‚ç”¨æˆ·é…ç½®ã€åº“å­˜æ•°é‡ï¼‰</td></tr></tbody></table><p><strong>ç›¸äº’è½¬æ¢æ“ä½œ</strong></p><p><strong>(1) Stream â†’ Table</strong></p><p>é€šè¿‡ <strong>èšåˆæ“ä½œ</strong> å°†åŠ¨æ€æµè½¬æ¢ä¸ºçŠ¶æ€è¡¨ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">KStream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> stream <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token string">&quot;input-topic&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æŒ‰ Key åˆ†ç»„å¹¶ç´¯åŠ å€¼</span>
<span class="token class-name">KTable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> table <span class="token operator">=</span> stream
    <span class="token punctuation">.</span><span class="token function">groupByKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">aggregate</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token number">0L</span><span class="token punctuation">,</span>  <span class="token comment">// åˆå§‹å€¼</span>
        <span class="token punctuation">(</span>key<span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> agg<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> agg <span class="token operator">+</span> newValue<span class="token punctuation">,</span>  <span class="token comment">// ç´¯åŠ é€»è¾‘</span>
        <span class="token class-name">Materialized</span><span class="token punctuation">.</span><span class="token function">as</span><span class="token punctuation">(</span><span class="token string">&quot;count-store&quot;</span><span class="token punctuation">)</span>  <span class="token comment">// çŠ¶æ€å­˜å‚¨</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>(2) Table â†’ Stream</strong></p><p>é€šè¿‡ <strong>toStream()</strong> å°†è¡¨å˜æ›´ä½œä¸ºæµè¾“å‡ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">KTable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> table <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">&quot;input-topic&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">KStream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> stream <span class="token operator">=</span> table<span class="token punctuation">.</span><span class="token function">toStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¾“å‡ºè¡¨çš„æ›´æ–°äº‹ä»¶</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å…¸å‹åº”ç”¨åœºæ™¯</strong></p><ul><li><strong>ç”µå•†å®æ—¶ç»Ÿè®¡</strong><ul><li><strong>Stream</strong>ï¼šå¤„ç†ç”¨æˆ·è®¢å•äº‹ä»¶ï¼ˆå¦‚ <code>order-created</code>ï¼‰ã€‚</li><li><strong>Table</strong>ï¼šç»´æŠ¤ç”¨æˆ·æ€»è®¢å•æ•°ï¼ˆ<code>user_id â†’ total_orders</code>ï¼‰ã€‚</li></ul></li><li><strong>è§†é¢‘æ’­æ”¾åˆ†æ</strong><ul><li><strong>Stream</strong>ï¼šæ¥æ”¶è§†é¢‘ç‚¹å‡»äº‹ä»¶ï¼ˆ<code>video_id, timestamp</code>ï¼‰ã€‚</li><li><strong>Table</strong>ï¼šå­˜å‚¨å½“å‰è§†é¢‘æ’­æ”¾é‡ï¼ˆ<code>video_id â†’ play_count</code>ï¼‰ã€‚</li></ul></li></ul><p><strong>å…³é”®è®¾è®¡æ€æƒ³</strong></p><ul><li><strong>æµè¡¨äºŒå…ƒæ€§</strong>ï¼š <ul><li>Stream æ˜¯ Table çš„å˜æ›´æ—¥å¿—ï¼ˆChangelogï¼‰ã€‚</li><li>Table æ˜¯ Stream çš„ç‰©åŒ–è§†å›¾ï¼ˆMaterialized Viewï¼‰ã€‚</li></ul></li><li><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šTable ä¾èµ– <strong>RocksDB çŠ¶æ€å­˜å‚¨</strong>ï¼Œæ”¯æŒå®¹é”™ä¸é«˜æ•ˆæŸ¥è¯¢ã€‚</li></ul><h2 id="å‚è€ƒèµ„æ–™" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒèµ„æ–™" aria-hidden="true">#</a> å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://xie.infoq.cn/article/49bc80d683c373db93d017a99" target="_blank" rel="noopener noreferrer">èŠèŠ Kafkaï¼š Kafka ä¸ºå•¥è¿™ä¹ˆå¿«ï¼Ÿ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/2992253553/WaterDrop/edit/main/docs/15.åˆ†å¸ƒå¼/åˆ†å¸ƒå¼é€šä¿¡/MQ/Kafka/Kafka_é¢è¯•.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: forbreak@163.com">dunwu</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="vp-link nav-link prev" href="/WaterDrop/pages/da944418/"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka é›†ç¾¤</div></a><!----></nav><div id="comment" class="waline-wrapper" darkmode="false" style="display:block;"><div data-waline provider="Waline"><!--v-if--><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item3"><!--[--><div class="wl-header-item"><label for="wl-nick">æ˜µç§°</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><div class="wl-header-item"><label for="wl-mail">é‚®ç®±</label><input id="wl-mail" class="wl-input wl-mail" name="mail" type="email" value></div><div class="wl-header-item"><label for="wl-link">ç½‘å€</label><input id="wl-link" class="wl-input wl-link" name="link" type="text" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="è¯·ç•™è¨€ã€‚(å¡«å†™é‚®ç®±å¯åœ¨è¢«å›å¤æ—¶æ”¶åˆ°é‚®ä»¶æé†’)"></textarea><div class="wl-preview" style="display:none;"><hr><h4>é¢„è§ˆ:</h4><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" ariaHidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button type="button" class="wl-action" title="è¡¨æƒ…" style="display:none;"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button type="button" class="wl-action" title="è¡¨æƒ…åŒ…"><svg width="24" height="24" fill="currentcolor" viewBox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="ä¸Šä¼ å›¾ç‰‡"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button type="button" class="wl-action" title="é¢„è§ˆ"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-captcha-container"></div><div class="wl-text-number">0 <!--v-if--> Â å­—</div><button type="button" class="wl-btn">ç™»å½•</button><button type="submit" class="primary wl-btn" title="Cmd|Ctrl + Enter"><!--[-->æäº¤<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="æœç´¢è¡¨æƒ…åŒ…"><!--v-if--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-meta-head"><div class="wl-count"><!--v-if--> è¯„è®º</div><ul class="wl-sort"><!--[--><li class="active">æŒ‰æ­£åº</li><li class="">æŒ‰å€’åº</li><li class="">æŒ‰çƒ­åº¦</li><!--]--></ul></div><div class="wl-cards"><!--[--><!--]--></div><!--[--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div><!--]--><div class="wl-power"> Powered by <a href="https://github.com/walinejs/waline" target="_blank" rel="noopener noreferrer"> Waline </a> v2.15.7</div></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">Copyright Â© 2025 é’æ‚Ÿ</div></footer></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/WaterDrop/assets/app-d719e65e.js" defer></script>
  </body>
</html>
