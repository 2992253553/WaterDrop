<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.67" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://2992253553.github.io/waterdrop/waterdrop/pages/d8357cc5/"><meta property="og:site_name" content="é’æ‚Ÿ"><meta property="og:title" content="Kafka é¢è¯•"><meta property="og:description" content="Kafka é¢è¯• Kafka ç®€ä»‹ ã€ç®€å•ã€‘Kafka æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ Kafka æ˜¯ä¸€ä¸ªå¼€æºåˆ†å¸ƒå¼äº‹ä»¶æµå¹³å°ã€‚æœ€åˆç”± LinkedIn å¼€å‘ï¼Œç°åœ¨æ˜¯ Apache é¡¶çº§é¡¹ç›®ã€‚"><meta property="og:type" content="article"><meta property="og:image" content="https://raw.githubusercontent.com/dunwu/images/master/cs/java/javaweb/distributed/mq/kafka/kafka-event-system.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-10-06T09:23:52.000Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="Kafka é¢è¯•"><meta property="article:author" content="é’æ‚Ÿ"><meta property="article:tag" content="åˆ†å¸ƒå¼"><meta property="article:tag" content="åˆ†å¸ƒå¼é€šä¿¡"><meta property="article:tag" content="MQ"><meta property="article:tag" content="Kafka"><meta property="article:tag" content="é¢è¯•"><meta property="article:published_time" content="2025-02-03T11:15:43.000Z"><meta property="article:modified_time" content="2025-10-06T09:23:52.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Kafka é¢è¯•","image":["https://raw.githubusercontent.com/dunwu/images/master/cs/java/javaweb/distributed/mq/kafka/kafka-event-system.png"],"datePublished":"2025-02-03T11:15:43.000Z","dateModified":"2025-10-06T09:23:52.000Z","author":[{"@type":"Person","name":"é’æ‚Ÿ","url":"https://2992253553.github.io/waterdrop"}]}</script><title>Kafka é¢è¯• | é’æ‚Ÿ</title><meta name="description" content="Kafka é¢è¯• Kafka ç®€ä»‹ ã€ç®€å•ã€‘Kafka æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ Kafka æ˜¯ä¸€ä¸ªå¼€æºåˆ†å¸ƒå¼äº‹ä»¶æµå¹³å°ã€‚æœ€åˆç”± LinkedIn å¼€å‘ï¼Œç°åœ¨æ˜¯ Apache é¡¶çº§é¡¹ç›®ã€‚">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/waterdrop/assets/style-1f06e589.css" as="style"><link rel="stylesheet" href="/waterdrop/assets/style-1f06e589.css">
    <link rel="modulepreload" href="/waterdrop/assets/app-c5b0c3d9.js"><link rel="modulepreload" href="/waterdrop/assets/index.html-543eafc8.js"><link rel="modulepreload" href="/waterdrop/assets/plugin-vue_export-helper-c27b6911.js"><link rel="modulepreload" href="/waterdrop/assets/index.html-2de2799e.js"><link rel="prefetch" href="/waterdrop/assets/index.html-14b70289.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-29e52ba5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d9056db3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0968c8fd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6eccb701.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8b1c562a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e7481fa7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3dd0b81a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8650e583.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b48cf377.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8c5f882b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9165b590.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8d263426.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-862ffee4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8165d19d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-24c3fef7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-88df68ca.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-92c1a285.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-14137f95.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b7d6bb9f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0c990cda.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-87ccc91a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bd14fe3b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8e7fe2a1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1dd70d77.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-519bf0bf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-58a00579.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1c6aa09f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ee22f62d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b5dae82d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-97ac64b4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-32b40a22.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6e883b01.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-731c6fe2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-79f4e6db.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e4ac224a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7a6776ad.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3bfa5921.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4e225201.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a9b7414b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-53e22d0b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4e1a6cc3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e3f35ce1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-91ed9c0e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3c9a4dd2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fc69962d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-577809dc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-61df7e4c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7d60d397.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0b65716a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cf173f96.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-19915942.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9a8c4081.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d47c6ab0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b894f76c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8c6cf97b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ed2e0407.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0cc39149.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0799cdf0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8d760c01.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5626154b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-59e64c10.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c520a729.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1d5d18b0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-529553e7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4bfe5831.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-525d67a1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-73b5e352.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a13f8709.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2503da97.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-808c5e4c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-406ca180.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-94464b5c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e875f9b6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5fa4e63f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-104bc917.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-93c14e33.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d542a6e0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bab1e010.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6427b81c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-48bf71f5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-db626047.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ffd2a7b2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-07f595b8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-605d9397.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c23dab5b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ce355c9f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a2192b70.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-30abc96b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-48d8df5a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8cd15080.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-91871d29.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d2d62299.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-42411d49.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f225165a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a385d27e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e1b4aa7e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-027dabe3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-81257782.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-219b6e7d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6c76435f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-37803a28.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-650839bf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ef8cb5dc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d78c58f3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-06748801.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8c78969b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2096069d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aebb409f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5ed1994e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-78f71e3a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9446013d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1544e5d9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-874183bc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5f91817c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7e544443.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e4a130bd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-71adcbef.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5532cedb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-380c2397.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2c24af2c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ae2f4721.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-609ae7d9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e4fc2200.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f5888871.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-09d580b1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f8273178.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2745df95.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1745b22a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-86e02394.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d4da654c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c38c68e4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6d8a2289.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cdce822a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aca3bdc3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-855dbba1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d96be362.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5f00eee6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b3f5ac7a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0d9186be.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e3ddf717.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-de72ccf2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3e34de49.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b255823e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c8e10162.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5dbb35fb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d9567b35.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-01cda445.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d9bc6da8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7fd7ed7c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f4fd8b0f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0c002e88.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c7098f85.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e65b7d83.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0e49faf1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9cab7aa3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ea7ecfcd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2cf3f65e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2bdde14c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e955f08f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ce719203.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-08eae760.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3e533219.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-97c5c025.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d0588a96.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ba97339c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-529493de.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8eb06031.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-76bc2203.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c28f56fb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cf421ef3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f1f700ec.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-501ee59f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-89518659.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-77d4814e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8106b923.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c5e0adf7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3eb33e1e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0352c807.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cefa9ada.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8c9f9378.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f756e79f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f3600836.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-54fc1562.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9780fbf4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-911fe507.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-db11de2a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ed447470.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bbdff786.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bbd3b443.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e9292947.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4801bcc3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-34b7b6c8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dca06d72.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1d9d0e85.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f4f58d74.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-615d3442.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-deb288ef.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6e968168.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b60d8501.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ce720f63.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ebd53d1c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c2ed7233.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-52baa471.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-71bda695.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3533466d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-48a120c4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a6e1ef5c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4c6b1eda.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d2302781.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-78d2768e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2e624568.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-25c88ddd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e4355bcc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a89d844e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2b274b86.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-35210675.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9d989ac9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-20822b20.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a12b95f1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-20eb8f8f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aa32d978.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-50831fb9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-48f4aeb8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e59cfe50.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7e80596f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-00a53c57.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ec8302a3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e54fb4bf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7b1e2fe9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b1b5cba2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ea57d044.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-eb6c8aef.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4319be9e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9615281c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9ceafb3b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-af18208a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c54aebd2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-78ce2a33.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9efbc21f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6368eca8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d12263f8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-22ac7cdd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-94c93a4e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ffe7dde8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9f5f0940.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-85199375.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8a5d7cc8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c61948f9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-31274071.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-342e6ca8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-03d5d133.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f2a4b985.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-401b6426.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cd9d3453.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c5d84fd9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b45a94b2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-61a72164.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d38ca1c1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-80d4886e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-562284cc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-451b5788.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c314df0c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7b5a9dbf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-864e09dd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ddcd8605.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-09eed5fa.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ce8a6e75.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a3959948.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-84b70d03.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e9029601.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-02652e03.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-28c653fd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4a74ddcf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-60afc0c6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b2bde5cb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-28b28a1c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4db1b4b6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1e7675c0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6cbe558f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a570c747.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-998bb8a1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0856b26a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ff6bc5d5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b702e63b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-08d0903a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b20d694b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9cb2ef08.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-edde04b9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ce0f6038.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6585ccf0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-71ac2fda.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-35023de7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d355185e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6584831a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e1eee0bf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ffbcf86e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-51de71bc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6096e50e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5eb1d0a2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f836c381.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6924edfe.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-78f760c3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6eeb11df.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-686a1fba.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6e8d1e08.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-de75f436.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d7c1f77d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b09033ff.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-49d67b8f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a065e718.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-878a22ae.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-39d16988.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-67da7fb2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-91fa21b8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bf84aa8a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-da3074ba.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a91511d2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6bb04eef.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4570cdaa.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bbf8c062.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-901c6e22.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-340e23b9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c31f0835.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fae34a15.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7b7bdecc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1103e932.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-82013ae8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c4b8f207.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6680b628.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-829b48d3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f5b2e479.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fe7e38d5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bfa8b679.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-11e46c03.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e45c9961.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c17870fe.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-37824b83.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0c8ac379.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-28560f8a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8231c7b5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8bb67b29.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-33ada261.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6ca30233.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4a880482.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d883b605.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a475e596.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-58616cff.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0264d5cc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1a2efec0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a31a9581.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bc7d7e54.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d7dd5978.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1b29e91a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8c6ed73d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8a4570b7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-17faed9b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-965b6dbd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9dd2468c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-12c217c2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aa47262c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9d47f662.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c9c079f9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c6352e34.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f5426ef7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b0479ab7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c6c3befc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d6376c2f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ef74aabb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c51f616e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d487c2a1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-48166bef.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bb152a39.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-124516e3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d48dabe9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-48bf7cf7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-84f9161b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d7b1f299.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e1c6f22b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2254d928.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ec1002c9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-48391f02.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6e96c7da.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-96e166cc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2372fe4a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2537cef9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-646a0a5b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b6f4e23c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5a399ffb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-17f1dfc2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8700c3e5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e0bd502d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f4285a2f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-637e466a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cf539ad1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-39930093.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-379897c3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fd63322c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0f086c74.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4ad3bf96.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-24aa8296.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c240cce8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6f30b091.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2c3586fc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fe855edb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3510c59b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a458398d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ad42ac6a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-add60fb9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-84c98d98.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4a87614b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-38dde39f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dc7cc5d7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-20a7a99c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1f917ba7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-188975f2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c9dbc7b4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-32c65ae8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6a1b862f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1117f804.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7158f474.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-29f1a248.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-34c5cb34.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b9cadc2a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d7f4d33f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-50bc44ec.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-546a712b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4ea53c61.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ff870d59.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-86df4314.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-558a006c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d3fe7e3c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-231c1535.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-00ad1828.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0e387c72.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-932c3e01.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4e2392a2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-98257f16.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0255e498.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8eb66715.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-715e05f9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cd6a303f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2c3ceb62.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ad79a858.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9b32f8dd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1279d1ab.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b998c0dc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6c9aaa19.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f1d6dd64.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9921cec5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-96d8b3cb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c3afeb86.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9fe22164.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9351d232.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9f2bfdc5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a0bfd086.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-74f40bf2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0884310a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-841c257b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5fb55450.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b9cccaff.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-40f2c1e3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-01cea52b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5696832d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1f4707ae.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b710d2fa.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-80f05889.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3cf6a5b6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-25001c2a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a1930834.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aafc3b44.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9dc66975.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b5197052.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e70cd04a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b1b1dc1e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-45cc3e34.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c9621217.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-632b7824.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-de713511.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bdf9b2e6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-645f8052.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0e0b4de0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-926db44c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ce7363b1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3fc97174.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3400435c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-996fd182.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9befda07.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-87ad9b5e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9c876466.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-686ef281.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-67be1211.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5795de2e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0297856b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f3a63e7a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d6293ed8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-062388c1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7cd94089.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b95b819c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9c8c2d3c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3f7d2bc4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e86c4103.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-71142e13.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b9d4ed63.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c4624b46.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-06a5afc4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-022256c6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0b6e15c4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-22416914.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-63225fa3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aa29cc83.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4ea16bc6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3a947154.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-367766f9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1352f34c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a132c501.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6678e5ba.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-63d70d97.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1a0f0b88.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-50331534.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e4f36b31.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fa0044c2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-898c2a06.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fda2bb0d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-449e5ec6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-eb083428.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-eb129c57.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f2e925e8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3592b8eb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d6413470.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5e5607fd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ddceeff5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-eb8ea8f9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ebbf3a92.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0bc1e5d1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-facc2fff.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-778b5017.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d8533708.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-859fbafc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8d52bb88.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f356546a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5823c6cf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9d9eab27.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-13747a31.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7cabcb42.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-13931b4f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ef7aaf16.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ba6e5c7e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fb08c64f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3eda3555.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-16e1c225.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3497d4a0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0df881b0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-46495456.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2070f2d4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-18682c89.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bae6448c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-40ac2004.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bc3dd42c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-630e583b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7d857ca3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8b48b695.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-690968d2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-795d99e3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ce1b7485.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1849d2a5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6e45cf80.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6ec5232e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e6514d0f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-14a6d93c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2f872176.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a529897a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1558513a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-888319ae.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c4a68b70.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c2a790a4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-411f18d1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-604d57bf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-429dba7c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5e0b9a3a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-592bd643.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3441c823.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ff8a4b99.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a6a0dc2c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c06f8caa.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c7339852.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e095d4b7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c5ef6dd0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-68a25f96.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-618f8c6d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-81d46af1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-44363b36.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5ca1920b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-546a4c28.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5af8e425.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-69df3f9d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9b90dc71.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2973bee0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e14b6f24.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b1960247.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2f295824.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-15ff5188.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-14f3c2be.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-08f766e4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d6770000.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9e5c36bb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-89fd69ac.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cc70056c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-28202d6f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5a6dc46c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-db1c8467.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-20b3a8ab.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0ac947ae.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a0351cf6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-937a7c1f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1102f377.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3fe9f835.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-42ad7b6b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8fe43d43.js" as="script"><link rel="prefetch" href="/waterdrop/assets/404.html-d68d7ba6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4cb31761.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a36aea6f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fd215d39.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-04c951a1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-80ea4d95.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-416b19d6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-eb7a458e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d6163c1e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-937dc96f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6dd00be5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-12a93eff.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b32c0a80.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f6861314.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dfbd0219.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a077938c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-731cdcdc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-619847d0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c2b87857.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a65e483a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-76e5b4fb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4245d40a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-49987e36.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d5fcb0ce.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-37cd45ab.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6eed1def.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3b6c7886.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dbb27c2b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-876f16ac.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8eee6cd6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fa149f60.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-faa58ae8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f49edb02.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cc0867f1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-950d9140.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-954198a2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d0b0b574.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-77cc3d40.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-62df1e0d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7884b8b7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-000ed1f6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a8c42a07.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-16bec67c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3a84ef72.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c1951d7b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-709af06f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9fb0a69b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3630926f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8e2bc4f8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f3f00fed.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4b969e72.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-59dca8bb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e6a7e83c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-965fd45d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a015bc2e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0f3517f1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b2830455.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-647c078d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-129accf9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-477eb4be.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0efe4d98.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fda3c813.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-70836fa6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-062c1177.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1d0134e3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ed11a401.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-70c53642.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cbfc7d01.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-29a0aaf4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4b2f5f7e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aa1f0288.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-450ffe17.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-177e92bf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e124558f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-08cbedb3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b4f4918c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5d7f4926.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e9d9fcef.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-296c7158.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b93f3d9b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-556abc73.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ac7c4b54.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-11e30572.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a47e29c2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b81cbdac.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-94a809ea.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ddbfc80f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2bb6627a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6ee54965.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-868f1e7c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a265224b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2718c759.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ab470a7c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4a5ebaa1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6ae90efb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9488cc23.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ac804538.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d8a8573e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a3bb3597.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-37cd964d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6123c427.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ad3234a8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d89d7076.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9599d425.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-60247673.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6d64142c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2ccd84a7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9f1bd80f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-81ccba35.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8b13fc33.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c9fa9a41.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fbf9b688.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c37f041d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-49692758.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6e7a9561.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-80518999.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7a400ee3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-81a2131a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ffdbe148.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-92f0ee03.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2eb6ace1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-04a00fce.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0c35e479.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c48b3897.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-319af5b1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-89da8f4f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-14e19baf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aa2a9acb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3410623f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7fe572eb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-abecb709.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d1943faf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6188eb60.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8e6e0c32.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dba38fce.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dc2e8aa9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-05ef6692.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f21a4dda.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b176659c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-18e9a874.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f61cc136.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d8673cb9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cb85fcf9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-10da4450.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-56e55680.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7fbec2ea.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3c8fa2a9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f0bc61d3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bb19ee9a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2d685cc8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ce327f38.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-203d8992.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8babdc3d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-83f99abf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5441ba81.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-50a54424.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1d126f1a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d6dc69cb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-87f40d7a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2839b322.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4af07b62.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-377acfe0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-05acc377.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ec358332.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-861c1374.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-017d9d65.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-06074fd0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a3cbe5fa.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b4e36174.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5b97f75c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0966d78a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ecedf04c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f405672c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9066b594.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-247d2cf7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7615d952.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f9ceae8b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-82c9991a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7b694a7e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2161e2d8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bf3dead9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a3aabd91.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-662ae99c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8001a6cb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-45e40be8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-612aa728.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7ea723ec.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-10cd1aa8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-42808e8b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-36a154bf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9e2a825b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-98c70991.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-24ca3d76.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2d0d0236.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-63f9a891.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-60260f4a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ce5d84f5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-810296d7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a8e59b77.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b3430e40.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e199d71c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9f82e0d8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-296f33d3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b066db84.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c519e02b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1bc30c87.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8fc54b44.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-48381105.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6b522337.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-79dbd66d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c766fb83.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b195a53a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-93a20ed9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6cb958da.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-81361238.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5a663f74.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b06b810c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c3e74091.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9d8bb5f5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-090497a8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-06922cfc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5c802897.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-858a1a45.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bc2a286e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-481a4f66.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5823ece8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-56c930a8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1f7bb377.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3ac3c293.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ef8dffc2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8df16323.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6e096f54.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-093d4947.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e6715e0c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b19a713a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-33c9ee17.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4c40edbc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cd68c284.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fb126145.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a5ac998a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d82dfd59.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-eea290c8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ee3feb5b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-129ca31e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-87f0bf84.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-571a5730.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-76d4ba05.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bdd81428.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ac456eee.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-13b4ad4e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c36f3354.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2a283f93.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ea78fd9c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-29e4a3ad.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8dd75142.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1ba8bdef.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-79dd8504.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c26bcd81.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-26747111.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ad6d571a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f4d607f9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a60f7c97.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-36fbabc0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-79645802.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4cb2353c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2d5d93b8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dc2c96b7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b81ad1ac.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4d077a87.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b040c699.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7ffc7499.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2b878c22.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-631870a3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6d405f49.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-734d38f9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e891974e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-20fe601c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8406de96.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bfbb7db8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b634862b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c2c22105.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2a82156a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9252a99c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ff349c79.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0d6cdd69.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-da6b24e5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1e260a94.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d11b7c89.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ce2c4dff.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0597e3ac.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-181d7442.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-daeae46b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4b2806e7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-256c6a2c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-74a55d05.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f84ecbd8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cefd3d95.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9260ef24.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f6c3a48c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-82c5f347.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fa8bb3a8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b86309aa.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1195a2de.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-679b218e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9326d57a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-29b38f72.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a106a4e8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bca7c845.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b1649d3f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-db0ab206.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-28d2db9f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ce07c820.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-17445c3c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3cdff9ff.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dab10f5b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-405c602f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-87e00d37.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ca5677e1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-633a1b7c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7772f1d9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-37948094.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-325e7462.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0cb99de2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ec15f0ee.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c4b329d3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fad5bd70.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-43cb00a7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a76a828e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a51e530f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6e22ac89.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d2e8f1e6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-79997db4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-98418017.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1363d5d5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c871b349.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-78ac2e08.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-25c6dbe4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1a65caa5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7bf9d3ae.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-59a68162.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d97690cb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3be77ede.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-06a1357b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d7765434.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f84ca85c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-65f80e86.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-90b22e09.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1bb1f74a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5a64c148.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-13c39cb7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ae11d63b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8a46e3d5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-27d3c806.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7c9352fe.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1dc02277.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e922d04f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-75e29368.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-29b4dee0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-071de749.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ec6ed904.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e69ae4e2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e22456f8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7dcf9a5a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-06fe0a57.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-695f5267.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cf8c5af7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-327fc6c5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a3f5bb8a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-118505fb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-21c8c7f9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d6a14922.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-159779ed.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9456d393.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b577700d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6329c98e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-731b13ef.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-72a626a3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b8db9193.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-424627ae.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2000e974.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-448d50a1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-21d16c78.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8cb31e90.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c3782278.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-75575811.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7afabd53.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6f4db9f4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bc1b52ce.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-edf9e234.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4fb7bcb5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-73b73691.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3187f930.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b8157d30.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5c556411.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c91e915f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c6785834.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-830a9b35.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dafb0978.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cabb5c26.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d7a7275e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c139a87d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-71f52786.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-14fbdf2c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6d17ab33.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9dc14716.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-343998b7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8addab19.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2c3eac21.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-528c289d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-50772911.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-97aa8ebb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-985a2cf6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3f390cee.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3682f31e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f7fd8148.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ad97a015.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a5ffae79.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-408f590b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-46bfe9c9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a3360d07.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2db198a8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4198704c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5f5ca66c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b01c58a4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5b366125.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a1858a8d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f1f6af16.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-87a7ffba.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f87598ce.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c46d1c73.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bcf2b6b5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-43e22253.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-df6d3b3c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-41f4368e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-87ff0e7d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-956ce6ba.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1195e605.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-743ed62e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a9895f6f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-869d19a5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-13000f6e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f93b1be8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d54aa16e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0eb3278a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-23b45218.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-58e1c679.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-39c83cbe.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5d7ae6b8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c3ba0ed2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e495c93b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9f06329e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7e72731e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1b88b082.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-eef9a63f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e3f9d6f6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5305921e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d167c317.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-52eda729.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cb614f95.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ebb22e82.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-24236184.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e7bd4aa1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ff79b6ce.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-128269b4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c3669bf6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b19ea9ea.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-165d3896.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dbfe687b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-be7cac88.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c7d64692.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8c0e9ee7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f69a3bcf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7f7f956f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8248c35f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8e546708.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a9f987a6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a0a4b399.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6bd29d86.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-58260e3b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-73ebeada.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1a26e959.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5b066e08.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7acb7831.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-064b53af.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-90aa5e1e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9f435d84.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cfce5317.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b0849c97.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b2b3ff94.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6494209c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7e5a8f4e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-434513f5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c2219b67.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3490c36f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-82cb6041.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1cce2341.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c61af46a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-03cf0e21.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-00ccd1a9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d7dad4c2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0a764271.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bc9c90af.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f1e35181.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-362251fd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d3e0d7d2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dc4315f3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2a5b0a4c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c997c1e5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ad85761f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6bf2d3ed.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a538dac4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-94bb154c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c1600ac4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2b27335e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7c9d533b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-80b58523.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9fdb8953.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aff057e0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-389e7828.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6750fa8a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-807f5702.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5aedc7e0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-caad0fcb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-58cb1549.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-97b3b56f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-45188976.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2e66aa06.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2e150ebe.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6730084e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ceee326c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dc61d78f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9974f1b6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-72627aa0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b82829a7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f201cd67.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-72188c4e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-252409d6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ef3798f6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a0e26078.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c31058b4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-752afe4e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4084c031.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fee68275.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-542ca8ba.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a25182e2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9fae691c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-30e9e643.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f2fcd887.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f7267a63.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1a261e23.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-359a298b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8928f641.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e9c364b8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6b6c4877.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-108b247e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dc364454.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3d592956.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-819bb608.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-354caf54.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-09390c4b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4b1d88ba.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-490a15ac.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-10f8ebcf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2b01565b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-38099b72.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0a83eab7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-401bdebc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-58d4fb3e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aeb83dbb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ff625106.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3c0a422a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7a0ad140.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7bfdfab1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6715071d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-82d0453e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7c66fb67.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0682c411.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-57c30b4e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4d9b3d9c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d81fcbe8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5c36e5e0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-98dd379c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3af80533.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e0a67829.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a774c792.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-05bde675.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-da8d8943.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b67f8c96.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d1b99dd3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a642ac6b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-80f22426.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ca92e39c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-698587a4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f580207c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ae4fa35b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-094bec26.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d3ce894d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d43fecef.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c65cc6b4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-882a5257.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3e7cb681.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d69c32fb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-956124d5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8470ab2a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-99ff2008.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-eca58b39.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-53f73579.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dd445e1c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aa622d34.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cb083082.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-67220942.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e8f8578b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-eeca5f8a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8cc280f9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e3bfe426.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-211aad8f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4044c0ac.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b3fe0152.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3f0d1a64.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-10015028.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f5b0df47.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3d9b67f6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-295aa1dd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-232d5471.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c7eb9735.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f7444ee1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2be9bb8b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-559c07ad.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f53ce9f2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e89021c5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-03d37332.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f8f6b4cd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9d09061b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8100505c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ecae609c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-62cb8b5c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9eb4151e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e64e7442.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cb9d7858.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d6d926e7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0ed2d58d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9dca86db.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1be012ba.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8e42be1e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5c6db69b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dad39b7c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-91dcc005.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7b83754f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4d220361.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2d90dec0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-67821e4e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ec589cbf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e9556171.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e01d4895.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-df791d5a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7a775d93.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d4f3e6df.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2f2ed2ac.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-73caef67.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ac4d1419.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b5158fcc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dbe6f0f9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f3b4e4b4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e8cb8bf4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c61fcd1f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-80138145.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e17d74bb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5cff267a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cf5f2b66.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-775d3a81.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d24f5f8a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c13d1174.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9bbe23e9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3f390c42.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-49456431.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1b984a84.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ed8d5bb7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-86a7492f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2aa26e1b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-26b6e5df.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dc611239.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-01e10dc6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8c14f2af.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-74901b5c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8c23c9d2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a47d7ff3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-06edc19a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1afa7609.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9a42ebc6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1084770f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1b6eac01.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-13c5fa68.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-55b56dfe.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9fb0bab3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d642a3fd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-405cd809.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e088e226.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b3d67503.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b8c68dd5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8c316de9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bb7c07d3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-26d0072e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-84739edc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8f9d2b19.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-04210278.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d3e16666.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bde854cd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f3c59b4e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4daadc95.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0284f7b6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-746f6042.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fe9c146c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-11bee567.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-13708006.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8e07b7be.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-158d8ebb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-852faf3e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-744e278e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7f553465.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-69230f29.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ea4e9f83.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a8db9e31.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-28ab4901.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-beaca2e0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6e2a966f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b3b32f9e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c5ab0d12.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-694e4735.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8789bbdf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3bb993e4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-078cd7c4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-042aa147.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e5839316.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-50b28ba7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-38061469.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-25e8ce16.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-770b0424.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-eb62ec69.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1e93c02a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f028a950.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f15958b4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0215915d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8e56f752.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-77bc7266.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e0900b5d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bb08241d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-eb17a9a0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-84ae3f09.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-434f44f9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8fcfed8e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-255a402e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e20b7050.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6869237f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-383d9053.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aa25eb74.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d425e3fb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4933ed1a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-eda1d3ae.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f6825ebe.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-91d64cf2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0dfd679b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5781e85c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1b8aa903.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-38d0ee12.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-93960a48.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-79a426be.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8c6b86a6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5cac004e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-af0130d9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1684e745.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2d2ab196.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-69c15afa.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3cc9c0b4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bc85929b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c927a3ae.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4055cc74.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-33c61158.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5a5dba81.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b9e7d92d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-380fa114.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-321b2643.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-20e0cf4a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3bc65460.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-23e5649b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9b41cc63.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-126274c1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2bd222f9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-49aeceb0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f944935e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-833eecb9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fa977d3c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5993334d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-12ae7f84.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-43d86379.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-95dc46f7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8980304f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-44cfbfdb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-515b47ee.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bcc15aa4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-03edc23f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e536cf08.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-39a0fdd9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b0e74a6d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-945299fa.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-23aa032e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5d2263b5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ee3f73de.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-447d494f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1d751059.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6091d636.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c7199667.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-da498da2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e4a791f2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b291a717.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3f426ffa.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ac605fab.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-836ac0d0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8751650f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7381c32e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-de7d9653.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b15041bc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-21c32e97.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7e7d7c43.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c883a649.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0d2bfcd3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d0319ac2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0b2bda0b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-eb1d7bc9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2c4eece7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-10892702.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c6244dfc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-67570f14.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-822a70ec.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-57315f7d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-be38f529.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5f661c89.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7df18744.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5a77c9ec.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-87b70c7b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-308ce6f1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b764b4fb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f18972aa.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8904d1c5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-19a0c87b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-61b691bc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2ddd2bfc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a403fde0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-05024340.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-99766d8e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b669e151.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5ffe0489.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-48e643e7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-629b4a6a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6882008d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-11ac49ce.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cacf5b04.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-095e0d11.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c8b88697.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f97b21b5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1935c3b6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d5389716.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d1c23d79.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a6e0e208.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8f8de2d9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fdd88960.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a2ae1f6a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a449e8bb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f4d0fb16.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1e22f366.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b9c9d208.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a0794595.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6ff5ef84.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2584ee48.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c899c3a8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4d44cfdb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c3478608.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-01ee1e92.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5e7fdfd5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d6849da8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2fd54e79.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-197e24fe.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1a62c2dc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5fb48fd8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c212bff7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f7f58342.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ad12673f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cae1226a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a7a68d75.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6cfaf207.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7a1870bb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9aaad8ee.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-276684a1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-add39a75.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4fadf9c1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c2c6d617.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3280cb27.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-497a1019.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0498e96b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-31eea509.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3a6c68cf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5a798b65.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7a7d58b7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2e494b83.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1fd1e5a5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bab46e48.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-547b6ad2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a081e400.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c16d27cc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c078241e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0e13deae.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-19cab03e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-acd283be.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a97b6374.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-59d13749.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-af989635.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f71b28d6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cfd0763e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-92e82923.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-44012f1f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dcd5dee9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f137d25d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7d9549a9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-17074cb1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9635559c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4e960468.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5e97401e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-16538a35.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7535ba71.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-62d6b0b4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-948ecb29.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5a7292bd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-66ee8cb8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aef44ed6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-52cb45a6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-12392445.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-77c94372.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6f421c94.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-43a05cfc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-45f6d625.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-613ed287.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a9cc5390.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e74c17ef.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-86613a01.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d91c9b80.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-89e52104.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ca6bba6d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8466df7b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f34a4745.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-988d581b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4ce111b7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c5f4a090.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f7b40ad4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7eb89ee1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-43412f42.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ac57f774.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-998e9673.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-461f7c9d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6e9e405f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-05496cc1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d7c40aaf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d73cc4ed.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e15215d9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a5814e04.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-840c1263.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cfc9b92a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-407a87e9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9eb532da.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dd03a85c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b34fd859.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0a2ab526.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c2d2dd6f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ce1fa743.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b2af7a6d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e2ba96be.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-23b57a6f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b3bbb264.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b9455064.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6c1a78bd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e9572496.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4b99d7e5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-da95fd04.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-269e8230.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3eb39ba5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9392b8d5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-70f45c98.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cd26a88b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-198a116f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-476f3bbd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a394dcc6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4775c52b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0e66c71c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-09aec9b2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9e7c5638.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8d3b3433.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-994bc522.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b91389ff.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-451d065d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-80a046a6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cbef3dfd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-596a7bad.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d97f972d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d0eb4422.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-10c5ab3a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3ae8118c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7d584a17.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b01da6da.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-85175fc3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8e1301e8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-492ae0be.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-089ef15e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f09500cc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-124c006f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5e2351c5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-00dea092.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a085328b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-730b686a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ca47afa1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b45ad468.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-be0289a3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-548f221c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-13bc2838.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-527547f3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-96ac0f91.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-02eec3c0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-53253828.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-180f2ce0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ceb25938.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-903961f2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-53811c47.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c1cdab07.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b027c7b5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0c046fa4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1bdf1810.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-470757ab.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-36dc6f24.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ffbd2302.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a50ef78a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-61154552.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fae08409.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-48a45655.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8add4f3f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2b9c68ce.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4d43c1b0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5cd2969d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a52c2956.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cc6c6499.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c4cb41f1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d268c015.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c75206e5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cb3c7f53.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-06d57668.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-19a32314.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-197d49b7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fa0a9cdd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8b34c931.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e7cbb57a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-abd359f5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b95491fb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6fb358f8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f7f53197.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e185bd4f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d425bf89.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8f01d9a7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f85e5c25.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a7f2c7ab.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5effb3fb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c7a35430.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ff7abd66.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-37767140.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a3159f10.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-26fc7627.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ca91250e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7987ad75.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-56bf5c69.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-282c839a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2301bf63.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-989fa07a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-445cdd99.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b6353ee5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-99fb01e3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-43deae3e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-02f20d2e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d70f29c6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f104f72b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6a86aa4d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-21aa03f1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dccafb2f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-28a91628.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e0d957a3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-674f1574.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1160454e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ace401f5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fe461bd6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9d814365.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c263db00.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-13681f1d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-af7caab4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d4682568.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aa55ef95.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6be222a4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f3e31a8f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f5e586d1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ae7a4261.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-82d5beb0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4986dc55.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-83d2e1fd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-eaef5410.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1aa01583.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-33290aa5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-09fcc626.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f18423c3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7ac0e925.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b1b57435.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-db83eebe.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5b0f9179.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ebc55535.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a00c87e1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-700b4193.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-23685d62.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-80360763.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-21b797ac.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-abd8c303.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-964b707d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-645ec93a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-32025410.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-97012073.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b4413369.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-69b31006.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-10fd1c75.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ef5c52a1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-041db0de.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9b91b8f1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a03bb278.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3059390f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5f006007.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a72cac1a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-acfe9cc9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-88d75fb5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ce2ce983.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c3f46b8d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-587dd0f1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9757259b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-68fe3d09.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-680e318f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-831e6fed.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-63e02428.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-785a8d47.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8e302f03.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dc24a876.js" as="script"><link rel="prefetch" href="/waterdrop/assets/404.html-bab668d2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e1c1fb44.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c00453b5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-52b472c1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-eaba6797.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1e834767.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ed4298fb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e61af16b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-43737ce5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-456a9655.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7ae499ff.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b87e14c4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0cf040b2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-820f3f40.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-996e76af.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d4c6effe.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a10d9886.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-da46bd82.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e409c86b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8573e4ec.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a71e5032.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6bac8f94.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c233ec79.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e5110c12.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-896db21b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ffbb79c5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cb58fa03.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b2aa4a56.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5e97c551.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7c71e873.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0faa7ad9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dd2d6292.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7a800b6a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1bf55646.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-674633bd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-984bd064.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c75a7a36.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2f4fd0b4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-be32ccb4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-df79931d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5640347b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b6b8a135.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9eaceaea.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e2e38a26.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d05badf7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a0827de2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-89a5d221.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-25669daa.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6982829b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-12c65699.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bd3cf608.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-42ee7631.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cf8dc348.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e7dcc5ae.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-29dcab5f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5a90a686.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-84243f8c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-201d9496.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-125c99c9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f64e1784.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a52e39a9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2cb588c0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f8f18150.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c35be997.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c5398965.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-47ec69dd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3346c148.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ac22a32d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b9f69a1c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-11c932d7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-98b3c65f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-344518b5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c8961d4b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-27360ad6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2e158b24.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-31b15294.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f0ef59f4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e9550565.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c3ee91c3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5f616941.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-41778577.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3ab9cb22.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-df080b37.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-491dc671.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2ad39505.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e2ec17e7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-63ec05a2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-de9a9c0a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b2ef046a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-98f6410c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0bad90b7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1203fe36.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5c905710.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0443c24e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b311beb8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a5b44047.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4bb4ba75.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e3308eb0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7ce87304.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9228bb67.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f3c5c83f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-56663999.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-da696603.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5436fdd0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-be26573e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b0dfd8e3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-18631736.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-01c096c6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d84e0ebd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bc5ae743.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4ebe0158.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-808ab7eb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-faab7430.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c96c5dcd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4b4edc37.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d669dfeb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bad8ff33.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4f2a3c8f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-26fbc15c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-77ffab78.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a5eb45fe.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-700b0292.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1d8af5d9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-41b6cae5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-138647ae.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cfbff643.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-56d0b5a1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7a76f5f5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-03b3b623.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ab6efa7d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a2721d0a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4536e9cf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e35d7f14.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-da98ba5f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fe14a247.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b43aeec5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5b22dc3d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7c91e09e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-515e2256.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b0f4ebc4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-487c7510.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-18db3d74.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7dae0b66.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-07a9711b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-73db08c5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2128a1af.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-198d0035.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-696086de.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2f24e9b5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cae7ead3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cc7e7fed.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-94b6b7d8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7ebe112e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5a08cad9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3b5589ae.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-38fc63a1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-95e3867d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c68bdfdf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-13de5e3b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e3eb174f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c3ef7e81.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6fce3529.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0aebaf2d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e2c09f6e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c9b63470.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0fecbd54.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-085f73d0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-44ce6375.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-704aee39.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-895c85a1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7de4b036.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-18c4a4cd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-de49b102.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-488588f0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0cecd2a5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1226b2f4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-19bd1d25.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-90ea08c6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-26121730.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d05af5a1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e1470eb6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-257e94f9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-81268be3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ed86ca5d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-08d0be34.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8341e049.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cbbfa819.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f420ebdb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-faa42c27.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6a3c1058.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-225d4cc2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2385bbf3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3305654a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-78ef88e1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-14d3db3f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-452daaf5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2b05cf5d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b25ab43c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f385c21d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bc422e8d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-08cc7b11.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-00a6ec58.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b6ecf80d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b5e2942d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-577967dc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-073fc4b7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3b43ea8b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-17225211.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1274f9e1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ddc2a4e1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3c9db1b6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-51550a22.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5759c5e1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-12208d22.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-606102a0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-80a60722.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-cdbfc112.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-84d0ac76.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fac46859.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-10e83580.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a2ac45cd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d158243e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d6c7d64a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2da127bd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f48509f0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-60b7c107.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d15c04d0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9ab6c067.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-14248357.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-219bb1ae.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f7a170d7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-88f4fcbe.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4b6289e4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-67726178.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-287b9600.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3fb3a2b5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6faa9baf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-25e6c60b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7f17e082.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2bf55f46.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-93479ee7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b806e9f7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5f50dc9a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-63f39e25.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e7e8fb79.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7f4c1fe6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7141d56f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-76b66e34.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-74f19e75.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7c79f12f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5305799b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1ddfc981.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6f51fdfc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aae2963e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-287f1986.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6dda25d6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-548e1676.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-514044f7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dab989c2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1fab10e6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0300de52.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d26548b1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d3702144.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2aeb55a3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e5fd3f2f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4adc37dc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f8833c13.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-31a44710.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9ceba6e6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4c6ffc38.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e0841358.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-48a0c0e2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1f50ecbc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-93c13f5b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e29c751b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-52e3ae78.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a0395498.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-11405e77.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0f99738b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-af2f7796.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b0e675c4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-67ceb976.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aec13f59.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-71de73ee.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ca1eb12a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-918b4fee.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-709498a5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fffea255.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-35628b8d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-05d49689.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3343013f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4ad31ac2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8911d630.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d36f080b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fec608ff.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-846c8f8b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-70c3f355.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b3ba9b1f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6ff9ac24.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2bd0f1f3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bfdf0e16.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1fc3229d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c92c5244.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-33b80994.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-79c5f351.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-27ae0468.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1ee668ef.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-eac506ca.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-97ded1e9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9291ad6f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-61dc7dbb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aef66e9d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1cec2d87.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0123fb52.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a08b110a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b37bd4ad.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-25550799.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-326f920f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-07c8c0c7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9151aa9d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4b4aa4a1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-df218988.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b9d2fd29.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-08ecc2cf.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3ef758cc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c3f22f09.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-07747d0b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-51c9bff6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4fb82663.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0eb1abfd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e2ed63fc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-88440a79.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7778ae06.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-32361939.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-66458fe2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e43d0dd7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-93130177.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fb87e90a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0d884d8f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-27792019.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-67af10b6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bc4a7111.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f5d551b8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-deeeb5dd.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-bb260f0a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-40aa213c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-919d2c06.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c85ef2e3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d5a2abb1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4831bf81.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b6eeb0c0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d727227f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c362150f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b559dcee.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0b5a5236.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4807d3b8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-49a4c61c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-67501cd7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ab197523.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-62a8bac8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8ec1e2a7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9671de0e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2906e9c2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-56a2d4e4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5ce3212c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6b26e04a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f7000b35.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-551b5dd2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a1aadebe.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-edb25852.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aacdc9ef.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7e4a3d56.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-88d84aa4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-40ea9d5d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-69f86b98.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-398cc73c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-60474b4a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ba836672.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d28a066c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b1df8ca5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a1545ea1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-701890c4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c3a38cd6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1a210de3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ff527ca0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2a448312.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5c995df8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3211648c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d10a8e1a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6c30684a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b2da9a98.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fc2d819c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6c30bb40.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-efe654b1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-aef8ba0f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c3ca926b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-11ac2801.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3e2fce4a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-eb6ef110.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2b07c785.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fb7ff156.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d4d9c87a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a9fae893.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2f1231e7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8eb55f76.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4b3ee2b0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e48e10ba.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-528f6112.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-315fd37b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0d07a9a4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-09a8308c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-caea46fc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-40d20a6a.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-417176ea.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e600d556.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-688f2769.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-390c2154.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8bb922d6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9f00f9a7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6a8bce44.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-18049bd7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-29337d07.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7d5c1042.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-73a0cf76.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7e0d6ef0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b8e6d7e5.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5e9a2968.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8754031c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9699460c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-77e89e18.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d7d29392.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-78f8848f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6f5ee486.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-30438d98.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d710b08e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-57fba534.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e24abb93.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-36c7c923.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-74ffde13.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ee93f537.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fc5027ba.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-4ee8ce9c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-1606ac1f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a10f570e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-41fef27d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ee9db661.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5b8c789f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5c7a51f6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-53479b63.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e2b888fe.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-35581177.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ece98034.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ddb67783.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c6e1d8a0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6bf419f7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b9533515.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-eba799aa.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d74247b3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a98ce403.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-07876d4d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-e7b2f898.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7e276267.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-b9d373de.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-53fe803d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-59e392dc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d4ea2091.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d5fa2264.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-6ad07bea.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-75bc5705.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-43b533eb.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d077c2f1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-faa76921.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-da3a732e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-111b68ed.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7dd16e96.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-df6dae6d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8161e194.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-52ec516e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-08af483f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-857cc486.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2376d8a4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8d267af4.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-2f0adc62.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8c236240.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8b13d6f7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-84d012d1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-610245ea.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d1877640.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-deb54a34.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-393cc9a8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ecfeb4fe.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-44063596.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ab183964.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-0c8d672f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ae1710fc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-dd0d54a7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-f23a6f22.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-32d9cffa.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-10d92bf8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-83447736.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-be2af468.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-751ca180.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-7f8ae107.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-395b802d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-89d609d1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c9bb7603.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-77f6c9a0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-537b1e6b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a7fb0b1b.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-01147507.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-c8259f62.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ddf5d7f1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-18421585.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-5d181fe6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ab2a6eb7.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d27d19ed.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-04a4bef8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-d8e461fe.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-3df741b3.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-df2409e9.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fb9da160.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-9dafdf7d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-8e99dc96.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-a3f81570.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-058a4f60.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-33c5a5e6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-848ab43f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-fa1e1266.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-650a2826.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index.html-ae54352e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/waline-meta-56fbc549.js" as="script"><link rel="prefetch" href="/waterdrop/assets/component-68010c3f.js" as="script"><link rel="prefetch" href="/waterdrop/assets/auto-fe80bb03.js" as="script"><link rel="prefetch" href="/waterdrop/assets/index-2bf332f6.js" as="script"><link rel="prefetch" href="/waterdrop/assets/flowchart-c441f34d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/mermaid.core-7bd18cbc.js" as="script"><link rel="prefetch" href="/waterdrop/assets/highlight.esm-75b11b9d.js" as="script"><link rel="prefetch" href="/waterdrop/assets/markdown.esm-abe06b83.js" as="script"><link rel="prefetch" href="/waterdrop/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/waterdrop/assets/notes.esm-a106bb2c.js" as="script"><link rel="prefetch" href="/waterdrop/assets/reveal.esm-ec5549c1.js" as="script"><link rel="prefetch" href="/waterdrop/assets/search.esm-7e6792e2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/waterdrop/assets/VuePlayground-13adc5e2.js" as="script"><link rel="prefetch" href="/waterdrop/assets/photoswipe.esm-1a9f4b8e.js" as="script"><link rel="prefetch" href="/waterdrop/assets/SearchResult-326c47e6.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand" href="/waterdrop/"><img class="vp-nav-logo" src="/waterdrop/logo.svg" alt="é’æ‚Ÿ"><!----><span class="vp-site-name hide-in-pad">é’æ‚Ÿ</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/waterdrop/pages/51513fc6/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:notes-book" width="1em" height="1em"></iconify-icon>ç¬”è®°<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="Java"><span class="title"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:java" width="1em" height="1em"></iconify-icon>Java</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><a class="vp-link nav-link" href="/waterdrop/pages/9d112a4f/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:java" width="1em" height="1em"></iconify-icon>JavaCore<!----></a></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/pages/accf2bc7/"><!---->Java åŸºç¡€<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/pages/c3f97b9f/"><!---->Java é«˜çº§<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/pages/5474b9fb/"><!---->Java å®¹å™¨<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/pages/78684c78/"><!---->Java IO<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/pages/b9a35e69/"><!---->Java å¹¶å‘<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/pages/1997b6e8/"><!---->Java JVM<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/pages/d793c0d6/"><!---->Java é¢è¯•<!----></a></li></ul></li><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/01.Java/JavaEE/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:numeric-2-box-multiple-outline" width="1em" height="1em"></iconify-icon>JavaEE<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/pages/050ef502/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:numeric-3-box-multiple-outline" width="1em" height="1em"></iconify-icon>è½¯ä»¶<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/pages/99f1430e/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:numeric-4-box-multiple-outline" width="1em" height="1em"></iconify-icon>å·¥å…·<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/pages/ecabeba6/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:numeric-5-box-multiple-outline" width="1em" height="1em"></iconify-icon>æ¡†æ¶<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/pages/98f75abc/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:numeric-6-box-multiple-outline" width="1em" height="1em"></iconify-icon>ä¸­é—´ä»¶<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/waterdrop/pages/47a444a4/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:app-window-code" width="1em" height="1em"></iconify-icon>ç¼–ç¨‹<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="è®¾è®¡"><span class="title"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:module-puzzle" width="1em" height="1em"></iconify-icon>è®¾è®¡</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ¶æ„</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/pages/d933a06b/"><!---->ç»¼åˆ<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/pages/14ac1f61/"><!---->å¾®æœåŠ¡<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/pages/f8d2c06d/"><!---->å®‰å…¨<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/03.è®¾è®¡/æ¶æ„/è§£å†³æ–¹æ¡ˆ/"><!---->è§£å†³æ–¹æ¡ˆ<!----></a></li></ul></li><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/pages/9584cbd7/"><!---->è®¾è®¡æ¨¡å¼<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/pages/087c62ac/"><!---->é‡æ„<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/03.è®¾è®¡/DDD/"><!---->DDD<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/pages/e745d4ee/"><!---->UML<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/waterdrop/pages/3559bef4/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:medical-app-laptop-1" width="1em" height="1em"></iconify-icon>DevOps<!----></a></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/waterdrop/pages/fcc7f3a1/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:board-game-jenga" width="1em" height="1em"></iconify-icon>ç®—æ³•<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="æ•°æ®åº“"><span class="title"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-plump-color:database" width="1em" height="1em"></iconify-icon>æ•°æ®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/pages/ba6c6f2b/"><!---->æ•°æ®åº“ç»¼åˆ<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/pages/711c97ca/"><!---->æ•°æ®åº“ä¸­é—´ä»¶<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><a class="vp-link nav-link" href="/waterdrop/pages/e6053839/"><!---->å…³ç³»å‹æ•°æ®åº“<!----></a></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/pages/b3143f7c/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:mysql" width="1em" height="1em"></iconify-icon>MySQL<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><a class="vp-link nav-link" href="/waterdrop/pages/c7a5b3a3/"><!---->æ–‡æ¡£æ•°æ®åº“<!----></a></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/pages/8e07d83c/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:mongodb" width="1em" height="1em"></iconify-icon>MongoDB<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><a class="vp-link nav-link" href="/waterdrop/pages/6f39feeb/"><!---->KV æ•°æ®åº“<!----></a></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/pages/0302a9aa/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:redis" width="1em" height="1em"></iconify-icon>Redis<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><a class="vp-link nav-link" href="/waterdrop/pages/2d01c30e/"><!---->åˆ—å¼æ•°æ®åº“<!----></a></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/pages/6983c546/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:hbase" width="1em" height="1em"></iconify-icon>HBase<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><a class="vp-link nav-link" href="/waterdrop/pages/bf863c80/"><!---->æœç´¢å¼•æ“æ•°æ®åº“<!----></a></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/pages/36596187/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:elasticsearch" width="1em" height="1em"></iconify-icon>Elasticsearch<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/pages/8b1864e8/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="vscode-icons:file-type-Elastic" width="1em" height="1em"></iconify-icon>ElasticæŠ€æœ¯æ ˆ<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/waterdrop/pages/bb9ba184/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:network" width="1em" height="1em"></iconify-icon>ç½‘ç»œ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="åˆ†å¸ƒå¼"><span class="title"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-stickies-color:server-network" width="1em" height="1em"></iconify-icon>åˆ†å¸ƒå¼</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/pages/df7c7cd0/"><!---->åˆ†å¸ƒå¼ç†è®º<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/pages/ad8b7f0a/"><!---->åˆ†å¸ƒå¼ååŒ<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/pages/40c8dc6f/"><!---->åˆ†å¸ƒå¼è°ƒåº¦<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>åˆ†å¸ƒå¼é€šä¿¡</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/pages/d6acf22b/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="file-icons:powerpc" width="1em" height="1em"></iconify-icon>RPC<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/waterdrop/pages/8a1e3989/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:mq" width="1em" height="1em"></iconify-icon>MQ<!----></a></li></ul></li><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/pages/ef414e7f/"><!---->åˆ†å¸ƒå¼å­˜å‚¨<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="å¤§æ•°æ®"><span class="title"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:app-window-pie-chart" width="1em" height="1em"></iconify-icon>å¤§æ•°æ®</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/pages/3c92e464/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:hadoop" width="1em" height="1em"></iconify-icon>Hadoop<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/pages/40a26118/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="simple-icons:apachehive" width="1em" height="1em"></iconify-icon>Hive<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/pages/6983c546/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:hbase" width="1em" height="1em"></iconify-icon>HBase<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/pages/63e8b84c/"><!---->ZooKeeper<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/waterdrop/pages/dff5c241/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/waterdrop/pages/136c9f41/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:award-ribbon-star-1" width="1em" height="1em"></iconify-icon>é¢è¯•<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/dunwu/waterdrop" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:notes-book" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">ç¬”è®°</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:java" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">Java</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:app-window-code" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">ç¼–ç¨‹</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:module-puzzle" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">è®¾è®¡</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:medical-app-laptop-1" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">DevOps</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:board-game-jenga" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">ç®—æ³•</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-plump-color:database" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">æ•°æ®åº“</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:network" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">ç½‘ç»œ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:settings-slider-desktop-horizontal" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">æ“ä½œç³»ç»Ÿ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-stickies-color:server-network" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">åˆ†å¸ƒå¼</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><a class="vp-link nav-link vp-sidebar-title" href="/waterdrop/pages/df7c7cd0/"><!---->åˆ†å¸ƒå¼ç†è®º<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><a class="vp-link nav-link vp-sidebar-title" href="/waterdrop/pages/ad8b7f0a/"><!---->åˆ†å¸ƒå¼ååŒ<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><a class="vp-link nav-link vp-sidebar-title" href="/waterdrop/pages/40c8dc6f/"><!---->åˆ†å¸ƒå¼è°ƒåº¦<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><!----><a class="vp-link nav-link vp-sidebar-title" href="/waterdrop/pages/f2e9ac63/"><!---->åˆ†å¸ƒå¼é€šä¿¡<!----></a><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">RPC</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:mq" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">æ¶ˆæ¯é˜Ÿåˆ—</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/waterdrop/pages/4fdfe265/"><!---->ActiveMQ å¿«é€Ÿå…¥é—¨<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">Kafka æ•™ç¨‹</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/waterdrop/pages/df6965b2/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka å¯é ä¼ è¾“<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/waterdrop/pages/f31f25c0/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka å­˜å‚¨<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/waterdrop/pages/8cbcce2f/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka å¿«é€Ÿå…¥é—¨<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/waterdrop/pages/97b2c587/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka æµå¼å¤„ç†<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/waterdrop/pages/d9dafb49/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka æ¶ˆè´¹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/waterdrop/pages/af73e0f1/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka ç”Ÿäº§<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/waterdrop/pages/80004b19/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka è¿ç»´<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/waterdrop/pages/da944418/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka é›†ç¾¤<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/waterdrop/pages/d8357cc5/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka é¢è¯•<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#kafka-ç®€ä»‹"><!---->Kafka ç®€ä»‹<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€ç®€å•ã€‘kafka-æ˜¯ä»€ä¹ˆ-ğŸŒŸ"><!---->ã€ç®€å•ã€‘Kafka æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€ç®€å•ã€‘kafka-æœ‰å“ªäº›æ ¸å¿ƒç»„ä»¶-ğŸŒŸ"><!---->ã€ç®€å•ã€‘Kafka æœ‰å“ªäº›æ ¸å¿ƒç»„ä»¶ï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€ç®€å•ã€‘kafka-æœ‰å“ªäº›åº”ç”¨åœºæ™¯-ğŸŒŸ"><!---->ã€ç®€å•ã€‘Kafka æœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#kafka-å­˜å‚¨"><!---->Kafka å­˜å‚¨<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å­˜å‚¨æ•°æ®-ğŸŒŸğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å­˜å‚¨æ•°æ®ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•æŒä¹…åŒ–-ğŸŒŸğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•æŒä¹…åŒ–ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•æ¸…ç†æ•°æ®-ğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka å¦‚ä½•æ¸…ç†æ•°æ®ï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•æ£€ç´¢æ•°æ®-ğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka å¦‚ä½•æ£€ç´¢æ•°æ®ï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°æ—¥å¿—å‹ç¼©"><!---->ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å®ç°æ—¥å¿—å‹ç¼©ï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#kafka-ç”Ÿäº§æ¶ˆè´¹"><!---->Kafka ç”Ÿäº§æ¶ˆè´¹<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-å‘é€æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„-ğŸŒŸğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka å‘é€æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€ç®€å•ã€‘kafka-ä¸ºä»€ä¹ˆè¦æ”¯æŒæ¶ˆè´¹è€…ç¾¤ç»„-ğŸŒŸğŸŒŸğŸŒŸ"><!---->ã€ç®€å•ã€‘Kafka ä¸ºä»€ä¹ˆè¦æ”¯æŒæ¶ˆè´¹è€…ç¾¤ç»„ï¼ŸğŸŒŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-æ¶ˆè´¹æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„-ğŸŒŸğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka æ¶ˆè´¹æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#kafka-é›†ç¾¤"><!---->Kafka é›†ç¾¤<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°åˆ†åŒºæœºåˆ¶-ğŸŒŸğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å®ç°åˆ†åŒºæœºåˆ¶ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-æ”¯æŒå“ªäº›åˆ†åŒºç­–ç•¥-ğŸŒŸğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka æ”¯æŒå“ªäº›åˆ†åŒºç­–ç•¥ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°åˆ†åŒºå†å‡è¡¡-ğŸŒŸğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç°åˆ†åŒºå†å‡è¡¡ï¼ŸğŸŒŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘åˆ†åŒºå†å‡è¡¡å­˜åœ¨ä»€ä¹ˆé—®é¢˜-å¦‚ä½•é¿å…åˆ†åŒºå†å‡è¡¡-ğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘åˆ†åŒºå†å‡è¡¡å­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•é¿å…åˆ†åŒºå†å‡è¡¡ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•ä¼˜åŒ–åˆ†åŒºçš„è¯»å†™æ€§èƒ½-æœ‰å“ªäº›å¸¸è§çš„è°ƒä¼˜ç­–ç•¥"><!---->ã€å›°éš¾ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•ä¼˜åŒ–åˆ†åŒºçš„è¯»å†™æ€§èƒ½ï¼Ÿæœ‰å“ªäº›å¸¸è§çš„è°ƒä¼˜ç­–ç•¥ï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°å‰¯æœ¬æœºåˆ¶-ğŸŒŸğŸŒŸğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å®ç°å‰¯æœ¬æœºåˆ¶ï¼ŸğŸŒŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•å®ç°å¤šé›†ç¾¤çš„æ•°æ®åŒæ­¥-è·¨é›†ç¾¤å¤åˆ¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆ-ğŸŒŸ"><!---->ã€å›°éš¾ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•å®ç°å¤šé›†ç¾¤çš„æ•°æ®åŒæ­¥ï¼Ÿè·¨é›†ç¾¤å¤åˆ¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-çš„-controller-failover-æ˜¯å¦‚ä½•è®¾è®¡çš„-åœ¨-controller-å®•æœºæ—¶å¦‚ä½•è¿›è¡Œæ•…éšœæ¢å¤-ğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka çš„ Controller Failover æ˜¯å¦‚ä½•è®¾è®¡çš„ï¼Ÿåœ¨ Controller å®•æœºæ—¶å¦‚ä½•è¿›è¡Œæ•…éšœæ¢å¤ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-ä¸­çš„-controller-å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆ-ğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka ä¸­çš„ Controller å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°é«˜å¯ç”¨-ğŸŒŸğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç°é«˜å¯ç”¨ï¼ŸğŸŒŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#kafka-å¯é ä¼ è¾“"><!---->Kafka å¯é ä¼ è¾“<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•é€šè¿‡-acks-é…ç½®æé«˜æ•°æ®å¯é æ€§-acks-çš„å€¼å¦‚ä½•å½±å“æ€§èƒ½"><!---->ã€ä¸­ç­‰ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•é€šè¿‡ Acks é…ç½®æé«˜æ•°æ®å¯é æ€§ï¼ŸAcks çš„å€¼å¦‚ä½•å½±å“æ€§èƒ½ï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯ä¸ä¸¢å¤±-ğŸŒŸğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯ Kafka æ¶ˆæ¯ä¸ä¸¢å¤±ï¼ŸğŸŒŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯ä¸é‡å¤-ğŸŒŸğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯ Kafka æ¶ˆæ¯ä¸é‡å¤ï¼ŸğŸŒŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯æœ‰åº-ğŸŒŸğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯ Kafka æ¶ˆæ¯æœ‰åºï¼ŸğŸŒŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘å¦‚ä½•åº”å¯¹-kafka-æ¶ˆæ¯ç§¯å‹-ğŸŒŸğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘å¦‚ä½•åº”å¯¹ Kafka æ¶ˆæ¯ç§¯å‹ï¼ŸğŸŒŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•å®ç°å¹‚ç­‰æ€§-producer-å®ƒå¯¹æ¶ˆæ¯å¤„ç†çš„æ„ä¹‰æ˜¯ä»€ä¹ˆ"><!---->ã€å›°éš¾ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•å®ç°å¹‚ç­‰æ€§ Producerï¼Ÿå®ƒå¯¹æ¶ˆæ¯å¤„ç†çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#kafka-æ¶æ„"><!---->Kafka æ¶æ„<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-å„ç»„ä»¶å¦‚ä½•è¿›è¡Œä¼˜åŒ–"><!---->ã€ä¸­ç­‰ã€‘Kafka å„ç»„ä»¶å¦‚ä½•è¿›è¡Œä¼˜åŒ–ï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-ä¸ºä»€ä¹ˆæ€§èƒ½é«˜-ğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka ä¸ºä»€ä¹ˆæ€§èƒ½é«˜ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°æµé‡æ§åˆ¶-ğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç°æµé‡æ§åˆ¶ï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-åœ¨é«˜ååé‡åœºæ™¯ä¸‹å¦‚ä½•ä¿æŒä½å»¶è¿Ÿ-æœ‰å“ªäº›æ€§èƒ½è°ƒä¼˜çš„ç­–ç•¥"><!---->ã€å›°éš¾ã€‘Kafka åœ¨é«˜ååé‡åœºæ™¯ä¸‹å¦‚ä½•ä¿æŒä½å»¶è¿Ÿï¼Ÿæœ‰å“ªäº›æ€§èƒ½è°ƒä¼˜çš„ç­–ç•¥ï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å¤„ç†æ•°æ®å€¾æ–œé—®é¢˜-ğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka å¦‚ä½•å¤„ç†æ•°æ®å€¾æ–œé—®é¢˜ï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-å¤„ç†è¯·æ±‚çš„å…¨æµç¨‹"><!---->ã€å›°éš¾ã€‘Kafka å¤„ç†è¯·æ±‚çš„å…¨æµç¨‹ï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘zookeeper-åœ¨-kafka-ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆ-ğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘ZooKeeper åœ¨ Kafka ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-ä¸ºä»€ä¹ˆè¦å¼ƒç”¨-zookeeper"><!---->ã€ä¸­ç­‰ã€‘Kafka ä¸ºä»€ä¹ˆè¦å¼ƒç”¨ Zookeeperï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-ä¸­å¦‚ä½•å®ç°æ—¶é—´è½®-ğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka ä¸­å¦‚ä½•å®ç°æ—¶é—´è½®ï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-çš„ç´¢å¼•è®¾è®¡æœ‰ä»€ä¹ˆäº®ç‚¹-ğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka çš„ç´¢å¼•è®¾è®¡æœ‰ä»€ä¹ˆäº®ç‚¹ï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#kafka-äº‹åŠ¡"><!---->Kafka äº‹åŠ¡<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€ä¸­ç­‰ã€‘kafka-æ˜¯å¦æ”¯æŒäº‹åŠ¡-å¦‚ä½•æ”¯æŒäº‹åŠ¡-ğŸŒŸ"><!---->ã€ä¸­ç­‰ã€‘Kafka æ˜¯å¦æ”¯æŒäº‹åŠ¡ï¼Ÿå¦‚ä½•æ”¯æŒäº‹åŠ¡ï¼ŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°-exactly-once-è¯­ä¹‰-ğŸŒŸğŸŒŸ"><!---->ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç° Exactly Once è¯­ä¹‰ï¼ŸğŸŒŸğŸŒŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#kafka-stream"><!---->Kafka Stream<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-ä¸-flink-çš„é›†æˆæ˜¯å¦‚ä½•å®ç°çš„-å¦‚ä½•ä¼˜åŒ–-flink-ä¸-kafka-ä¹‹é—´çš„æ•°æ®æµåŠ¨"><!---->ã€å›°éš¾ã€‘Kafka ä¸ Flink çš„é›†æˆæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿå¦‚ä½•ä¼˜åŒ– Flink ä¸ Kafka ä¹‹é—´çš„æ•°æ®æµåŠ¨ï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#ã€å›°éš¾ã€‘kafka-çš„-stream-å’Œ-table-æ˜¯å¦‚ä½•ç›¸äº’è½¬æ¢çš„-å®ƒä»¬åœ¨-kafka-streams-ä¸­çš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆ"><!---->ã€å›°éš¾ã€‘Kafka çš„ Stream å’Œ Table æ˜¯å¦‚ä½•ç›¸äº’è½¬æ¢çš„ï¼Ÿå®ƒä»¬åœ¨ Kafka Streams ä¸­çš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/waterdrop/pages/d8357cc5/#å‚è€ƒèµ„æ–™"><!---->å‚è€ƒèµ„æ–™<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul><!--]--></li></ul></section></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/waterdrop/pages/fcbb3c4e/"><!---->MQ é¢è¯•<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/waterdrop/pages/5eea3123/"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:rabbitmq-icon" width="1em" height="1em"></iconify-icon>RabbitMQ é¢è¯•<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="simple-icons:apacherocketmq" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">RocketMQ</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><a class="vp-link nav-link vp-sidebar-title" href="/waterdrop/pages/ef414e7f/"><!---->åˆ†å¸ƒå¼å­˜å‚¨<!----></a><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:app-window-pie-chart" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">å¤§æ•°æ®</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-emojis:briefcase" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">å·¥ä½œ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="streamline-ultimate-color:award-ribbon-star-1" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">é¢è¯•</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><img class="page-cover" src="https://raw.githubusercontent.com/dunwu/images/master/cs/java/javaweb/distributed/mq/kafka/kafka-event-system.png" alt="Kafka é¢è¯•" no-view><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka é¢è¯•</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://2992253553.github.io/waterdrop" target="_blank" rel="noopener noreferrer">é’æ‚Ÿ</a></span><span property="author" content="é’æ‚Ÿ"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2025-02-03T11:15:43.000Z"></span><span class="page-pageview-info" aria-label="è®¿é—®é‡ğŸ”¢" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span id="ArtalkPV" class="waline-pageview-count" data-path="/pages/d8357cc5/">...</span></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 65 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT65M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category4 clickable" role="navigation">åˆ†å¸ƒå¼</span><span class="page-category-item category1 clickable" role="navigation">åˆ†å¸ƒå¼é€šä¿¡</span><span class="page-category-item category7 clickable" role="navigation">MQ</span><span class="page-category-item category2 clickable" role="navigation">Kafka</span><!--]--><meta property="articleSection" content="åˆ†å¸ƒå¼,åˆ†å¸ƒå¼é€šä¿¡,MQ,Kafka"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag4 clickable" role="navigation">åˆ†å¸ƒå¼</span><span class="page-tag-item tag1 clickable" role="navigation">åˆ†å¸ƒå¼é€šä¿¡</span><span class="page-tag-item tag7 clickable" role="navigation">MQ</span><span class="page-tag-item tag2 clickable" role="navigation">Kafka</span><span class="page-tag-item tag2 clickable" role="navigation">é¢è¯•</span><!--]--><meta property="keywords" content="åˆ†å¸ƒå¼,åˆ†å¸ƒå¼é€šä¿¡,MQ,Kafka,é¢è¯•"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/waterdrop/#kafka-ç®€ä»‹">Kafka ç®€ä»‹</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€ç®€å•ã€‘kafka-æ˜¯ä»€ä¹ˆ-ğŸŒŸ">ã€ç®€å•ã€‘Kafka æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€ç®€å•ã€‘kafka-æœ‰å“ªäº›æ ¸å¿ƒç»„ä»¶-ğŸŒŸ">ã€ç®€å•ã€‘Kafka æœ‰å“ªäº›æ ¸å¿ƒç»„ä»¶ï¼ŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€ç®€å•ã€‘kafka-æœ‰å“ªäº›åº”ç”¨åœºæ™¯-ğŸŒŸ">ã€ç®€å•ã€‘Kafka æœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼ŸğŸŒŸ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/waterdrop/#kafka-å­˜å‚¨">Kafka å­˜å‚¨</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å­˜å‚¨æ•°æ®-ğŸŒŸğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å­˜å‚¨æ•°æ®ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•æŒä¹…åŒ–-ğŸŒŸğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•æŒä¹…åŒ–ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•æ¸…ç†æ•°æ®-ğŸŒŸ">ã€å›°éš¾ã€‘Kafka å¦‚ä½•æ¸…ç†æ•°æ®ï¼ŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•æ£€ç´¢æ•°æ®-ğŸŒŸ">ã€å›°éš¾ã€‘Kafka å¦‚ä½•æ£€ç´¢æ•°æ®ï¼ŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°æ—¥å¿—å‹ç¼©">ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å®ç°æ—¥å¿—å‹ç¼©ï¼Ÿ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/waterdrop/#kafka-ç”Ÿäº§æ¶ˆè´¹">Kafka ç”Ÿäº§æ¶ˆè´¹</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€ä¸­ç­‰ã€‘kafka-å‘é€æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„-ğŸŒŸğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka å‘é€æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€ç®€å•ã€‘kafka-ä¸ºä»€ä¹ˆè¦æ”¯æŒæ¶ˆè´¹è€…ç¾¤ç»„-ğŸŒŸğŸŒŸğŸŒŸ">ã€ç®€å•ã€‘Kafka ä¸ºä»€ä¹ˆè¦æ”¯æŒæ¶ˆè´¹è€…ç¾¤ç»„ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€ä¸­ç­‰ã€‘kafka-æ¶ˆè´¹æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„-ğŸŒŸğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka æ¶ˆè´¹æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/waterdrop/#kafka-é›†ç¾¤">Kafka é›†ç¾¤</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°åˆ†åŒºæœºåˆ¶-ğŸŒŸğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å®ç°åˆ†åŒºæœºåˆ¶ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€ä¸­ç­‰ã€‘kafka-æ”¯æŒå“ªäº›åˆ†åŒºç­–ç•¥-ğŸŒŸğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka æ”¯æŒå“ªäº›åˆ†åŒºç­–ç•¥ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°åˆ†åŒºå†å‡è¡¡-ğŸŒŸğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç°åˆ†åŒºå†å‡è¡¡ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘åˆ†åŒºå†å‡è¡¡å­˜åœ¨ä»€ä¹ˆé—®é¢˜-å¦‚ä½•é¿å…åˆ†åŒºå†å‡è¡¡-ğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘åˆ†åŒºå†å‡è¡¡å­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•é¿å…åˆ†åŒºå†å‡è¡¡ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•ä¼˜åŒ–åˆ†åŒºçš„è¯»å†™æ€§èƒ½-æœ‰å“ªäº›å¸¸è§çš„è°ƒä¼˜ç­–ç•¥">ã€å›°éš¾ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•ä¼˜åŒ–åˆ†åŒºçš„è¯»å†™æ€§èƒ½ï¼Ÿæœ‰å“ªäº›å¸¸è§çš„è°ƒä¼˜ç­–ç•¥ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°å‰¯æœ¬æœºåˆ¶-ğŸŒŸğŸŒŸğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å®ç°å‰¯æœ¬æœºåˆ¶ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•å®ç°å¤šé›†ç¾¤çš„æ•°æ®åŒæ­¥-è·¨é›†ç¾¤å¤åˆ¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆ-ğŸŒŸ">ã€å›°éš¾ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•å®ç°å¤šé›†ç¾¤çš„æ•°æ®åŒæ­¥ï¼Ÿè·¨é›†ç¾¤å¤åˆ¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘kafka-çš„-controller-failover-æ˜¯å¦‚ä½•è®¾è®¡çš„-åœ¨-controller-å®•æœºæ—¶å¦‚ä½•è¿›è¡Œæ•…éšœæ¢å¤-ğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘Kafka çš„ Controller Failover æ˜¯å¦‚ä½•è®¾è®¡çš„ï¼Ÿåœ¨ Controller å®•æœºæ—¶å¦‚ä½•è¿›è¡Œæ•…éšœæ¢å¤ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘kafka-ä¸­çš„-controller-å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆ-ğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘Kafka ä¸­çš„ Controller å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°é«˜å¯ç”¨-ğŸŒŸğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç°é«˜å¯ç”¨ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/waterdrop/#kafka-å¯é ä¼ è¾“">Kafka å¯é ä¼ è¾“</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€ä¸­ç­‰ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•é€šè¿‡-acks-é…ç½®æé«˜æ•°æ®å¯é æ€§-acks-çš„å€¼å¦‚ä½•å½±å“æ€§èƒ½">ã€ä¸­ç­‰ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•é€šè¿‡ Acks é…ç½®æé«˜æ•°æ®å¯é æ€§ï¼ŸAcks çš„å€¼å¦‚ä½•å½±å“æ€§èƒ½ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯ä¸ä¸¢å¤±-ğŸŒŸğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯ Kafka æ¶ˆæ¯ä¸ä¸¢å¤±ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯ä¸é‡å¤-ğŸŒŸğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯ Kafka æ¶ˆæ¯ä¸é‡å¤ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯æœ‰åº-ğŸŒŸğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯ Kafka æ¶ˆæ¯æœ‰åºï¼ŸğŸŒŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘å¦‚ä½•åº”å¯¹-kafka-æ¶ˆæ¯ç§¯å‹-ğŸŒŸğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘å¦‚ä½•åº”å¯¹ Kafka æ¶ˆæ¯ç§¯å‹ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•å®ç°å¹‚ç­‰æ€§-producer-å®ƒå¯¹æ¶ˆæ¯å¤„ç†çš„æ„ä¹‰æ˜¯ä»€ä¹ˆ">ã€å›°éš¾ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•å®ç°å¹‚ç­‰æ€§ Producerï¼Ÿå®ƒå¯¹æ¶ˆæ¯å¤„ç†çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/waterdrop/#kafka-æ¶æ„">Kafka æ¶æ„</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€ä¸­ç­‰ã€‘kafka-å„ç»„ä»¶å¦‚ä½•è¿›è¡Œä¼˜åŒ–">ã€ä¸­ç­‰ã€‘Kafka å„ç»„ä»¶å¦‚ä½•è¿›è¡Œä¼˜åŒ–ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘kafka-ä¸ºä»€ä¹ˆæ€§èƒ½é«˜-ğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘Kafka ä¸ºä»€ä¹ˆæ€§èƒ½é«˜ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°æµé‡æ§åˆ¶-ğŸŒŸ">ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç°æµé‡æ§åˆ¶ï¼ŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘kafka-åœ¨é«˜ååé‡åœºæ™¯ä¸‹å¦‚ä½•ä¿æŒä½å»¶è¿Ÿ-æœ‰å“ªäº›æ€§èƒ½è°ƒä¼˜çš„ç­–ç•¥">ã€å›°éš¾ã€‘Kafka åœ¨é«˜ååé‡åœºæ™¯ä¸‹å¦‚ä½•ä¿æŒä½å»¶è¿Ÿï¼Ÿæœ‰å“ªäº›æ€§èƒ½è°ƒä¼˜çš„ç­–ç•¥ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å¤„ç†æ•°æ®å€¾æ–œé—®é¢˜-ğŸŒŸ">ã€å›°éš¾ã€‘Kafka å¦‚ä½•å¤„ç†æ•°æ®å€¾æ–œé—®é¢˜ï¼ŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘kafka-å¤„ç†è¯·æ±‚çš„å…¨æµç¨‹">ã€å›°éš¾ã€‘Kafka å¤„ç†è¯·æ±‚çš„å…¨æµç¨‹ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘zookeeper-åœ¨-kafka-ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆ-ğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘ZooKeeper åœ¨ Kafka ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€ä¸­ç­‰ã€‘kafka-ä¸ºä»€ä¹ˆè¦å¼ƒç”¨-zookeeper">ã€ä¸­ç­‰ã€‘Kafka ä¸ºä»€ä¹ˆè¦å¼ƒç”¨ Zookeeperï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€ä¸­ç­‰ã€‘kafka-ä¸­å¦‚ä½•å®ç°æ—¶é—´è½®-ğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka ä¸­å¦‚ä½•å®ç°æ—¶é—´è½®ï¼ŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€ä¸­ç­‰ã€‘kafka-çš„ç´¢å¼•è®¾è®¡æœ‰ä»€ä¹ˆäº®ç‚¹-ğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka çš„ç´¢å¼•è®¾è®¡æœ‰ä»€ä¹ˆäº®ç‚¹ï¼ŸğŸŒŸ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/waterdrop/#kafka-äº‹åŠ¡">Kafka äº‹åŠ¡</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€ä¸­ç­‰ã€‘kafka-æ˜¯å¦æ”¯æŒäº‹åŠ¡-å¦‚ä½•æ”¯æŒäº‹åŠ¡-ğŸŒŸ">ã€ä¸­ç­‰ã€‘Kafka æ˜¯å¦æ”¯æŒäº‹åŠ¡ï¼Ÿå¦‚ä½•æ”¯æŒäº‹åŠ¡ï¼ŸğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°-exactly-once-è¯­ä¹‰-ğŸŒŸğŸŒŸ">ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç° Exactly Once è¯­ä¹‰ï¼ŸğŸŒŸğŸŒŸ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/waterdrop/#kafka-stream">Kafka Stream</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘kafka-ä¸-flink-çš„é›†æˆæ˜¯å¦‚ä½•å®ç°çš„-å¦‚ä½•ä¼˜åŒ–-flink-ä¸-kafka-ä¹‹é—´çš„æ•°æ®æµåŠ¨">ã€å›°éš¾ã€‘Kafka ä¸ Flink çš„é›†æˆæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿå¦‚ä½•ä¼˜åŒ– Flink ä¸ Kafka ä¹‹é—´çš„æ•°æ®æµåŠ¨ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/waterdrop/#ã€å›°éš¾ã€‘kafka-çš„-stream-å’Œ-table-æ˜¯å¦‚ä½•ç›¸äº’è½¬æ¢çš„-å®ƒä»¬åœ¨-kafka-streams-ä¸­çš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆ">ã€å›°éš¾ã€‘Kafka çš„ Stream å’Œ Table æ˜¯å¦‚ä½•ç›¸äº’è½¬æ¢çš„ï¼Ÿå®ƒä»¬åœ¨ Kafka Streams ä¸­çš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/waterdrop/#å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="kafka-é¢è¯•" tabindex="-1"><a class="header-anchor" href="#kafka-é¢è¯•" aria-hidden="true">#</a> Kafka é¢è¯•</h1><h2 id="kafka-ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#kafka-ç®€ä»‹" aria-hidden="true">#</a> Kafka ç®€ä»‹</h2><h3 id="ã€ç®€å•ã€‘kafka-æ˜¯ä»€ä¹ˆ-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ç®€å•ã€‘kafka-æ˜¯ä»€ä¹ˆ-ğŸŒŸ" aria-hidden="true">#</a> ã€ç®€å•ã€‘Kafka æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ</h3><p><strong>Kafka æ˜¯ä¸€ä¸ªå¼€æºåˆ†å¸ƒå¼äº‹ä»¶æµå¹³å°</strong>ã€‚æœ€åˆç”± LinkedIn å¼€å‘ï¼Œç°åœ¨æ˜¯ Apache é¡¶çº§é¡¹ç›®ã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070719480.gif" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>Kafka çš„æ ¸å¿ƒæ¦‚å¿µ</strong></p><ul><li><strong>æ¶ˆæ¯ï¼ˆMessageï¼‰</strong>ï¼šKafka çš„åŸºæœ¬æ•°æ®å•å…ƒã€‚</li><li><strong>ä¸»é¢˜ï¼ˆTopicï¼‰</strong>ï¼šæ¶ˆæ¯çš„é€»è¾‘åˆ†ç±»å®¹å™¨ï¼ŒæŒ‰ä¸šåŠ¡åˆ’åˆ†ã€‚</li><li><strong>åˆ†åŒºï¼ˆPartitionï¼‰</strong>ï¼šä¸»é¢˜çš„ç‰©ç†åˆ†ç‰‡ï¼Œæ¯ä¸ªåˆ†åŒºæ˜¯<strong>æœ‰åºä¸å¯å˜</strong>çš„æ¶ˆæ¯åºåˆ—ã€‚<strong>è¿™æ˜¯å®ç°é«˜å¹¶å‘å’Œæ‰©å±•æ€§çš„æ ¸å¿ƒ</strong>ã€‚</li><li><strong>æ¶ˆæ¯åç§»é‡ï¼ˆOffsetï¼‰</strong>ï¼šæ¶ˆæ¯åœ¨åˆ†åŒºä¸­çš„å”¯ä¸€ã€é€’å¢çš„ IDã€‚</li><li><strong>å‰¯æœ¬ï¼ˆReplicaï¼‰</strong>ï¼šåˆ†åŒºçš„å¤‡ä»½ï¼Œæä¾›æ•…éšœè½¬ç§»ã€‚ <ul><li><strong>é¢†å¯¼è€…å‰¯æœ¬</strong>ï¼šå¤„ç†æ‰€æœ‰è¯»å†™è¯·æ±‚ã€‚</li><li><strong>è¿½éšè€…å‰¯æœ¬</strong>ï¼šå¼‚æ­¥å¤åˆ¶é¢†å¯¼è€…æ•°æ®ï¼Œä½œä¸ºå¤‡ä»½ã€‚</li></ul></li><li><strong>ç”Ÿäº§è€…ï¼ˆProducerï¼‰</strong>ï¼šå‘ä¸»é¢˜çš„ç‰¹å®šåˆ†åŒºå‘å¸ƒæ¶ˆæ¯ã€‚</li><li><strong>æ¶ˆè´¹è€…ï¼ˆConsumerï¼‰</strong>ï¼šä»åˆ†åŒºè®¢é˜…å¹¶æ¶ˆè´¹æ¶ˆæ¯ã€‚</li><li><strong>æ¶ˆè´¹è€…ç»„ï¼ˆConsumer Groupï¼‰</strong>ï¼šç”±å¤šä¸ªæ¶ˆè´¹è€…ç»„æˆï¼Œ<strong>ä¸€ä¸ªåˆ†åŒºåªèƒ½è¢«ç»„å†…ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹</strong>ï¼Œä»è€Œå®ç°æ¨ªå‘æ‰©å±•å’Œè´Ÿè½½å‡è¡¡ã€‚</li><li><strong>æ¶ˆè´¹è€…åç§»é‡ï¼ˆConsumer Offsetï¼‰</strong>ï¼šæ¶ˆè´¹è€…ç»„å¯¹æ¯ä¸ªåˆ†åŒºçš„æ¶ˆè´¹è¿›åº¦è®°å½•ã€‚</li><li><strong>åˆ†åŒºå†å‡è¡¡ï¼ˆRebalanceï¼‰</strong>ï¼šå½“æ¶ˆè´¹è€…ç»„å†…æˆå‘˜å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨é‡æ–°åˆ†é…åˆ†åŒºæ‰€æœ‰æƒçš„æµç¨‹ï¼Œ<strong>æ˜¯ä¿è¯æ¶ˆè´¹ç«¯é«˜å¯ç”¨çš„æ ¸å¿ƒæœºåˆ¶</strong>ã€‚</li></ul><h3 id="ã€ç®€å•ã€‘kafka-æœ‰å“ªäº›æ ¸å¿ƒç»„ä»¶-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ç®€å•ã€‘kafka-æœ‰å“ªäº›æ ¸å¿ƒç»„ä»¶-ğŸŒŸ" aria-hidden="true">#</a> ã€ç®€å•ã€‘Kafka æœ‰å“ªäº›æ ¸å¿ƒç»„ä»¶ï¼ŸğŸŒŸ</h3><p>Kafka æœ‰ä»¥ä¸‹æ ¸å¿ƒç»„ä»¶ï¼š</p><table><thead><tr><th>ç»„ä»¶</th><th>æ ¸å¿ƒåŠŸèƒ½</th></tr></thead><tbody><tr><td><strong>Producer</strong></td><td>å‘å¸ƒæ•°æ®åˆ° Topicï¼Œæ”¯æŒè½®è¯¢/é”®å€¼/è‡ªå®šä¹‰åˆ†åŒºç­–ç•¥ï¼Œé‡‡ç”¨æ‰¹é‡å‹ç¼©æå‡åå</td></tr><tr><td><strong>Consumer</strong></td><td>é€šè¿‡æ¶ˆè´¹ç»„å®ç°è´Ÿè½½å‡è¡¡ï¼Œå•åˆ†åŒºä»…é™ç»„å†…ä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œé€šè¿‡ offset ç¡®ä¿é¡ºåº</td></tr><tr><td><strong>Broker</strong></td><td>é›†ç¾¤èŠ‚ç‚¹ï¼Œç®¡ç†åˆ†åŒºå‰¯æœ¬ï¼Œæ•…éšœæ—¶è‡ªåŠ¨åˆ‡æ¢ Leaderï¼Œä¿éšœé«˜å¯ç”¨</td></tr><tr><td><strong>Zookeeper</strong></td><td>åè°ƒé›†ç¾¤å…ƒæ•°æ®ä¸ Leader é€‰ä¸¾ï¼ˆæ³¨ï¼šæ–°ç‰ˆæœ¬é€æ­¥ç”¨ KRaft åè®®æ›¿ä»£ Zookeeperï¼‰</td></tr></tbody></table><h3 id="ã€ç®€å•ã€‘kafka-æœ‰å“ªäº›åº”ç”¨åœºæ™¯-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ç®€å•ã€‘kafka-æœ‰å“ªäº›åº”ç”¨åœºæ™¯-ğŸŒŸ" aria-hidden="true">#</a> ã€ç®€å•ã€‘Kafka æœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼ŸğŸŒŸ</h3><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202505111027731.webp" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li><strong>æ¶ˆæ¯é˜Ÿåˆ—</strong>ï¼šç”¨ä½œé«˜ååé‡çš„æ¶ˆæ¯ç³»ç»Ÿï¼Œå°†æ¶ˆæ¯ä»ä¸€ä¸ªç³»ç»Ÿä¼ é€’åˆ°å¦ä¸€ä¸ªç³»ç»Ÿ</li><li><strong>æ—¥å¿—é‡‡é›†åˆ†æ</strong>ï¼šé›†ä¸­æ”¶é›†æ—¥å¿—æ•°æ®ï¼Œç„¶åé€šè¿‡ Kafka ä¼ é€’åˆ°å®æ—¶ç›‘æ§ç³»ç»Ÿæˆ–å­˜å‚¨ç³»ç»Ÿ</li><li><strong>æµè®¡ç®—</strong>ï¼šå¤„ç†å®æ—¶æ•°æ®æµï¼Œå°†æ•°æ®ä¼ é€’ç»™å®æ—¶è®¡ç®—ç³»ç»Ÿï¼Œå¦‚ Apache Storm æˆ– Apache Flinkï¼Œè¿™äº›å®æ—¶è®¡ç®—å¯ç”¨äºæ¨èã€ç³»ç»Ÿç›‘æ§</li><li><strong>æŒ‡æ ‡æ”¶é›†å’Œç›‘æ§</strong>ï¼šæ”¶é›†æ¥è‡ªä¸åŒæœåŠ¡çš„ç›‘æ§æŒ‡æ ‡ï¼Œç»Ÿä¸€å­˜å‚¨å’Œå¤„ç†</li><li><strong>äº‹ä»¶æº¯æº</strong>ï¼šè®°å½•äº‹ä»¶å‘ç”Ÿçš„å†å²ï¼Œä»¥ä¾¿ç¨åè¿›è¡Œæ•°æ®å›æº¯æˆ–é‡æ–°å¤„ç†</li></ul><h2 id="kafka-å­˜å‚¨" tabindex="-1"><a class="header-anchor" href="#kafka-å­˜å‚¨" aria-hidden="true">#</a> Kafka å­˜å‚¨</h2><h3 id="ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å­˜å‚¨æ•°æ®-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å­˜å‚¨æ•°æ®-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å­˜å‚¨æ•°æ®ï¼ŸğŸŒŸğŸŒŸ</h3><div class="hint-container tip"><p class="hint-container-title">å…³é”®ç‚¹</p><p><strong>é€»è¾‘å­˜å‚¨</strong>ï¼šTopic -&gt; Partition -&gt; Record</p><p><strong>ç‰©ç†å­˜å‚¨</strong>ï¼šLogï¼ˆå¯¹åº” Partitionï¼‰ -&gt; LogSegment</p><ul><li>Segment æ–‡ä»¶åˆ†ç±» <ul><li>ç´¢å¼•æ–‡ä»¶ <ul><li>åç§»é‡ç´¢å¼•æ–‡ä»¶ï¼ˆ <code>&lt;offset&gt;.index</code> ï¼‰</li><li>æ—¶é—´æˆ³ç´¢å¼•æ–‡ä»¶ï¼ˆ <code>&lt;offset&gt;.timeindex</code> ï¼‰</li><li>å·²ç»ˆæ­¢äº‹åŠ¡çš„ç´¢å¼•æ–‡ä»¶ï¼ˆ<code>&lt;offset&gt;.txnindex</code>ï¼‰</li></ul></li><li>æ—¥å¿—æ•°æ®æ–‡ä»¶ï¼ˆ<code>&lt;offset&gt;.log</code>ï¼‰</li></ul></li><li>é»˜è®¤ï¼Œæ¯ä¸ª Segment å¤§å°ä¸è¶…è¿‡ 1Gï¼Œä¸”åªåŒ…å« 7 å¤©çš„æ•°æ®</li></ul></div><div class="hint-container info"><p class="hint-container-title">Kafka é€»è¾‘å­˜å‚¨</p></div><p>Kafka çš„æ•°æ®ç»“æ„é‡‡ç”¨ä¸‰çº§ç»“æ„ï¼Œå³ï¼šä¸»é¢˜ï¼ˆTopicï¼‰ã€åˆ†åŒºï¼ˆPartitionï¼‰ã€æ¶ˆæ¯ï¼ˆRecordï¼‰ã€‚</p><p>Kafka çš„ä¸‰å±‚æ¶ˆæ¯æ¶æ„ï¼š</p><ul><li>ç¬¬ä¸€å±‚æ˜¯ä¸»é¢˜å±‚ï¼Œæ¯ä¸ªä¸»é¢˜å¯ä»¥é…ç½® M ä¸ªåˆ†åŒºï¼Œè€Œæ¯ä¸ªåˆ†åŒºåˆå¯ä»¥é…ç½® N ä¸ªå‰¯æœ¬ã€‚</li><li>ç¬¬äºŒå±‚æ˜¯åˆ†åŒºå±‚ï¼Œæ¯ä¸ªåˆ†åŒºçš„ N ä¸ªå‰¯æœ¬ä¸­åªèƒ½æœ‰ä¸€ä¸ªå……å½“é¢†å¯¼è€…è§’è‰²ï¼Œå¯¹å¤–æä¾›æœåŠ¡ï¼›å…¶ä»– N-1 ä¸ªå‰¯æœ¬æ˜¯è¿½éšè€…å‰¯æœ¬ï¼Œåªæ˜¯æä¾›æ•°æ®å†—ä½™ä¹‹ç”¨ã€‚</li><li>ç¬¬ä¸‰å±‚æ˜¯æ¶ˆæ¯å±‚ï¼Œåˆ†åŒºä¸­åŒ…å«è‹¥å¹²æ¡æ¶ˆæ¯ï¼Œæ¯æ¡æ¶ˆæ¯çš„ä½ç§»ä» 0 å¼€å§‹ï¼Œä¾æ¬¡é€’å¢ã€‚</li><li>æœ€åï¼Œå®¢æˆ·ç«¯ç¨‹åºåªèƒ½ä¸åˆ†åŒºçš„é¢†å¯¼è€…å‰¯æœ¬è¿›è¡Œäº¤äº’ã€‚</li></ul><p>åœ¨ Kafka ä¸­ï¼Œä»»æ„ä¸€ä¸ª Topic ç»´æŠ¤äº†ä¸€ç»„ Partition æ—¥å¿—ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070720162.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>è¯·æ³¨æ„ï¼šè¿™é‡Œçš„ä¸»é¢˜åªæ˜¯ä¸€ä¸ªé€»è¾‘ä¸Šçš„æŠ½è±¡æ¦‚å¿µï¼Œå®é™…ä¸Šï¼Œ<strong>Kafka çš„åŸºæœ¬å­˜å‚¨å•å…ƒæ˜¯ Partition</strong>ã€‚Partition æ— æ³•åœ¨å¤šä¸ª Broker é—´è¿›è¡Œå†ç»†åˆ†ï¼Œä¹Ÿæ— æ³•åœ¨åŒä¸€ä¸ª Broker çš„å¤šä¸ªç£ç›˜ä¸Šè¿›è¡Œå†ç»†åˆ†ã€‚æ‰€ä»¥ï¼Œåˆ†åŒºçš„å¤§å°å—åˆ°å•ä¸ªæŒ‚è½½ç‚¹å¯ç”¨ç©ºé—´çš„é™åˆ¶ã€‚</p><p>Partiton å‘½åè§„åˆ™ä¸º Topic åç§° + æœ‰åºåºå·ï¼Œç¬¬ä¸€ä¸ª Partiton åºå·ä» 0 å¼€å§‹ï¼Œåºå·æœ€å¤§å€¼ä¸º Partition æ•°é‡å‡ 1ã€‚</p><div class="hint-container info"><p class="hint-container-title">Kafka ç‰©ç†å­˜å‚¨</p></div><p><code>Log</code> æ˜¯ Kafka ç”¨äºè¡¨ç¤ºæ—¥å¿—æ–‡ä»¶çš„ç»„ä»¶ã€‚<strong>æ¯ä¸ª Partiton å¯¹åº”ä¸€ä¸ª <code>Log</code> å¯¹è±¡</strong>ï¼Œåœ¨ç‰©ç†ç£ç›˜ä¸Šåˆ™å¯¹åº”ä¸€ä¸ªç›®å½•ã€‚å¦‚ï¼šåˆ›å»ºä¸€ä¸ªåŒåˆ†åŒºçš„ä¸»é¢˜ <code>test</code>ï¼Œé‚£ä¹ˆï¼ŒKafka ä¼šåœ¨ç£ç›˜ä¸Šåˆ›å»ºä¸¤ä¸ªå­ç›®å½•ï¼š<code>test-0</code> å’Œ <code>test-1</code>ï¼›è€Œåœ¨æœåŠ¡å™¨ç«¯ï¼Œè¿™å°±å¯¹åº”ä¸¤ä¸ª <code>Log</code> å¯¹è±¡ã€‚</p><p>å› ä¸ºåœ¨ä¸€ä¸ªå¤§æ–‡ä»¶ä¸­æŸ¥æ‰¾å’Œåˆ é™¤æ¶ˆæ¯æ˜¯éå¸¸è€—æ—¶ä¸”å®¹æ˜“å‡ºé”™çš„ã€‚æ‰€ä»¥ï¼ŒKafka å°†æ¯ä¸ª Partition åˆ‡å‰²æˆè‹¥å¹²ä¸ªç‰‡æ®µï¼Œå³æ—¥å¿—æ®µï¼ˆLog Segmentï¼‰ã€‚<strong>é»˜è®¤ï¼Œæ¯ä¸ª Segment å¤§å°ä¸è¶…è¿‡ 1Gï¼Œä¸”åªåŒ…å« 7 å¤©çš„æ•°æ®</strong>ã€‚å¦‚æœ Segment çš„æ¶ˆæ¯é‡è¾¾åˆ° 1Gï¼Œé‚£ä¹ˆè¯¥ Segment ä¼šå…³é—­ï¼ŒåŒæ—¶æ‰“å¼€ä¸€ä¸ªæ–°çš„ Segment è¿›è¡Œå†™å…¥ã€‚</p><p>Broker ä¼šä¸º Partition é‡Œçš„æ¯ä¸ª Segment æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å¥æŸ„ï¼ˆåŒ…æ‹¬ä¸æ´»è·ƒçš„ Segmentï¼‰ï¼Œå› æ­¤æ‰“å¼€çš„æ–‡ä»¶å¥æŸ„æ•°é€šå¸¸ä¼šæ¯”è¾ƒå¤šï¼Œè¿™ä¸ªéœ€è¦é€‚åº¦è°ƒæ•´ç³»ç»Ÿçš„è¿›ç¨‹æ–‡ä»¶å¥æŸ„å‚æ•°ã€‚<strong>æ­£åœ¨å†™å…¥çš„åˆ†ç‰‡ç§°ä¸ºæ´»è·ƒç‰‡æ®µï¼ˆactive segmentï¼‰ï¼Œæ´»è·ƒç‰‡æ®µæ°¸è¿œä¸ä¼šè¢«åˆ é™¤</strong>ã€‚</p><p>Segment æ–‡ä»¶å‘½åè§„åˆ™ï¼šPartition å…¨å±€çš„ç¬¬ä¸€ä¸ª segment ä» 0 å¼€å§‹ï¼Œåç»­æ¯ä¸ª segment æ–‡ä»¶åä¸ºä¸Šä¸€ä¸ª segment æ–‡ä»¶æœ€åä¸€æ¡æ¶ˆæ¯çš„ offset å€¼ã€‚æ•°å€¼æœ€å¤§ä¸º 64 ä½ long å¤§å°ï¼Œ19 ä½æ•°å­—å­—ç¬¦é•¿åº¦ï¼Œæ²¡æœ‰æ•°å­—ç”¨ 0 å¡«å……ã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070721654.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Segment æ–‡ä»¶å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li><strong>ç´¢å¼•æ–‡ä»¶</strong><ul><li><strong>åç§»é‡ç´¢å¼•æ–‡ä»¶ï¼ˆ <code>&lt;offset&gt;.index</code> ï¼‰</strong></li><li><strong>æ—¶é—´æˆ³ç´¢å¼•æ–‡ä»¶ï¼ˆ <code>&lt;offset&gt;.timeindex</code> ï¼‰</strong></li><li><strong>å·²ç»ˆæ­¢äº‹åŠ¡çš„ç´¢å¼•æ–‡ä»¶ï¼ˆ<code>&lt;offset&gt;.txnindex</code>ï¼‰</strong>ï¼šå¦‚æœæ²¡æœ‰ä½¿ç”¨ Kafka äº‹åŠ¡ï¼Œåˆ™ä¸ä¼šåˆ›å»ºè¯¥æ–‡ä»¶</li></ul></li><li><strong>æ—¥å¿—æ•°æ®æ–‡ä»¶ï¼ˆ<code>&lt;offset&gt;.log</code>ï¼‰</strong></li></ul><h3 id="ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•æŒä¹…åŒ–-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•æŒä¹…åŒ–-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•æŒä¹…åŒ–ï¼ŸğŸŒŸğŸŒŸ</h3><div class="hint-container tip"><p class="hint-container-title">å…³é”®ç‚¹</p><p>Kafka æŒä¹…åŒ–å…³é”®æœºåˆ¶ï¼š<strong>é¡ºåº I/O + é›¶æ‹·è´ + PageCache</strong></p></div><p>Kafka æŒä¹…åŒ–æœ‰ä»¥ä¸‹æ ¸å¿ƒæœºåˆ¶ï¼š</p><ul><li><strong>é¡ºåº I/O</strong>ï¼š<strong>Kafka æ•°æ®ä»¥æ—¥å¿—å½¢å¼å­˜å‚¨äºç£ç›˜</strong>ã€‚é‡‡ç”¨<strong>è¿½åŠ å†™å…¥ï¼Œä¸å¯ä¿®æ”¹</strong>ï¼Œä»¥æ­¤é¿å…åœ¨ç£ç›˜ä¸Šéšæœºå†™å…¥æ€§èƒ½ä¸é«˜çš„é—®é¢˜ã€‚</li><li><strong>é›¶æ‹·è´</strong>ï¼šæ•°æ®ä»ç£ç›˜ç›´æ¥å‘é€åˆ°ç½‘å¡ï¼Œ<strong>ç»•è¿‡åº”ç”¨ç¨‹åº</strong>ï¼Œæå¤§æå‡ç½‘ç»œä¼ è¾“æ•ˆç‡ï¼Œé™ä½ CPU å¼€é”€ã€‚</li><li><strong>åˆ·ç›˜æœºåˆ¶</strong>ï¼šæ•°æ®å…ˆå†™å…¥<strong>é¡µç¼“å­˜</strong>ï¼Œå†åœ¨åˆé€‚æ—¶æœºå†™å…¥ç£ç›˜ã€‚</li><li><strong>æ—¥å¿—æ¸…ç†</strong>ï¼šåŸºäºæ—¶é—´æˆ–ç©ºé—´çš„<strong>ä¿ç•™ç­–ç•¥</strong>è‡ªåŠ¨æ¸…ç†æ—§æ•°æ®ï¼Œé˜²æ­¢ç£ç›˜è€—å°½ã€‚</li><li><strong>å¤šç´¢å¼•</strong>ï¼šä¸ºæ—¥å¿—æ®µå»ºç«‹â€œä½ç§»-&gt;ç‰©ç†ä½ç½®â€çš„<strong>éƒ¨åˆ†ç´¢å¼•</strong>ï¼Œå®ç° <strong>å¿«é€Ÿå®šä½ + é¡ºåºæ‰«æ</strong> çš„é«˜æ•ˆè¯»å–ã€‚</li><li><strong>åˆ†æ®µå­˜å‚¨</strong>ï¼šæ—¥å¿—è¢«åˆ‡åˆ†ä¸ºå¤šä¸ª<strong>æ—¥å¿—æ®µæ–‡ä»¶</strong>ï¼Œä¾¿äºç®¡ç†å’Œæ¸…ç†ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-å¦‚ä½•æ¸…ç†æ•°æ®-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-å¦‚ä½•æ¸…ç†æ•°æ®-ğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka å¦‚ä½•æ¸…ç†æ•°æ®ï¼ŸğŸŒŸ</h3><p><strong>æ—¥å¿—åˆ†æ®µç»“æ„</strong></p><ul><li><strong>å¹²å‡€æ®µ</strong>ï¼šè¿™éƒ¨åˆ†æ¶ˆæ¯ä¹‹å‰å·²ç»è¢«æ¸…ç†è¿‡ï¼Œæ¯ä¸ªé”®åªå­˜åœ¨ä¸€ä¸ªå€¼ã€‚</li><li><strong>æ±¡æµŠæ®µ</strong>ï¼šåœ¨ä¸Šä¸€æ¬¡æ¸…ç†åå†™å…¥çš„æ–°æ¶ˆæ¯ã€‚</li></ul><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20200621135557.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å¦‚æœ Kafka å¯ç”¨äº†æ¸…ç†åŠŸèƒ½ï¼ˆé€šè¿‡ <code>log.cleaner.enabled</code> é…ç½®ï¼‰ï¼Œæ¯ä¸ª Broker å¯åŠ¨æ¸…ç†ç®¡ç†çº¿ç¨‹ + N ä¸ªæ¸…ç†çº¿ç¨‹ï¼ˆæŒ‰åˆ†åŒºåˆ†é…ï¼‰</p><p>å¯¹äºä¸€ä¸ªæ®µï¼Œæ¸…ç†å‰åçš„æ•ˆæœå¦‚ä¸‹ï¼š</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20200621140117.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Apache Kafka æ¸…ç†æ•°æ®ä¸»è¦é€šè¿‡ <strong>æ—¥å¿—ä¿ç•™ç­–ç•¥ï¼ˆLog Retentionï¼‰</strong> å’Œ <strong>å‹ç¼©ç­–ç•¥ï¼ˆCompactionï¼‰</strong> å®ç°ï¼Œä»¥ä¸‹æ˜¯æ ¸å¿ƒè¦ç‚¹æ¦‚æ‹¬ï¼š</p><p><strong>åŸºäºæ—¶é—´çš„æ¸…ç†</strong></p><ul><li><strong>é…ç½®å‚æ•°</strong>ï¼š<code>log.retention.hours</code>ï¼ˆé»˜è®¤ 168 å°æ—¶/7 å¤©ï¼‰ã€<code>log.retention.minutes</code>ã€<code>log.retention.ms</code>ã€‚</li><li><strong>æœºåˆ¶</strong>ï¼šåˆ é™¤è¶…è¿‡æŒ‡å®šæ—¶é—´çš„æ—§æ—¥å¿—æ®µï¼ˆlog segmentsï¼‰ã€‚</li><li><strong>è§¦å‘æ¡ä»¶</strong>ï¼šç”± broker åå°çº¿ç¨‹å®šæœŸæ‰«æï¼ˆé»˜è®¤ 5 åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡ï¼Œé€šè¿‡<code>log.retention.check.interval.ms</code>è°ƒæ•´ï¼‰ã€‚</li></ul><p><strong>åŸºäºç©ºé—´çš„æ¸…ç†</strong></p><ul><li><strong>é…ç½®å‚æ•°</strong>ï¼š<code>log.retention.bytes</code>ï¼ˆæ•´ä¸ªåˆ†åŒºçš„æœ€å¤§å­—èŠ‚æ•°ï¼‰ã€<code>log.segment.bytes</code>ï¼ˆå•ä¸ªæ—¥å¿—æ®µå¤§å°ï¼Œé»˜è®¤ 1GBï¼‰ã€‚</li><li><strong>æœºåˆ¶</strong>ï¼šå½“åˆ†åŒºæ€»å¤§å°è¶…è¿‡é™åˆ¶æ—¶ï¼Œåˆ é™¤æœ€æ—§çš„æ—¥å¿—æ®µã€‚</li></ul><p><strong>æ—¥å¿—å‹ç¼©</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šä¿ç•™æ¯ä¸ª key çš„æœ€æ–°å€¼ï¼ˆé€‚ç”¨äº key-value æ•°æ®ï¼Œå¦‚æ•°æ®åº“å˜æ›´æ—¥å¿—ï¼‰ã€‚</li><li><strong>é…ç½®å‚æ•°</strong>ï¼š <ul><li><code>cleanup.policy=compact</code>ï¼ˆå¯ç”¨å‹ç¼©ï¼‰ã€‚</li><li><code>min.cleanable.dirty.ratio</code>ï¼ˆæ§åˆ¶å‹ç¼©è§¦å‘æ—¶æœºï¼Œé»˜è®¤ 0.5ï¼‰ã€‚</li></ul></li><li><strong>æœºåˆ¶</strong>ï¼š <ol><li>ä¿ç•™æ¯ä¸ª key çš„æœ€åä¸€æ¡æœ‰æ•ˆè®°å½•ï¼Œåˆ é™¤æ—§ç‰ˆæœ¬ã€‚</li><li>å‘¨æœŸæ€§åˆå¹¶æ—¥å¿—æ®µï¼ˆç”±<code>log.cleaner</code>çº¿ç¨‹æ‰§è¡Œï¼‰ã€‚</li></ol></li></ul><p><strong>æ‰‹åŠ¨æ¸…ç†</strong></p><ul><li><strong>åˆ é™¤ Topic</strong>ï¼š<code>kafka-topics.sh --delete --topic &lt;topic_name&gt;</code>ï¼ˆéœ€é…ç½®<code>delete.topic.enable=true</code>ï¼‰ã€‚</li><li><strong>åˆ é™¤æ•°æ®æ–‡ä»¶</strong>ï¼šç›´æ¥åˆ é™¤æ—¥å¿—ç›®å½•ï¼ˆ<code>log.dirs</code>ï¼‰ä¸­çš„åˆ†åŒºæ–‡ä»¶ï¼ˆéœ€è°¨æ…ï¼Œå¯èƒ½å¯¼è‡´æ•°æ®ä¸ä¸€è‡´ï¼‰ã€‚</li></ul><p><strong>å…³é”®æ³¨æ„äº‹é¡¹</strong></p><ul><li><strong>æ¸…ç†å»¶è¿Ÿ</strong>ï¼šå®é™…æ¸…ç†å¯èƒ½å› æ£€æŸ¥é—´éš”æˆ–èµ„æºç«äº‰å»¶è¿Ÿã€‚</li><li><strong>ç£ç›˜ç©ºé—´ç›‘æ§</strong>ï¼šä¾èµ–æ¸…ç†å¯èƒ½ä¸è¶³ï¼Œéœ€ç›‘æ§ç£ç›˜ä½¿ç”¨ç‡ã€‚</li><li><strong>å‹ç¼©ä¸ä¿ç•™ç­–ç•¥å†²çª</strong>ï¼šè‹¥åŒæ—¶è®¾ç½®<code>cleanup.policy=compact,delete</code>ï¼Œå‹ç¼©ä¼˜å…ˆäºæ—¶é—´/å¤§å°åˆ é™¤ã€‚</li><li><strong>æ¶ˆè´¹è€…åç§»é‡å½±å“</strong>ï¼šåˆ é™¤æ—§æ•°æ®å¯èƒ½å¯¼è‡´æ¶ˆè´¹è€…æ— æ³•å›æº¯ï¼ˆéœ€è°ƒæ•´<code>offsets.retention.minutes</code>ï¼‰ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-å¦‚ä½•æ£€ç´¢æ•°æ®-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-å¦‚ä½•æ£€ç´¢æ•°æ®-ğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka å¦‚ä½•æ£€ç´¢æ•°æ®ï¼ŸğŸŒŸ</h3><ul><li><strong>åŠ¨æ€æ¶ˆè´¹èµ·ç‚¹</strong><ul><li>æ”¯æŒä»ä»»æ„æœ‰æ•ˆåç§»é‡å¼€å§‹æ¶ˆè´¹</li></ul></li><li><strong>ç¨€ç–ç´¢å¼•è®¾è®¡</strong><ul><li>ç´¢å¼•æ–‡ä»¶ï¼ˆ<code>.index</code>ï¼‰å­˜å‚¨ offsetâ†’position æ˜ å°„</li><li>é‡‡ç”¨<strong>é—´éš”å­˜å‚¨</strong>ï¼ˆå¯é…ç½®<code>index.interval.bytes</code>ï¼‰</li><li>æ¯ä¸ªæ¡ç›®åŒ…å«ï¼š <ul><li>æ¶ˆæ¯åç§»é‡ï¼ˆoffsetï¼‰</li><li>ç‰©ç†ä½ç½®ï¼ˆpositionï¼‰</li></ul></li></ul></li><li><strong>ç´¢å¼•è‡ªæ„ˆèƒ½åŠ›</strong><ul><li>ç´¢å¼•æ— æ ¡éªŒå’Œï¼ŒæŸååè‡ªåŠ¨é‡å»º</li><li>åˆ é™¤ç´¢å¼•æ–‡ä»¶å®‰å…¨ï¼ˆKafka è‡ªåŠ¨é‡æ–°ç”Ÿæˆï¼‰</li></ul></li><li><strong>æ–‡ä»¶å¯¹åº”å…³ç³»</strong><ul><li>æ¯ä¸ªæ—¥å¿—åˆ†æ®µï¼ˆSegmentï¼‰å¯¹åº”ï¼š</li><li>æ•°æ®æ–‡ä»¶ï¼ˆ<code>.log</code>ï¼‰</li><li>ç´¢å¼•æ–‡ä»¶ï¼ˆ<code>.index</code>ï¼‰</li><li>æŒ‰èµ·å§‹åç§»é‡å‘½åï¼ˆå¦‚ <code>00000000000000368769.index</code>ï¼‰</li></ul></li></ul><p>ä¸‹é¢æ˜¯ Kafka ä¸­åˆ†æ®µçš„æ—¥å¿—æ•°æ®æ–‡ä»¶å’Œåç§»é‡ç´¢å¼•æ–‡ä»¶çš„å¯¹åº”æ˜ å°„å…³ç³»å›¾ï¼ˆå…¶ä¸­ä¹Ÿè¯´æ˜äº†å¦‚ä½•æŒ‰ç…§èµ·å§‹åç§»é‡æ¥å®šä½åˆ°æ—¥å¿—æ•°æ®æ–‡ä»¶ä¸­çš„å…·ä½“æ¶ˆæ¯ï¼‰ã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070722556.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°æ—¥å¿—å‹ç¼©" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°æ—¥å¿—å‹ç¼©" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å®ç°æ—¥å¿—å‹ç¼©ï¼Ÿ</h3><p>æ—¥å¿—å‹ç¼©é€šè¿‡ Key-Level å»é‡ä¼˜åŒ–å­˜å‚¨æ•ˆç‡ï¼Œé€‚ç”¨äºçŠ¶æ€è·Ÿè¸ªç±»åœºæ™¯ï¼Œéœ€æƒè¡¡å®æ—¶æ€§ä¸èµ„æºå¼€é”€ã€‚é…ç½®æ—¶å»ºè®®ç»“åˆä¸šåŠ¡æ•°æ®æ›´æ–°é¢‘ç‡è°ƒæ•´<code>log.cleaner</code>ç›¸å…³å‚æ•°ã€‚</p><p><strong>åŸºæœ¬æ¦‚å¿µ</strong></p><ul><li><strong>åŠŸèƒ½æœ¬è´¨</strong>ï¼šä¿ç•™æ¯ä¸ªé”®ï¼ˆKeyï¼‰çš„æœ€æ–°æ¶ˆæ¯ï¼Œåˆ é™¤å†å²é‡å¤å€¼</li><li><strong>è§¦å‘æ¡ä»¶</strong>ï¼šéœ€é…ç½®<code>log.cleanup.policy=compact</code></li><li><strong>æ‰§è¡Œä¸»ä½“</strong>ï¼šåå° Cleaner çº¿ç¨‹å‘¨æœŸæ€§æ‰«æå‹ç¼©</li></ul><p><strong>å·¥ä½œæœºåˆ¶</strong></p><table><thead><tr><th>ç¯èŠ‚</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>å†™å…¥é˜¶æ®µ</strong></td><td>æ‰€æœ‰æ¶ˆæ¯ï¼ˆå«é‡å¤ Keyï¼‰æ­£å¸¸å†™å…¥æ—¥å¿—</td></tr><tr><td><strong>å‹ç¼©é˜¶æ®µ</strong></td><td>Cleaner çº¿ç¨‹æ‰«ææ—¥å¿—ï¼Œå¯¹åŒä¸€ Key åªä¿ç•™ offset æœ€å¤§çš„è®°å½•</td></tr><tr><td><strong>æ¸…ç†é˜¶æ®µ</strong></td><td>è¢«æ ‡è®°åˆ é™¤çš„æ¶ˆæ¯æœ€ç»ˆè¢«ç‰©ç†æ¸…é™¤</td></tr></tbody></table><p><strong>å…¸å‹åº”ç”¨åœºæ™¯</strong></p><ul><li><strong>æ•°æ®åº“å˜æ›´æ—¥å¿—</strong>ï¼ˆCDCï¼‰ï¼šä»…ä¿ç•™æ•°æ®è¡¨çš„æœ€ç»ˆçŠ¶æ€</li><li><strong>è®¾å¤‡çŠ¶æ€ç›‘æ§</strong>ï¼šå­˜å‚¨ç‰©è”ç½‘è®¾å¤‡æœ€æ–°ä¸ŠæŠ¥æ•°æ®</li><li><strong>é…ç½®ç®¡ç†ä¸­å¿ƒ</strong>ï¼šè®°å½•é…ç½®é¡¹æœ€æ–°ç‰ˆæœ¬</li><li><strong>ä¼šè¯æŒä¹…åŒ–</strong>ï¼šä¿å­˜ç”¨æˆ·ä¼šè¯æœ€æ–°ä¿¡æ¯</li></ul><p><strong>ä¸å…¶ä»–æœºåˆ¶çš„å¯¹æ¯”</strong></p><table><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>æ—¥å¿—å‹ç¼©</strong></th><th><strong>æ—¥å¿—åˆ é™¤</strong>ï¼ˆæŒ‰æ—¶é—´/å¤§å°ï¼‰</th></tr></thead><tbody><tr><td><strong>ä¿ç•™ç­–ç•¥</strong></td><td>æŒ‰ Key ä¿ç•™æœ€æ–°å€¼</td><td>æŒ‰æ—¶é—´/æ–‡ä»¶å¤§å°åˆ é™¤æ—§æ•°æ®</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>éœ€è¦ Key çº§çŠ¶æ€è¿½æº¯</td><td>åªéœ€ä¿ç•™è¿‘æœŸæ•°æ®</td></tr><tr><td><strong>å¯å…±å­˜æ€§</strong></td><td>å¯ä¸åˆ é™¤ç­–ç•¥åŒæ—¶é…ç½®</td><td>-</td></tr></tbody></table><p><strong>æ³¨æ„äº‹é¡¹</strong></p><ul><li><strong>å»¶è¿Ÿæ€§</strong>ï¼šå‹ç¼©éå®æ—¶ï¼Œå­˜åœ¨æ•°æ®æœ€ç»ˆä¸€è‡´æ€§</li><li><strong>èµ„æºæ¶ˆè€—</strong>ï¼šå‹ç¼©è¿‡ç¨‹å ç”¨ CPU/IO èµ„æº</li><li><strong>ç‰¹æ®Šé”®å¤„ç†</strong>ï¼š<code>null</code>é”®æ¶ˆæ¯ä¸ä¼šè¢«å‹ç¼©ä¿ç•™</li><li><strong>ç›‘æ§æŒ‡æ ‡</strong>ï¼šå…³æ³¨<code>kafka.log:type=LogCleanerManager</code>ç›¸å…³æŒ‡æ ‡</li></ul><h2 id="kafka-ç”Ÿäº§æ¶ˆè´¹" tabindex="-1"><a class="header-anchor" href="#kafka-ç”Ÿäº§æ¶ˆè´¹" aria-hidden="true">#</a> Kafka ç”Ÿäº§æ¶ˆè´¹</h2><h3 id="ã€ä¸­ç­‰ã€‘kafka-å‘é€æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-å‘é€æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka å‘é€æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„ï¼ŸğŸŒŸğŸŒŸ</h3><div class="hint-container tip"><p class="hint-container-title">å…³é”®ç‚¹</p><ol><li><strong>åºåˆ—åŒ–</strong></li><li><strong>é€‰æ‹©åˆ†åŒº</strong></li><li><strong>æš‚å­˜ç¼“å†²åŒº</strong></li><li><strong>æ‰¹æ¬¡ä¼ è¾“</strong></li></ol></div><p>Kafka ç”Ÿäº§è€…ç”¨ä¸€ä¸ª <code>ProducerRecord</code> å¯¹è±¡æ¥æŠ½è±¡ä¸€æ¡è¦å‘é€çš„æ¶ˆæ¯ï¼Œ <code>ProducerRecord</code> å¯¹è±¡éœ€è¦åŒ…å«ç›®æ ‡ä¸»é¢˜å’Œè¦å‘é€çš„å†…å®¹ï¼Œè¿˜å¯ä»¥æŒ‡å®šé”®æˆ–åˆ†åŒºã€‚å…¶å‘é€æ¶ˆæ¯æµç¨‹å¦‚ä¸‹ï¼š</p><p>ï¼ˆ1ï¼‰<strong>åºåˆ—åŒ–</strong> - ç”Ÿäº§è€…è¦å…ˆæŠŠé”®å’Œå€¼åºåˆ—åŒ–æˆå­—èŠ‚æ•°ç»„ï¼Œè¿™æ ·å®ƒä»¬æ‰èƒ½å¤Ÿåœ¨ç½‘ç»œä¸­ä¼ è¾“ã€‚</p><p>ï¼ˆ2ï¼‰<strong>åˆ†åŒº</strong> - æ•°æ®è¢«ä¼ ç»™åˆ†åŒºå™¨ã€‚å¦‚æœåœ¨ <code>ProducerRecord</code> ä¸­å·²ç»æŒ‡å®šäº†åˆ†åŒºï¼Œé‚£ä¹ˆåˆ†åŒºå™¨ä»€ä¹ˆä¹Ÿä¸ä¼šåšï¼›å¦åˆ™ï¼Œåˆ†åŒºå™¨ä¼šæ ¹æ® <code>ProducerRecord</code> çš„é”®æ¥é€‰æ‹©ä¸€ä¸ªåˆ†åŒºã€‚é€‰å®šåˆ†åŒºåï¼Œç”Ÿäº§è€…å°±çŸ¥é“è¯¥æŠŠæ¶ˆæ¯å‘é€ç»™å“ªä¸ªä¸»é¢˜çš„å“ªä¸ªåˆ†åŒºã€‚</p><p>ï¼ˆ3ï¼‰<strong>æ‰¹æ¬¡ä¼ è¾“</strong> - æ¥ç€ï¼Œè¿™æ¡è®°å½•ä¼šè¢«æ·»åŠ åˆ°ä¸€ä¸ªè®°å½•æ‰¹æ¬¡ä¸­ã€‚è¿™ä¸ªæ‰¹æ¬¡ä¸­çš„æ‰€æœ‰æ¶ˆæ¯éƒ½ä¼šè¢«å‘é€åˆ°ç›¸åŒçš„ä¸»é¢˜å’Œåˆ†åŒºä¸Šã€‚æœ‰ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹è´Ÿè´£å°†è¿™äº›è®°å½•æ‰¹æ¬¡å‘é€åˆ°ç›¸åº” Broker ä¸Šã€‚</p><ul><li><strong>æ‰¹æ¬¡ï¼Œå°±æ˜¯ä¸€ç»„æ¶ˆæ¯ï¼Œè¿™äº›æ¶ˆæ¯å±äºåŒä¸€ä¸ªä¸»é¢˜å’Œåˆ†åŒº</strong>ã€‚</li><li>å‘é€æ—¶ï¼Œä¼šæŠŠæ¶ˆæ¯åˆ†æˆæ‰¹æ¬¡ä¼ è¾“ï¼Œå¦‚æœæ¯æ¬¡åªå‘é€ä¸€ä¸ªæ¶ˆæ¯ï¼Œä¼šå ç”¨å¤§é‡çš„ç½‘è·¯å¼€é”€ã€‚</li></ul><p>ï¼ˆ4ï¼‰<strong>å“åº”</strong> - æœåŠ¡å™¨æ”¶åˆ°æ¶ˆæ¯ä¼šè¿”å›ä¸€ä¸ªå“åº”ã€‚</p><ul><li>å¦‚æœ<strong>æˆåŠŸ</strong>ï¼Œåˆ™è¿”å›ä¸€ä¸ª <code>RecordMetaData</code> å¯¹è±¡ï¼Œå®ƒåŒ…å«äº†ä¸»é¢˜ã€åˆ†åŒºã€åç§»é‡ï¼›</li><li>å¦‚æœ<strong>å¤±è´¥</strong>ï¼Œåˆ™è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚ç”Ÿäº§è€…åœ¨æ”¶åˆ°é”™è¯¯åï¼Œå¯ä»¥è¿›è¡Œé‡è¯•ï¼Œé‡è¯•æ¬¡æ•°å¯ä»¥åœ¨é…ç½®ä¸­æŒ‡å®šã€‚å¤±è´¥ä¸€å®šæ¬¡æ•°åï¼Œå°±è¿”å›é”™è¯¯æ¶ˆæ¯ã€‚</li></ul><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20200528224323.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ç”Ÿäº§è€…å‘ Broker å‘é€æ¶ˆæ¯æ—¶æ˜¯æ€ä¹ˆç¡®å®šå‘å“ªä¸€ä¸ª Broker å‘é€æ¶ˆæ¯ï¼Ÿ</p><ul><li>ç”Ÿäº§è€…ä¼šå‘ä»»æ„ broker å‘é€ä¸€ä¸ªå…ƒæ•°æ®è¯·æ±‚ï¼ˆ<code>MetadataRequest</code>ï¼‰ï¼Œè·å–åˆ°æ¯ä¸€ä¸ªåˆ†åŒºå¯¹åº”çš„ Leader ä¿¡æ¯ï¼Œå¹¶ç¼“å­˜åˆ°æœ¬åœ°ã€‚</li><li>ç”Ÿäº§è€…åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œä¼šæŒ‡å®š Partition æˆ–è€…é€šè¿‡ key å¾—åˆ°åˆ°ä¸€ä¸ª Partitionï¼Œç„¶åæ ¹æ® Partition ä»ç¼“å­˜ä¸­è·å–ç›¸åº”çš„ Leader ä¿¡æ¯ã€‚</li></ul><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20200621113043.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="ã€ç®€å•ã€‘kafka-ä¸ºä»€ä¹ˆè¦æ”¯æŒæ¶ˆè´¹è€…ç¾¤ç»„-ğŸŒŸğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ç®€å•ã€‘kafka-ä¸ºä»€ä¹ˆè¦æ”¯æŒæ¶ˆè´¹è€…ç¾¤ç»„-ğŸŒŸğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€ç®€å•ã€‘Kafka ä¸ºä»€ä¹ˆè¦æ”¯æŒæ¶ˆè´¹è€…ç¾¤ç»„ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</h3><div class="hint-container tip"><p class="hint-container-title">å…³é”®ç‚¹</p><ul><li>æ¶ˆè´¹è€…ç¾¤ç»„ï¼Œä»¥ç»„ä¸ºç»´åº¦è®¢é˜… Topicï¼Œå¹¶åˆ†æ‘Šåˆ†åŒºï¼Œä»¥å‡è¡¡è´Ÿè½½ã€‚</li><li>ä¸€ä¸ªåˆ†åŒºåªèƒ½åˆ†é…ç»™æ¶ˆè´¹è€…ç¾¤ç»„ä¸­çš„ä¸€ä¸ªå®ä¾‹ã€‚</li><li>æ¶ˆè´¹è€…æ•°é‡å‘ç”Ÿå˜åŒ–ï¼Œæˆ–ä¸»é¢˜åˆ†åŒºæ•°å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šè§¦å‘åˆ†åŒºå†å‡è¡¡ã€‚</li></ul></div><div class="hint-container info"><p class="hint-container-title">æ¶ˆè´¹è€…</p></div><p>æ¯ä¸ª Consumer çš„å”¯ä¸€å…ƒæ•°æ®æ˜¯è¯¥ Consumer åœ¨æ—¥å¿—ä¸­æ¶ˆè´¹çš„ä½ç½®ã€‚è¿™ä¸ªåç§»é‡æ˜¯ç”± Consumer æ§åˆ¶çš„ï¼šConsumer é€šå¸¸ä¼šåœ¨è¯»å–è®°å½•æ—¶çº¿æ€§çš„å¢åŠ å…¶åç§»é‡ã€‚ä½†å®é™…ä¸Šï¼Œç”±äºä½ç½®ç”± Consumer æ§åˆ¶ï¼Œæ‰€ä»¥ Consumer å¯ä»¥é‡‡ç”¨ä»»ä½•é¡ºåºæ¥æ¶ˆè´¹è®°å½•ã€‚</p><p><strong>ä¸€æ¡æ¶ˆæ¯åªæœ‰è¢«æäº¤ï¼Œæ‰ä¼šè¢«æ¶ˆè´¹è€…è·å–åˆ°</strong>ã€‚å¦‚ä¸‹å›¾ï¼Œåªèƒ½æ¶ˆè´¹ Message0ã€Message1ã€Message2ï¼š</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20200621113917.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="hint-container info"><p class="hint-container-title">æ¶ˆè´¹è€…ç¾¤ç»„</p></div><p><strong>Consumer Group æ˜¯ Kafka æä¾›çš„å¯æ‰©å±•ä¸”å…·æœ‰å®¹é”™æ€§çš„æ¶ˆè´¹è€…æœºåˆ¶</strong>ã€‚</p><p>Kafka çš„å†™å…¥æ•°æ®é‡å¾ˆåºå¤§ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹æ¶ˆæ¯é€Ÿåº¦å¾ˆæ…¢ï¼Œæ—¶é—´é•¿äº†ï¼Œå°±ä¼šé€ æˆæ•°æ®ç§¯å‹ã€‚ä¸ºäº†å‡å°‘æ•°æ®ç§¯å‹ï¼ŒKafka æ”¯æŒæ¶ˆè´¹è€…ç¾¤ç»„ï¼Œå¯ä»¥è®©å¤šä¸ªæ¶ˆè´¹è€…å¹¶å‘æ¶ˆè´¹æ¶ˆæ¯ï¼Œå¯¹æ•°æ®è¿›è¡Œåˆ†æµã€‚</p><p>Kafka æ¶ˆè´¹è€…ä»å±äºæ¶ˆè´¹è€…ç¾¤ç»„ï¼Œ<strong>ä¸€ä¸ªç¾¤ç»„é‡Œçš„ Consumer è®¢é˜…åŒä¸€ä¸ª Topicï¼Œä¸€ä¸ªä¸»é¢˜æœ‰å¤šä¸ª Partitionï¼Œæ¯ä¸€ä¸ª Partition åªèƒ½éš¶å±äºæ¶ˆè´¹è€…ç¾¤ç»„ä¸­çš„ä¸€ä¸ª Consumer</strong>ã€‚</p><p>å¦‚æœè¶…è¿‡ä¸»é¢˜çš„åˆ†åŒºæ•°é‡ï¼Œé‚£ä¹ˆæœ‰ä¸€éƒ¨åˆ†æ¶ˆè´¹è€…å°±ä¼šè¢«é—²ç½®ï¼Œä¸ä¼šæ¥æ”¶åˆ°ä»»ä½•æ¶ˆæ¯ã€‚</p><p>åŒä¸€æ—¶åˆ»ï¼Œ<strong>ä¸€æ¡æ¶ˆæ¯åªèƒ½è¢«åŒä¸€æ¶ˆè´¹è€…ç»„ä¸­çš„ä¸€ä¸ªæ¶ˆè´¹è€…å®ä¾‹æ¶ˆè´¹</strong>ã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070722981.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>ä¸åŒæ¶ˆè´¹è€…ç¾¤ç»„ä¹‹é—´äº’ä¸å½±å“</strong>ã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070723165.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="ã€ä¸­ç­‰ã€‘kafka-æ¶ˆè´¹æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-æ¶ˆè´¹æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka æ¶ˆè´¹æ¶ˆæ¯çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„ï¼ŸğŸŒŸğŸŒŸ</h3><div class="hint-container tip"><p class="hint-container-title">å…³é”®ç‚¹</p><ul><li>æ¶ˆè´¹è€…ç¾¤ç»„è®¢é˜… Topic</li><li>æ¶ˆè´¹è€…è½®æ‰¹æ¬¡æ‹‰å–æ¶ˆæ¯</li><li>å¤„ç†å®Œæ¶ˆæ¯åï¼Œæäº¤åç§»é‡ï¼ˆOffsetï¼‰</li></ul></div><p>Kafka æ¶ˆè´¹è€…é€šè¿‡ <code>pull</code> æ¨¡å¼æ¥è·å–æ¶ˆæ¯ï¼Œä½†æ˜¯è·å–æ¶ˆæ¯æ—¶å¹¶ä¸æ˜¯ç«‹åˆ»è¿”å›ç»“æœï¼Œéœ€è¦è€ƒè™‘ä¸¤ä¸ªå› ç´ ï¼š</p><ul><li>æ¶ˆè´¹è€…é€šè¿‡ <code>customer.poll(time)</code> ä¸­è®¾ç½®ç­‰å¾…æ—¶é—´</li><li>Broker ä¼šç­‰å¾…ç´¯è®¡ä¸€å®šé‡æ•°æ®ï¼Œç„¶åå‘é€ç»™æ¶ˆè´¹è€…ã€‚è¿™æ ·å¯ä»¥å‡å°‘ç½‘ç»œå¼€é”€ã€‚</li></ul><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070724283.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><code>pull</code> é™¤äº†è·å–æ¶ˆæ¯å¤–ï¼Œè¿˜æœ‰å…¶ä»–ä½œç”¨ï¼š</p><ul><li><strong>å‘é€å¿ƒè·³ä¿¡æ¯</strong>ã€‚æ¶ˆè´¹è€…é€šè¿‡å‘è¢«æŒ‡æ´¾ä¸ºç¾¤ç»„åè°ƒå™¨çš„ Broker å‘é€å¿ƒè·³æ¥ç»´æŠ¤ä»–å’Œç¾¤ç»„çš„ä»å±å…³ç³»ï¼Œå½“æœºå™¨å®•æ‰åï¼Œç¾¤ç»„åè°ƒå™¨è§¦å‘å†å‡è¡¡ã€‚</li></ul><h2 id="kafka-é›†ç¾¤" tabindex="-1"><a class="header-anchor" href="#kafka-é›†ç¾¤" aria-hidden="true">#</a> Kafka é›†ç¾¤</h2><h3 id="ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°åˆ†åŒºæœºåˆ¶-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°åˆ†åŒºæœºåˆ¶-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å®ç°åˆ†åŒºæœºåˆ¶ï¼ŸğŸŒŸğŸŒŸ</h3><div class="hint-container tip"><p class="hint-container-title">å…³é”®ç‚¹</p><p><strong>åˆ†åŒºæ˜¯ Kafka é«˜æ€§èƒ½ï¼ˆååé‡ï¼‰ã€é«˜å¯ç”¨å’Œæ˜“æ‰©å±•çš„åŸºçŸ³ã€‚å®ƒé€šè¿‡æ•°æ®åˆ†ç‰‡å®ç°äº†å¹¶è¡Œå¤„ç†ï¼Œæ˜¯ Kafka æ€§èƒ½çš„å…³é”®ã€‚</strong></p></div><p>Kafka çš„æ•°æ®ç»“æ„é‡‡ç”¨ä¸‰çº§ç»“æ„ï¼Œå³ï¼šä¸»é¢˜ï¼ˆTopicï¼‰ã€åˆ†åŒºï¼ˆPartitionï¼‰ã€æ¶ˆæ¯ï¼ˆRecordï¼‰ã€‚å…¶ä¸­ï¼Œåˆ†åŒºæ˜¯ Kafka ä¸­æœ€å°çš„å¹¶è¡Œå¤„ç†å•å…ƒã€‚</p><p>æ¯ä¸ªåˆ†åŒºæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>æœ‰åºçš„ã€ä¸å¯å˜çš„æ¶ˆæ¯æ—¥å¿—æ–‡ä»¶</strong>ï¼Œæ¶ˆæ¯è¢«è¿½åŠ åˆ°åˆ†åŒºå°¾éƒ¨ï¼ˆç±»ä¼¼ append-only æ—¥å¿—ï¼‰ï¼Œå¹¶é€šè¿‡åç§»é‡ï¼ˆOffsetï¼‰å”¯ä¸€æ ‡è¯†æ¯æ¡æ¶ˆæ¯åœ¨åˆ†åŒºå†…çš„ä½ç½®ã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/java/javaweb/distributed/mq/kafka/kafka-log-anatomy.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>åˆ†åŒºä¼šè¢«<strong>åˆ†å¸ƒå¼å­˜å‚¨åœ¨ä¸åŒçš„ Broker èŠ‚ç‚¹</strong>ä¸Šï¼Œå®ç°æ•°æ®çš„åˆ†å¸ƒå¼å­˜å‚¨å’Œè´Ÿè½½å‡è¡¡ã€‚</p><p>æ¯ä¸ªåˆ†åŒºå¯ä»¥è®¾ç½®å¤šä¸ª<strong>å‰¯æœ¬ï¼ˆReplicaï¼‰</strong>ï¼Œå…¶ä¸­ä¸€ä¸ªä¸º<strong>é¢†å¯¼è€…å‰¯æœ¬ï¼ˆLeaderï¼‰</strong>ï¼Œè´Ÿè´£å¤„ç†è¯»å†™è¯·æ±‚ï¼›å…¶ä»–ä¸º<strong>è¿½éšè€…å‰¯æœ¬ï¼ˆFollowerï¼‰</strong>ï¼Œé€šè¿‡å¤åˆ¶ Leader çš„æ•°æ®å®ç°é«˜å¯ç”¨ï¼ˆå½“ Leader æ•…éšœæ—¶ï¼ŒFollower ä¼šè¢«é€‰ä¸¾ä¸ºæ–° Leaderï¼‰ã€‚</p><h3 id="ã€ä¸­ç­‰ã€‘kafka-æ”¯æŒå“ªäº›åˆ†åŒºç­–ç•¥-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-æ”¯æŒå“ªäº›åˆ†åŒºç­–ç•¥-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka æ”¯æŒå“ªäº›åˆ†åŒºç­–ç•¥ï¼ŸğŸŒŸğŸŒŸ</h3><p>Kafka é€šè¿‡åˆ†åŒºå®ç°ç”Ÿäº§ã€æ¶ˆè´¹çš„è´Ÿè½½å‡è¡¡ã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/202510030938004.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="hint-container info"><p class="hint-container-title">ç”Ÿäº§è€…åˆ†åŒºç­–ç•¥</p></div><ul><li><strong>æŒ‡å®šåˆ†åŒº</strong>ï¼šç›´æ¥æŒ‡å®šåˆ†åŒºå·ï¼Œæ‰‹åŠ¨æ§åˆ¶æ¶ˆæ¯æµå‘ã€‚</li><li><strong>å“ˆå¸Œï¼ˆHashï¼‰</strong>ï¼šæœ‰ key æ—¶ï¼Œå¯¹ Key å“ˆå¸Œåå–æ¨¡åˆ†åŒºæ•°ï¼Œä¿è¯åŒ Key æ¶ˆæ¯å…¥åŒä¸€åˆ†åŒºï¼ˆå•åˆ†åŒºé¡ºåºæ€§ï¼‰ã€‚</li><li><strong>è½®è¯¢ï¼ˆRoundRobinï¼‰</strong>ï¼šæ—§ç‰ˆé»˜è®¤ã€‚æ—  Key æ—¶ï¼Œä¾æ¬¡å‡åŒ€åˆ†é…åˆ°å„åˆ†åŒºã€‚</li><li><strong>ç²˜æ€§ï¼ˆStickyï¼‰</strong>ï¼š2.4 + é»˜è®¤ã€‚ä¼˜å…ˆå‘åŒä¸€åˆ†åŒºå‘é€ï¼Œæ»¡ååˆ‡æ¢ï¼Œå‡å°‘åˆ‡æ¢å¼€é”€ï¼Œå…¼é¡¾å‡è¡¡ã€‚</li><li><strong>è‡ªå®šä¹‰</strong>ï¼šå®ç° <code>Partitioner</code> æ¥å£ï¼ŒæŒ‰ä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚åœ°åŸŸã€æ—¶é—´ï¼‰åˆ†é…ã€‚</li></ul><div class="hint-container info"><p class="hint-container-title">æ¶ˆè´¹è€…ç»„åˆ†åŒºç­–ç•¥</p></div><ul><li><strong>èŒƒå›´ï¼ˆRangeï¼‰</strong>ï¼šåˆ†åŒºæ’åºåå¹³å‡åˆ†é…ï¼Œå‰å‡ ä¸ªæ¶ˆè´¹è€…å¯èƒ½å¤šåˆ†é… 1 ä¸ªï¼ˆç®€å•ä½†å¯èƒ½ä¸å‡ï¼‰ã€‚</li><li><strong>è½®è¯¢ï¼ˆRoundRobinï¼‰</strong>ï¼šåˆ†åŒºå’Œæ¶ˆè´¹è€…æ’åºåè½®è¯¢åˆ†é…ï¼Œè·¨ä¸»é¢˜è®¢é˜…æ—¶æ›´å‡åŒ€ã€‚</li><li><strong>ç²˜æ€§ï¼ˆStickyï¼‰</strong>ï¼šä¿æŒç°æœ‰åˆ†é…ï¼Œä»…æœ€å°èŒƒå›´è°ƒæ•´ï¼Œå‡å°‘é‡å¹³è¡¡å¼€é”€ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°åˆ†åŒºå†å‡è¡¡-ğŸŒŸğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°åˆ†åŒºå†å‡è¡¡-ğŸŒŸğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç°åˆ†åŒºå†å‡è¡¡ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</h3><p><strong>åˆ†åŒºå†å‡è¡¡ï¼ˆRebalanceï¼‰<strong>æ˜¯æ¶ˆè´¹è€…ç»„å†…å› æ¶ˆè´¹è€…æˆå‘˜å¢å‡è€Œ</strong>é‡æ–°åˆ†é…åˆ†åŒº</strong>çš„è¿‡ç¨‹ã€‚</p><p><strong>åˆ†åŒºå†å‡è¡¡å®ç°äº†æ¶ˆè´¹è€…ç¾¤ç»„çš„é«˜å¯ç”¨æ€§å’Œä¼¸ç¼©æ€§</strong>ã€‚</p><p><strong>åˆ†åŒºå†å‡è¡¡çš„è§¦å‘æ—¶æœº</strong>æœ‰ä¸‰ç§ï¼š</p><ul><li><strong>æ¶ˆè´¹è€…ç¾¤ç»„æˆå‘˜æ•°å˜åŒ–</strong></li><li><strong>è®¢é˜…ä¸»é¢˜æ•°å˜åŒ–</strong></li><li><strong>è®¢é˜…ä¸»é¢˜çš„åˆ†åŒºæ•°å˜åŒ–</strong></li></ul><h4 id="åˆ†åŒºå†å‡è¡¡çš„è¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#åˆ†åŒºå†å‡è¡¡çš„è¿‡ç¨‹" aria-hidden="true">#</a> åˆ†åŒºå†å‡è¡¡çš„è¿‡ç¨‹</h4><p><strong>Rebalance æ˜¯é€šè¿‡æ¶ˆè´¹è€…ç¾¤ç»„ä¸­çš„ç§°ä¸ºâ€œç¾¤ä¸»â€æ¶ˆè´¹è€…å®¢æˆ·ç«¯è¿›è¡Œçš„</strong>ã€‚</p><p>ï¼ˆ1ï¼‰<strong>é€‰æ‹©ç¾¤ä¸»</strong></p><p>å½“æ¶ˆè´¹è€…è¦åŠ å…¥ç¾¤ç»„æ—¶ï¼Œä¼šå‘ç¾¤ç»„åè°ƒå™¨ï¼ˆCoordinatorï¼‰å‘é€ä¸€ä¸ª JoinGroup è¯·æ±‚ã€‚ç¬¬ä¸€ä¸ªåŠ å…¥ç¾¤ç»„çš„æ¶ˆè´¹è€…å°†æˆä¸ºâ€œç¾¤ä¸»â€ã€‚<strong>ç¾¤ä¸»ä» Coordinator é‚£é‡Œè·å–ç¾¤ç»„çš„æ´»è·ƒæˆå‘˜åˆ—è¡¨ï¼Œå¹¶è´Ÿè´£ç»™æ¯ä¸€ä¸ªæ¶ˆè´¹è€…åˆ†é…åˆ†åŒº</strong>ã€‚</p><blockquote><p>ç¾¤ç»„åè°ƒå™¨ï¼ˆCoordinatorï¼‰ï¼Œä¸“é—¨ä¸º Consumer Group æœåŠ¡ï¼Œè´Ÿè´£ä¸º Group æ‰§è¡Œ Rebalance ä»¥åŠæä¾›ä½ç§»ç®¡ç†å’Œç»„æˆå‘˜ç®¡ç†ç­‰ã€‚å…·ä½“æ¥è®²ï¼ŒConsumer ç«¯åº”ç”¨ç¨‹åºåœ¨æäº¤ä½ç§»æ—¶ï¼Œå…¶å®æ˜¯å‘ Coordinator æ‰€åœ¨çš„ Broker æäº¤ä½ç§»ã€‚åŒæ ·åœ°ï¼Œå½“ Consumer åº”ç”¨å¯åŠ¨æ—¶ï¼Œä¹Ÿæ˜¯å‘ Coordinator æ‰€åœ¨çš„ Broker å‘é€å„ç§è¯·æ±‚ï¼Œç„¶åç”± Coordinator è´Ÿè´£æ‰§è¡Œæ¶ˆè´¹è€…ç»„çš„æ³¨å†Œã€æˆå‘˜ç®¡ç†è®°å½•ç­‰å…ƒæ•°æ®ç®¡ç†æ“ä½œã€‚</p></blockquote><p>ï¼ˆ2ï¼‰<strong>å¿ƒè·³ç»­æ´»</strong></p><p>æ¶ˆè´¹è€…é€šè¿‡å‘ Coordinator å®šæœŸå‘é€å¿ƒè·³æ¥ç»´æŒå®ƒä»¬å’Œç¾¤ç»„çš„ä»å±å…³ç³»ä»¥åŠå®ƒä»¬å¯¹åˆ†åŒºçš„æ‰€æœ‰æƒã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070723810.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ï¼ˆ3ï¼‰<strong>åˆ†åŒºç­–ç•¥</strong>ï¼šç¾¤ä¸»ä» Coordinator è·å–ç¾¤ç»„æˆå‘˜åˆ—è¡¨ï¼Œç„¶åç»™æ¯ä¸€ä¸ªæ¶ˆè´¹è€…è¿›è¡Œåˆ†é…åˆ†åŒº Partitionã€‚åˆ†åŒºç­–ç•¥æ ¹æ®æ¶ˆè´¹è€…ç¾¤ç»„é¢„è®¾çš„è´Ÿè½½å‡è¡¡ç­–ç•¥è€Œå®šï¼š</p><ul><li><strong>èŒƒå›´ï¼ˆRangeï¼‰</strong>ï¼šåˆ†åŒºæ’åºåå¹³å‡åˆ†é…ï¼Œå‰å‡ ä¸ªæ¶ˆè´¹è€…å¯èƒ½å¤šåˆ†é… 1 ä¸ªï¼ˆç®€å•ä½†å¯èƒ½ä¸å‡ï¼‰ã€‚</li><li><strong>è½®è¯¢ï¼ˆRoundRobinï¼‰</strong>ï¼šåˆ†åŒºå’Œæ¶ˆè´¹è€…æ’åºåè½®è¯¢åˆ†é…ï¼Œè·¨ä¸»é¢˜è®¢é˜…æ—¶æ›´å‡åŒ€ã€‚</li><li><strong>ç²˜æ€§ï¼ˆStickyï¼‰</strong>ï¼šä¿æŒç°æœ‰åˆ†é…ï¼Œä»…æœ€å°èŒƒå›´è°ƒæ•´ï¼Œå‡å°‘é‡å¹³è¡¡å¼€é”€ã€‚</li></ul><p>ï¼ˆ4ï¼‰ç¾¤ä¸»åˆ†é…å®Œæˆä¹‹åï¼ŒæŠŠ<strong>åˆ†åŒºåˆ†é…æƒ…å†µå‘é€ç»™ Coordinator</strong>ã€‚</p><p>ï¼ˆ5ï¼‰Coordinator å†æŠŠè¿™äº›ä¿¡æ¯å‘é€ç»™æ¶ˆè´¹è€…ã€‚<strong>æ¯ä¸ªæ¶ˆè´¹è€…åªèƒ½çœ‹åˆ°è‡ªå·±çš„åˆ†é…ä¿¡æ¯ï¼Œåªæœ‰ç¾¤ä¸»çŸ¥é“æ‰€æœ‰æ¶ˆè´¹è€…çš„åˆ†é…ä¿¡æ¯</strong>ã€‚</p><h4 id="é€‰æ‹©åè°ƒè€…" tabindex="-1"><a class="header-anchor" href="#é€‰æ‹©åè°ƒè€…" aria-hidden="true">#</a> é€‰æ‹©åè°ƒè€…</h4><p>æ‰€æœ‰ Broker åœ¨å¯åŠ¨æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºå’Œå¼€å¯ç›¸åº”çš„ Coordinator ç»„ä»¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>æ‰€æœ‰ Broker éƒ½æœ‰å„è‡ªçš„ Coordinator ç»„ä»¶</strong>ã€‚é‚£ä¹ˆï¼ŒConsumer Group å¦‚ä½•ç¡®å®šä¸ºå®ƒæœåŠ¡çš„ Coordinator åœ¨å“ªå° Broker ä¸Šå‘¢ï¼Ÿç­”æ¡ˆå°±åœ¨æˆ‘ä»¬ä¹‹å‰è¯´è¿‡çš„ Kafka å†…éƒ¨ä½ç§»ä¸»é¢˜ <code>__consumer_offsets</code> èº«ä¸Šã€‚</p><p>ç›®å‰ï¼ŒKafka ä¸ºæŸä¸ª Consumer Group ç¡®å®š Coordinator æ‰€åœ¨çš„ Broker çš„ç®—æ³•æœ‰ 2 ä¸ªæ­¥éª¤ã€‚</p><ol><li><p>ç¬¬ 1 æ­¥ï¼šç¡®å®šç”±ä½ç§»ä¸»é¢˜çš„å“ªä¸ªåˆ†åŒºæ¥ä¿å­˜è¯¥ Group æ•°æ®ï¼š<code>partitionId=Math.abs(groupId.hashCode() % offsetsTopicPartitionCount)</code>ã€‚</p></li><li><p>ç¬¬ 2 æ­¥ï¼šæ‰¾å‡ºè¯¥åˆ†åŒº Leader å‰¯æœ¬æ‰€åœ¨çš„ Brokerï¼Œè¯¥ Broker å³ä¸ºå¯¹åº”çš„ Coordinatorã€‚</p></li></ol><h3 id="ã€å›°éš¾ã€‘åˆ†åŒºå†å‡è¡¡å­˜åœ¨ä»€ä¹ˆé—®é¢˜-å¦‚ä½•é¿å…åˆ†åŒºå†å‡è¡¡-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘åˆ†åŒºå†å‡è¡¡å­˜åœ¨ä»€ä¹ˆé—®é¢˜-å¦‚ä½•é¿å…åˆ†åŒºå†å‡è¡¡-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘åˆ†åŒºå†å‡è¡¡å­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•é¿å…åˆ†åŒºå†å‡è¡¡ï¼ŸğŸŒŸğŸŒŸ</h3><p>åˆ†åŒºå†å‡è¡¡å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p><ul><li><strong>æ¶ˆè´¹ä¸­æ–­</strong>ï¼šåˆ†åŒºå†å‡è¡¡è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰æ¶ˆè´¹è€…ä¼šåœæ­¢æ¶ˆè´¹ã€‚</li><li><strong>æ€§èƒ½å¼€é”€</strong>ï¼šæ¶‰åŠçŠ¶æ€æ›´æ–°ã€é€‰ä¸¾ã€åˆ†é…è®¡ç®—ç­‰æ“ä½œï¼Œé¢‘ç¹è§¦å‘ä¼šå¢åŠ é›†ç¾¤è´Ÿè½½ï¼Œé™ä½ååé‡ã€‚</li><li><strong>æ•°æ®é£é™©</strong>ï¼šé€šä¿¡æˆ–å¤„ç†å¼‚å¸¸å¯èƒ½å¯¼è‡´æ¶ˆæ¯é‡å¤æ¶ˆè´¹ï¼ˆæœªæäº¤åç§»é‡è¢«é‡æ‹‰ï¼‰æˆ–ä¸¢å¤±ï¼ˆåç§»é‡æäº¤å¤±è´¥ï¼‰ã€‚</li></ul><p>é¿å…åˆ†åŒºå†å‡è¡¡çš„æ€è·¯ï¼š</p><ul><li><strong>åˆç†è®¾ç½®æ¶ˆè´¹è€…ç»„å’Œæ¶ˆè´¹è€…æ•°é‡</strong><ul><li><strong>ç¨³å®šæ¶ˆè´¹è€…ç»„è§„æ¨¡</strong>ï¼šé¿å…é¢‘ç¹åœ°æ·»åŠ æˆ–ç§»é™¤æ¶ˆè´¹è€…ï¼Œä¿æŒæ¶ˆè´¹è€…ç»„å†…æˆå‘˜çš„ç›¸å¯¹ç¨³å®šæ€§ã€‚åœ¨è§„åˆ’ä¸šåŠ¡æ—¶ï¼Œæ ¹æ®é¢„è®¡çš„æ¶ˆæ¯æµé‡å’Œå¤„ç†èƒ½åŠ›ï¼Œæå‰ç¡®å®šåˆé€‚çš„æ¶ˆè´¹è€…æ•°é‡ï¼Œå¹¶åœ¨ç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ä¸­å°½é‡å‡å°‘ä¸å¿…è¦çš„æ¶ˆè´¹è€…å¢å‡æ“ä½œã€‚</li><li><strong>åŒ¹é…æ¶ˆè´¹è€…ä¸åˆ†åŒºæ•°é‡</strong>ï¼šç¡®ä¿æ¶ˆè´¹è€…æ•°é‡ä¸ä¸»é¢˜çš„åˆ†åŒºæ•°é‡ç›¸åŒ¹é…ï¼Œé¿å…æ¶ˆè´¹è€…æ•°é‡è¿œå¤§äºæˆ–è¿œå°äºåˆ†åŒºæ•°é‡çš„æƒ…å†µã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå»ºè®®æ¶ˆè´¹è€…æ•°é‡ç­‰äºæˆ–ç•¥å°äºåˆ†åŒºæ•°é‡ï¼Œä»¥å……åˆ†åˆ©ç”¨åˆ†åŒºçš„å¹¶è¡Œå¤„ç†èƒ½åŠ›ï¼ŒåŒæ—¶é¿å…å› æ¶ˆè´¹è€…æ•°é‡è¿‡å¤šå¯¼è‡´é¢‘ç¹çš„å†å‡è¡¡ã€‚</li></ul></li><li><strong>ä¼˜åŒ–æ¶ˆè´¹è€…å¿ƒè·³å’Œä¼šè¯è¶…æ—¶å‚æ•°</strong><ul><li><strong>è°ƒæ•´å¿ƒè·³é—´éš”</strong>ï¼šé€šè¿‡é€‚å½“å¢åŠ  <code>heartbeat.interval.ms</code> å‚æ•°çš„å€¼ï¼ˆé»˜è®¤å€¼ä¸º 3000 æ¯«ç§’ï¼‰ï¼Œå‡å°‘æ¶ˆè´¹è€…å‘åè°ƒå™¨å‘é€å¿ƒè·³çš„é¢‘ç‡ï¼Œé™ä½å› ç½‘ç»œæ³¢åŠ¨ç­‰åŸå› å¯¼è‡´çš„è™šå‡å¿ƒè·³è¶…æ—¶æƒ…å†µï¼Œä»è€Œå‡å°‘å› æ¶ˆè´¹è€…è¢«è¯¯åˆ¤ä¸ºæ•…éšœè€Œè§¦å‘çš„å†å‡è¡¡ã€‚ä½†éœ€è¦æ³¨æ„ï¼Œè¯¥å€¼ä¸èƒ½è®¾ç½®è¿‡å¤§ï¼Œå¦åˆ™å¯èƒ½ä¼šå»¶é•¿åè°ƒå™¨æ£€æµ‹åˆ°æ¶ˆè´¹è€…çœŸæ­£æ•…éšœçš„æ—¶é—´ã€‚</li><li><strong>å»¶é•¿ä¼šè¯è¶…æ—¶æ—¶é—´</strong>ï¼šå¢å¤§ <code>session.timeout.ms</code> å‚æ•°çš„å€¼ï¼ˆé»˜è®¤èŒƒå›´æ˜¯ 10000 - 30000 æ¯«ç§’ï¼‰ï¼Œå¯ä»¥å¢åŠ æ¶ˆè´¹è€…ä¼šè¯çš„æœ‰æ•ˆæ—¶é—´ï¼Œé™ä½æ¶ˆè´¹è€…å› çŸ­æš‚çš„ç½‘ç»œå»¶è¿Ÿæˆ–å…¶ä»–å¼‚å¸¸æƒ…å†µå¯¼è‡´ä¼šè¯è¶…æ—¶ï¼Œè¿›è€Œè§¦å‘å†å‡è¡¡çš„æ¦‚ç‡ ã€‚ä¸è¿‡ï¼Œè®¾ç½®è¿‡é•¿çš„ä¼šè¯è¶…æ—¶æ—¶é—´å¯èƒ½ä¼šå¯¼è‡´æ•…éšœæ¶ˆè´¹è€…é•¿æ—¶é—´å ç”¨åˆ†åŒºèµ„æºï¼Œå½±å“æ¶ˆæ¯çš„åŠæ—¶å¤„ç†ã€‚</li></ul></li><li><strong>é¿å…ä¸»é¢˜åˆ†åŒºæ•°é‡é¢‘ç¹å˜åŠ¨</strong><ul><li><strong>åˆç†è§„åˆ’ä¸»é¢˜åˆ†åŒº</strong>ï¼šåœ¨åˆ›å»ºä¸»é¢˜æ—¶ï¼Œæ ¹æ®ä¸šåŠ¡çš„å‘å±•è¶‹åŠ¿å’Œé¢„è®¡çš„æ¶ˆæ¯æµé‡ï¼Œå‡†ç¡®è¯„ä¼°æ‰€éœ€çš„åˆ†åŒºæ•°é‡ï¼Œå¹¶å°½é‡ä¸€æ¬¡æ€§è®¾ç½®åˆ°ä½ï¼Œé¿å…åœ¨ç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ä¸­é¢‘ç¹åœ°å¢åŠ æˆ–å‡å°‘åˆ†åŒº ã€‚å¦‚æœç¡®å®éœ€è¦è°ƒæ•´åˆ†åŒºæ•°é‡ï¼Œå»ºè®®åœ¨ä¸šåŠ¡ä½å³°æœŸè¿›è¡Œï¼Œå¹¶æå‰åšå¥½å……åˆ†çš„æµ‹è¯•å’Œé¢„æ¡ˆã€‚</li><li><strong>é‡‡ç”¨åˆ†åŒºé¢„åˆ†é…ç­–ç•¥</strong>ï¼šå¯¹äºä¸€äº›å¯é¢„æµ‹çš„ä¸šåŠ¡å¢é•¿æƒ…å†µï¼Œå¯ä»¥æå‰ä¸ºä¸»é¢˜åˆ†é…è¶³å¤Ÿçš„åˆ†åŒºï¼Œé¿å…å› ä¸´æ—¶å¢åŠ åˆ†åŒºè€Œè§¦å‘å†å‡è¡¡ã€‚åŒæ—¶ï¼Œåœ¨è¿›è¡Œåˆ†åŒºè°ƒæ•´æ—¶ï¼Œå¯ä»¥é‡‡ç”¨é€æ­¥è°ƒæ•´çš„æ–¹å¼ï¼Œä¾‹å¦‚æ¯æ¬¡åªå¢åŠ å°‘é‡åˆ†åŒºï¼Œåˆ†é˜¶æ®µå®Œæˆåˆ†åŒºçš„æ‰©å±•ï¼Œä»¥å‡å°‘å¯¹ç³»ç»Ÿçš„å†²å‡»ã€‚</li></ul></li><li><strong>ä½¿ç”¨ç²˜æ€§åˆ†åŒºåˆ†é…ç­–ç•¥</strong>ï¼šKafka çš„ Sticky åˆ†åŒºåˆ†é…ç­–ç•¥ä¼šå°½é‡ä¿æŒä¸Šä¸€æ¬¡çš„åˆ†åŒºåˆ†é…ç»“æœï¼Œåœ¨åŠ¨æ€ç¯å¢ƒä¸­ï¼ˆå¦‚æ¶ˆè´¹è€…çš„åŠ å…¥æˆ–ç¦»å¼€ï¼‰ï¼Œä»…å¯¹å¿…è¦çš„åˆ†åŒºè¿›è¡Œé‡æ–°åˆ†é…ï¼Œå‡å°‘å†å‡è¡¡çš„èŒƒå›´å’Œé¢‘ç‡ ã€‚é€šè¿‡å°† <code>partition.assignment.strategy</code> å‚æ•°è®¾ç½®ä¸º <code>org.apache.kafka.clients.consumer.StickyAssignor</code>ï¼Œå¯ä»¥å¯ç”¨è¯¥ç­–ç•¥ï¼Œé™ä½å†å‡è¡¡å¯¹ç³»ç»Ÿé€ æˆçš„å½±å“ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•ä¼˜åŒ–åˆ†åŒºçš„è¯»å†™æ€§èƒ½-æœ‰å“ªäº›å¸¸è§çš„è°ƒä¼˜ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•ä¼˜åŒ–åˆ†åŒºçš„è¯»å†™æ€§èƒ½-æœ‰å“ªäº›å¸¸è§çš„è°ƒä¼˜ç­–ç•¥" aria-hidden="true">#</a> ã€å›°éš¾ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•ä¼˜åŒ–åˆ†åŒºçš„è¯»å†™æ€§èƒ½ï¼Ÿæœ‰å“ªäº›å¸¸è§çš„è°ƒä¼˜ç­–ç•¥ï¼Ÿ</h3><p>åœ¨ Kafka ä¸­ï¼Œä¼˜åŒ–åˆ†åŒºçš„è¯»å†™æ€§èƒ½ä¸»è¦å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§å¸¸è§çš„è°ƒä¼˜ç­–ç•¥å®ç°ï¼š</p><ol><li>åˆç†è®¾ç½®åˆ†åŒºæ•°ï¼ˆpartitionsï¼‰ï¼šæ ¹æ®ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„èƒ½åŠ›ï¼Œä»¥åŠé›†ç¾¤çš„è§„æ¨¡ï¼Œè®¾ç½®åˆé€‚çš„åˆ†åŒºæ•°å¯ä»¥åœ¨æé«˜å†™å…¥å’Œè¯»å–æ€§èƒ½æ–¹é¢äº§ç”Ÿæ˜¾è‘—æ•ˆæœã€‚</li><li>å¢åŠ å‰¯æœ¬æ•°ï¼ˆreplication factorï¼‰ï¼šå‰¯æœ¬æ•°çš„å¢åŠ å¯ä»¥æå‡æ•°æ®çš„å¯é æ€§å’Œè¯»å–æ€§èƒ½ï¼Œä¸è¿‡éœ€è¦åœ¨æ€§èƒ½å’Œæ•°æ®å†—ä½™ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ç‚¹ã€‚</li><li>è°ƒæ•´ broker é…ç½®å‚æ•°ï¼šé€šè¿‡è°ƒä¼˜ Kafka broker çš„ç›¸å…³é…ç½®ï¼Œå¦‚è°ƒæ•´ <code>log.retention.hours</code>ã€<code>log.segment.bytes</code>ã€<code>log.flush.interval.messages</code> ç­‰å‚æ•°ï¼Œå¯ä»¥æ˜¾è‘—æå‡è¯»å†™æ€§èƒ½ã€‚</li><li>è°ƒä¼˜ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„é…ç½®ï¼šä¾‹å¦‚è°ƒæ•´ç”Ÿäº§è€…çš„æ‰¹é‡å‘é€å¤§å°ï¼ˆ<code>batch.size</code>ï¼‰ã€å‹ç¼©ç±»å‹ï¼ˆ<code>compression.type</code>ï¼‰ã€æ¶ˆè´¹è€…çš„æœ€å¤§æ‹‰å–è®°å½•æ•°ï¼ˆ<code>max.poll.records</code>ï¼‰ç­‰ã€‚</li><li>ç¡¬ä»¶é…ç½®ä¼˜åŒ–ï¼šé€‰æ‹©é«˜ IOPS çš„ç£ç›˜ã€è¶³å¤Ÿçš„å†…å­˜å’Œè®¡ç®—èµ„æºæ¥æ”¯æ’‘ Kafka çš„é«˜å¹¶å‘è¯»å†™è¯·æ±‚ã€‚</li><li>åˆ†åŒºå’Œå‰¯æœ¬åˆ†å¸ƒä¼˜åŒ–ï¼šç¡®ä¿ä¸åŒä¸»é¢˜çš„åˆ†åŒºå’Œå‰¯æœ¬åˆ†å¸ƒåœ¨ä¸åŒçš„ broker ä¸Šï¼Œä»¥é¿å…æ½œåœ¨çš„è¯»å†™ç“¶é¢ˆã€‚</li></ol><h3 id="ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°å‰¯æœ¬æœºåˆ¶-ğŸŒŸğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-å¦‚ä½•å®ç°å‰¯æœ¬æœºåˆ¶-ğŸŒŸğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka å¦‚ä½•å®ç°å‰¯æœ¬æœºåˆ¶ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</h3><p>å‰¯æœ¬æœºåˆ¶æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿå®ç°é«˜å¯ç”¨çš„ä¸äºŒæ³•é—¨ï¼ŒKafka ä¹Ÿä¸ä¾‹å¤–ã€‚</p><p>å‰¯æœ¬æœºåˆ¶æœ‰å“ªäº›å¥½å¤„ï¼Ÿ</p><ol><li><strong>æä¾›å¯ç”¨æ€§</strong>ï¼šæœ‰å¥ä¿—è¯­å«ï¼šé¸¡è›‹ä¸è¦æ”¾åœ¨ä¸€ä¸ªç¯®å­é‡Œã€‚å‰¯æœ¬æœºåˆ¶ä¹Ÿæ˜¯ä¸€ä¸ªé“ç†â€”â€”å½“éƒ¨åˆ†èŠ‚ç‚¹å®•æœºæ—¶ï¼Œç³»ç»Ÿä»ç„¶å¯ä»¥ä¾é å…¶ä»–æ­£å¸¸è¿è½¬çš„èŠ‚ç‚¹ï¼Œä»æ•´ä½“ä¸Šå¯¹å¤–ç»§ç»­æä¾›æœåŠ¡ã€‚</li><li><strong>æä¾›ä¼¸ç¼©æ€§</strong>ï¼šé€šè¿‡å¢åŠ ã€å‡å°‘æœºå™¨å¯ä»¥æ§åˆ¶ç³»ç»Ÿæ•´ä½“çš„ååé‡ã€‚</li><li><strong>æ”¹å–„æ•°æ®å±€éƒ¨æ€§</strong>ï¼šå…è®¸å°†æ•°æ®æ”¾å…¥ä¸ç”¨æˆ·åœ°ç†ä½ç½®ç›¸è¿‘çš„åœ°æ–¹ï¼Œä»è€Œé™ä½ç³»ç»Ÿå»¶æ—¶ã€‚</li></ol><p>ä½†æ˜¯ï¼ŒKafka åªå®ç°äº†ç¬¬ä¸€ä¸ªå¥½å¤„ï¼ŒåŸå› åé¢ä¼šé˜è¿°ã€‚</p><ul><li>æ¯ä¸ª Partition éƒ½æœ‰ä¸€ä¸ª Leaderï¼Œé›¶ä¸ªæˆ–å¤šä¸ª Followerã€‚</li><li>Leader å¤„ç†ä¸€åˆ‡å¯¹ Partition ï¼ˆåˆ†åŒºï¼‰çš„è¯»å†™è¯·æ±‚ï¼›è€Œ Follower åªéœ€è¢«åŠ¨çš„åŒæ­¥ Leader ä¸Šçš„æ•°æ®ã€‚</li><li>åŒä¸€ä¸ª Topic çš„ä¸åŒ Partition ä¼šåˆ†å¸ƒåœ¨å¤šä¸ª Broker ä¸Šï¼Œè€Œä¸”ä¸€ä¸ª Partition è¿˜ä¼šåœ¨å…¶ä»–çš„ Broker ä¸Šé¢è¿›è¡Œå¤‡ä»½ã€‚</li></ul><h4 id="kafka-å‰¯æœ¬è§’è‰²" tabindex="-1"><a class="header-anchor" href="#kafka-å‰¯æœ¬è§’è‰²" aria-hidden="true">#</a> Kafka å‰¯æœ¬è§’è‰²</h4><p>Kafka ä½¿ç”¨ Topic æ¥ç»„ç»‡æ•°æ®ï¼Œæ¯ä¸ª Topic è¢«åˆ†ä¸ºè‹¥å¹²ä¸ª Partitionï¼Œæ¯ä¸ª Partition æœ‰å¤šä¸ªå‰¯æœ¬ã€‚æ¯ä¸ª Broker å¯ä»¥ä¿å­˜æˆç™¾ä¸Šåƒä¸ªå±äºä¸åŒ Topic å’Œ Partition çš„å‰¯æœ¬ã€‚<strong>Kafka å‰¯æœ¬çš„æœ¬è´¨æ˜¯ä¸€ä¸ªåªèƒ½è¿½åŠ å†™å…¥çš„æäº¤æ—¥å¿—</strong>ã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070726284.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Kafka å‰¯æœ¬æœ‰ä¸¤ç§è§’è‰²ï¼š</p><ul><li><strong>Leader å‰¯æœ¬ï¼ˆä¸»ï¼‰</strong>ï¼šæ¯ä¸ª Partition éƒ½æœ‰ä¸”ä»…æœ‰ä¸€ä¸ª Leader å‰¯æœ¬ã€‚ä¸ºäº†ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œ<strong>Leader å¤„ç†ä¸€åˆ‡å¯¹ Partition ï¼ˆåˆ†åŒºï¼‰çš„è¯»å†™è¯·æ±‚</strong>ï¼›</li><li><strong>Follower å‰¯æœ¬ï¼ˆä»ï¼‰</strong>ï¼šLeader å‰¯æœ¬ä»¥å¤–çš„å‰¯æœ¬éƒ½æ˜¯ Follower å‰¯æœ¬ã€‚<strong>Follower å”¯ä¸€çš„ä»»åŠ¡å°±æ˜¯ä» Leader é‚£é‡Œå¤åˆ¶æ¶ˆæ¯ï¼Œä¿æŒä¸ Leader ä¸€è‡´çš„çŠ¶æ€</strong>ã€‚</li><li>å¦‚æœ Leader å®•æœºï¼Œå…¶ä¸­ä¸€ä¸ª Follower ä¼šè¢«é€‰ä¸¾ä¸ºæ–°çš„ Leaderã€‚</li></ul><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070726185.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ä¸ºäº†ä¸ Leader ä¿æŒåŒæ­¥ï¼ŒFollower å‘ Leader å‘èµ·è·å–æ•°æ®çš„è¯·æ±‚ï¼Œè¿™ç§è¯·æ±‚ä¸æ¶ˆè´¹è€…ä¸ºäº†è¯»å–æ¶ˆæ¯è€Œå‘é€çš„è¯·æ±‚æ˜¯ä¸€æ ·çš„ã€‚è¯·æ±‚æ¶ˆæ¯é‡ŒåŒ…å«äº† Follower æƒ³è¦è·å–æ¶ˆæ¯çš„åç§»é‡ï¼Œè€Œè¿™äº›åç§»é‡æ€»æ˜¯æœ‰åºçš„ã€‚</p><p>Leader å¦ä¸€ä¸ªä»»åŠ¡æ˜¯ææ¸…æ¥šå“ªä¸ª Follower çš„çŠ¶æ€ä¸è‡ªå·±æ˜¯ä¸€è‡´çš„ã€‚é€šè¿‡æŸ¥çœ‹æ¯ä¸ª Follower è¯·æ±‚çš„æœ€æ–°åç§»é‡ï¼ŒLeader å°±ä¼šçŸ¥é“æ¯ä¸ª Follower å¤åˆ¶çš„è¿›åº¦ã€‚å¦‚æœè·Ÿéšè€…åœ¨ 10s å†…æ²¡æœ‰è¯·æ±‚ä»»ä½•æ¶ˆæ¯ï¼Œæˆ–è€…è™½ç„¶åœ¨è¯·æ±‚æ¶ˆæ¯ï¼Œä½†æ˜¯åœ¨ 10s å†…æ²¡æœ‰è¯·æ±‚æœ€æ–°çš„æ•°æ®ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šè¢«è®¤ä¸ºæ˜¯<strong>ä¸åŒæ­¥</strong>çš„ã€‚<strong>å¦‚æœä¸€ä¸ªå‰¯æœ¬æ˜¯ä¸åŒæ­¥çš„ï¼Œåœ¨ Leader å¤±æ•ˆæ—¶ï¼Œå°±ä¸å¯èƒ½æˆä¸ºæ–°çš„ Leader</strong>â€”â€”æ¯•ç«Ÿå®ƒæ²¡æœ‰åŒ…å«å…¨éƒ¨çš„æ¶ˆæ¯ã€‚</p><p>é™¤äº†å½“å‰é¦–é¢†ä¹‹å¤–ï¼Œæ¯ä¸ªåˆ†åŒºéƒ½æœ‰ä¸€ä¸ªé¦–é€‰é¦–é¢†â€”â€”åˆ›å»º Topic æ—¶é€‰å®šçš„é¦–é¢†å°±æ˜¯åˆ†åŒºçš„é¦–é€‰é¦–é¢†ã€‚ä¹‹æ‰€ä»¥å«é¦–é€‰ Leaderï¼Œæ˜¯å› ä¸ºåœ¨åˆ›å»ºåˆ†åŒºæ—¶ï¼Œéœ€è¦åœ¨ Broker ä¹‹é—´å‡è¡¡ Leaderã€‚</p><h4 id="isr" tabindex="-1"><a class="header-anchor" href="#isr" aria-hidden="true">#</a> ISR</h4><p>ISR å³ In-sync Replicasï¼Œè¡¨ç¤ºåŒæ­¥å‰¯æœ¬ã€‚Follower å‰¯æœ¬ä¸æä¾›æœåŠ¡ï¼Œåªæ˜¯å®šæœŸåœ°å¼‚æ­¥æ‹‰å–é¢†å¯¼è€…å‰¯æœ¬ä¸­çš„æ•°æ®è€Œå·²ã€‚æ—¢ç„¶æ˜¯å¼‚æ­¥çš„ï¼Œè¯´æ˜å’Œ Leader å¹¶éæ•°æ®å¼ºä¸€è‡´æ€§çš„ã€‚</p><p><strong>åˆ¤æ–­ Follower æ˜¯å¦ä¸ Leader åŒæ­¥çš„æ ‡å‡†</strong>ï¼š</p><p>Kafka Broker ç«¯å‚æ•° <code>replica.lag.time.max.ms</code> å‚æ•°ï¼ŒæŒ‡å®šäº† Follower å‰¯æœ¬èƒ½å¤Ÿè½å Leader å‰¯æœ¬çš„æœ€é•¿æ—¶é—´é—´éš”ï¼Œé»˜è®¤ä¸º 10sã€‚è¿™æ„å‘³ç€ï¼šåªè¦ä¸€ä¸ª Follower å‰¯æœ¬è½å Leader å‰¯æœ¬çš„æ—¶é—´ä¸è¿ç»­è¶…è¿‡ 10 ç§’ï¼Œé‚£ä¹ˆ Kafka å°±è®¤ä¸ºè¯¥ Follower å‰¯æœ¬ä¸ Leader æ˜¯<strong>åŒæ­¥</strong>çš„ï¼Œå³ä½¿æ­¤æ—¶ Follower å‰¯æœ¬ä¸­ä¿å­˜çš„æ¶ˆæ¯æ˜æ˜¾å°‘äº Leader å‰¯æœ¬ä¸­çš„æ¶ˆæ¯ã€‚</p><p>ISR æ˜¯ä¸€ä¸ªåŠ¨æ€è°ƒæ•´çš„é›†åˆï¼Œä¼šä¸æ–­å°†åŒæ­¥å‰¯æœ¬åŠ å…¥é›†åˆï¼Œå°†ä¸åŒæ­¥å‰¯æœ¬ç§»é™¤é›†åˆã€‚Leader å‰¯æœ¬å¤©ç„¶å°±åœ¨ ISR ä¸­ã€‚</p><h4 id="unclean-é¢†å¯¼è€…é€‰ä¸¾" tabindex="-1"><a class="header-anchor" href="#unclean-é¢†å¯¼è€…é€‰ä¸¾" aria-hidden="true">#</a> Unclean é¢†å¯¼è€…é€‰ä¸¾</h4><p>å› ä¸º Leader å‰¯æœ¬å¤©ç„¶å°±åœ¨ ISR ä¸­ï¼Œå¦‚æœ ISR ä¸ºç©ºäº†ï¼Œå°±è¯´æ˜ Leader å‰¯æœ¬ä¹Ÿâ€œæŒ‚æ‰â€äº†ï¼ŒKafka éœ€è¦é‡æ–°é€‰ä¸¾ä¸€ä¸ªæ–°çš„ Leaderã€‚</p><p><strong>Kafka æŠŠæ‰€æœ‰ä¸åœ¨ ISR ä¸­çš„å­˜æ´»å‰¯æœ¬éƒ½ç§°ä¸ºéåŒæ­¥å‰¯æœ¬</strong>ã€‚é€šå¸¸æ¥è¯´ï¼ŒéåŒæ­¥å‰¯æœ¬è½å Leader å¤ªå¤šï¼Œå› æ­¤ï¼Œå¦‚æœé€‰æ‹©è¿™äº›å‰¯æœ¬ä½œä¸ºæ–° Leaderï¼Œå°±å¯èƒ½å‡ºç°æ•°æ®çš„ä¸¢å¤±ã€‚æ¯•ç«Ÿï¼Œè¿™äº›å‰¯æœ¬ä¸­ä¿å­˜çš„æ¶ˆæ¯è¿œè¿œè½åäºè€ Leader ä¸­çš„æ¶ˆæ¯ã€‚åœ¨ Kafka ä¸­ï¼Œé€‰ä¸¾è¿™ç§å‰¯æœ¬çš„è¿‡ç¨‹ç§°ä¸º Unclean é¢†å¯¼è€…é€‰ä¸¾ã€‚<strong>Broker ç«¯å‚æ•° <code>unclean.leader.election.enable</code> æ§åˆ¶æ˜¯å¦å…è®¸ Unclean é¢†å¯¼è€…é€‰ä¸¾</strong>ã€‚</p><p><strong>å¼€å¯ Unclean é¢†å¯¼è€…é€‰ä¸¾å¯èƒ½ä¼šé€ æˆæ•°æ®ä¸¢å¤±</strong>ï¼Œä½†å¥½å¤„æ˜¯ï¼šå®ƒä½¿å¾— Partition Leader å‰¯æœ¬ä¸€ç›´å­˜åœ¨ï¼Œä¸è‡³äºåœæ­¢å¯¹å¤–æä¾›æœåŠ¡ï¼Œå› æ­¤æå‡äº†é«˜å¯ç”¨æ€§ã€‚åä¹‹ï¼Œç¦æ­¢ Unclean é¢†å¯¼è€…é€‰ä¸¾çš„å¥½å¤„åœ¨äºç»´æŠ¤äº†æ•°æ®çš„ä¸€è‡´æ€§ï¼Œé¿å…äº†æ¶ˆæ¯ä¸¢å¤±ï¼Œä½†ç‰ºç‰²äº†é«˜å¯ç”¨æ€§ã€‚</p><h3 id="ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•å®ç°å¤šé›†ç¾¤çš„æ•°æ®åŒæ­¥-è·¨é›†ç¾¤å¤åˆ¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆ-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•å®ç°å¤šé›†ç¾¤çš„æ•°æ®åŒæ­¥-è·¨é›†ç¾¤å¤åˆ¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆ-ğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•å®ç°å¤šé›†ç¾¤çš„æ•°æ®åŒæ­¥ï¼Ÿè·¨é›†ç¾¤å¤åˆ¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ</h3><p><strong>MirrorMaker æ˜¯ Kafka å®˜æ–¹çš„è·¨é›†ç¾¤å¤åˆ¶æ–¹æ¡ˆ</strong>ã€‚</p><ul><li><strong>åŠŸèƒ½</strong>ï¼šKafka å®˜æ–¹çš„è·¨é›†ç¾¤æ•°æ®å¤åˆ¶å·¥å…·ï¼Œå®ç°<strong>æºé›†ç¾¤ â†’ ç›®æ ‡é›†ç¾¤</strong>çš„æ•°æ®åŒæ­¥ã€‚</li><li><strong>åŸç†</strong>ï¼šåŸºäº<strong>æ¶ˆè´¹è€…-ç”Ÿäº§è€…æ¨¡å‹</strong>ã€‚ <ul><li><strong>Consumer</strong>ï¼šä»æºé›†ç¾¤æ‹‰å–æ•°æ®ã€‚</li><li><strong>Producer</strong>ï¼šå‘ç›®æ ‡é›†ç¾¤æ¨é€æ•°æ®ã€‚</li></ul></li><li><strong>ç‰ˆæœ¬</strong><ul><li><strong>MirrorMaker 1.0</strong>ï¼šåŸºç¡€å¤åˆ¶ï¼Œé…ç½®å¤æ‚ï¼Œå•çº¿ç¨‹æœ‰æ€§èƒ½ç“¶é¢ˆã€‚</li><li><strong>MirrorMaker 2.0 (æ¨è)</strong>ï¼šæ”¯æŒåŒå‘åŒæ­¥ã€è‡ªåŠ¨åŒæ­¥ Topic é…ç½®ã€åç§»é‡åŒæ­¥ç­‰é«˜çº§ç‰¹æ€§ã€‚</li></ul></li><li><strong>è¦ç‚¹</strong><ul><li><strong>æ•°æ®ä¸€è‡´æ€§</strong>ï¼šä¿è¯<strong>æ¶ˆæ¯é¡ºåº</strong>ï¼Œä½†å­˜åœ¨<strong>å¤åˆ¶å»¶è¿Ÿ</strong>ï¼ˆå—ç½‘ç»œå’Œè´Ÿè½½å½±å“ï¼‰ã€‚</li><li><strong>å®¹é”™æ€§</strong>ï¼šé€šè¿‡æ¶ˆè´¹è€…ç»„æœºåˆ¶ï¼Œæ•…éšœæ¢å¤åå¯<strong>æ–­ç‚¹ç»­ä¼ </strong>ã€‚</li><li><strong>æ€§èƒ½ç“¶é¢ˆ</strong>ï¼šMM 1.0 ä¸ºå•çº¿ç¨‹ï¼Œé«˜åååœºæ™¯éœ€éƒ¨ç½²<strong>å¤šä¸ªå®ä¾‹</strong>è¿›è¡Œæ¨ªå‘æ‰©å±•ã€‚</li><li><strong>æ ¸å¿ƒç›‘æ§</strong>ï¼šé‡ç‚¹å…³æ³¨ <strong>consumer-lag</strong>ï¼ˆæ¶ˆè´¹å»¶è¿Ÿï¼‰å’Œ <strong>producer-throughput</strong>ï¼ˆç”Ÿäº§ååé‡ï¼‰ã€‚</li></ul></li></ul><p><strong>æ›¿ä»£å·¥å…·</strong></p><ul><li><strong>Confluent Replicator</strong>ï¼šä¼ä¸šçº§å•†ä¸šå·¥å…·ï¼ŒåŠŸèƒ½å…¨é¢ï¼ˆå¦‚ Schema åŒæ­¥ï¼‰ã€‚</li><li><strong>uReplicator</strong>ï¼šå¼€æºæ–¹æ¡ˆï¼Œé’ˆå¯¹é«˜å¯ç”¨å’Œä½å»¶è¿Ÿä¼˜åŒ–ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-çš„-controller-failover-æ˜¯å¦‚ä½•è®¾è®¡çš„-åœ¨-controller-å®•æœºæ—¶å¦‚ä½•è¿›è¡Œæ•…éšœæ¢å¤-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-çš„-controller-failover-æ˜¯å¦‚ä½•è®¾è®¡çš„-åœ¨-controller-å®•æœºæ—¶å¦‚ä½•è¿›è¡Œæ•…éšœæ¢å¤-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka çš„ Controller Failover æ˜¯å¦‚ä½•è®¾è®¡çš„ï¼Ÿåœ¨ Controller å®•æœºæ—¶å¦‚ä½•è¿›è¡Œæ•…éšœæ¢å¤ï¼ŸğŸŒŸğŸŒŸ</h3><p>Kafka çš„ Controller æ˜¯é›†ç¾¤ä¸­è´Ÿè´£ç®¡ç†å„ç§å…ƒæ•°æ®ï¼ˆå¦‚ä¸»é¢˜åˆ›å»ºã€åˆ†åŒºåˆ†é…ã€å‰¯æœ¬åˆ†é…ç­‰ï¼‰ä»¥åŠåè°ƒé¢†å¯¼è€…é€‰ä¸¾çš„å…³é”®ç»„ä»¶ã€‚Controller Failover æ˜¯ Kafka ä¿è¯é«˜å¯ç”¨æ€§çš„é‡è¦æœºåˆ¶ã€‚å…·ä½“æ¥è®²ï¼Œå½“ Controller å®•æœºæ—¶ï¼ŒKafka ä¼šé€šè¿‡ Zookeeper é€‰ä¸¾å‡ºä¸€ä¸ªæ–°çš„ Controllerï¼Œä»¥ç¡®ä¿é›†ç¾¤å¯ä»¥ç»§ç»­æ­£å¸¸è¿è¡Œã€‚</p><p>ä»¥ä¸‹æ˜¯ Kafka Controller Failover çš„ä¸»è¦è®¾è®¡å’Œæµç¨‹ï¼š</p><ol><li>Zookeeper ä½œä¸ºåè°ƒè€…ï¼šæ¯ä¸ª Kafka Broker å¯åŠ¨æ—¶éƒ½ä¼šå°è¯•åœ¨ Zookeeper ä¸­åˆ›å»ºä¸€ä¸ªç‰¹æ®Šçš„èŠ‚ç‚¹ï¼ˆ<code>/controller</code>ï¼‰ã€‚å› ä¸ºè¿™ä¸ªèŠ‚ç‚¹ä½¿ç”¨çš„æ˜¯ Ephemeralï¼ˆä¸´æ—¶ï¼‰èŠ‚ç‚¹ç±»å‹ï¼Œå½“åˆ›å»ºè¯¥èŠ‚ç‚¹çš„ Broker å®•æœºæ—¶ï¼Œè¿™ä¸ªèŠ‚ç‚¹ä¼šè‡ªåŠ¨åˆ é™¤ã€‚</li><li>ç«äº‰æˆä¸º Controllerï¼šä¸€æ—¦å½“å‰çš„ Controller å®•æœºï¼Œæ‰€æœ‰æ´»ç€çš„ Broker éƒ½ä¼šå°è¯•åœ¨ Zookeeper ä¸­åˆ›å»º <code>/controller</code> èŠ‚ç‚¹ã€‚ç¬¬ä¸€ä¸ªæˆåŠŸåˆ›å»ºè¿™ä¸ªèŠ‚ç‚¹çš„ Broker ä¼šæˆä¸ºæ–°çš„ Controllerï¼Œå‰©ä¸‹çš„åˆ™ä¼šæ”¶åˆ°å¤±è´¥é€šçŸ¥ã€‚</li><li>é€šçŸ¥æœºåˆ¶ï¼šæ–°çš„ Controller ä¼šåœ¨ Zookeeper ä¸­å†™å…¥å®ƒçš„é€‰ä¸¾ç»“æœï¼Œå¹¶é€šè¿‡ç›‘å¬æœºåˆ¶é€šçŸ¥æ‰€æœ‰ Brokerã€‚è¿™äº› Broker ä¼šæ›´æ–°å®ƒä»¬æœ¬åœ°çš„ Controller ç¼“å­˜ï¼Œä»è€ŒæŒ‡å‘æ–°çš„ Controllerã€‚</li><li>æ¢å¤ä»»åŠ¡ï¼šæ–°å½“é€‰çš„ Controller éœ€è¦å¿«é€Ÿå®Œæˆé›†ç¾¤çŠ¶æ€çš„æ¥ç®¡ï¼ŒåŒ…æ‹¬é‡æ–°åˆ†é…åˆ†åŒºå‰¯æœ¬ã€æ·»åŠ ä¸»é¢˜ã€è°ƒæ•´å‰¯æœ¬åŒæ­¥ç­‰ç­‰ã€‚è¿™äº›æ“ä½œé€šè¿‡ç›‘å¬ Zookeeper èŠ‚ç‚¹å’Œæ“ä½œ Kafka å†…éƒ¨ Topicï¼ˆå¦‚ã€__consumer_offsetsï¼‰å®Œæˆã€‚</li></ol><h3 id="ã€å›°éš¾ã€‘kafka-ä¸­çš„-controller-å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆ-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-ä¸­çš„-controller-å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆ-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka ä¸­çš„ Controller å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸğŸŒŸ</h3><p>Kafka ä¸­çš„ Controller æ˜¯æ•´ä¸ªé›†ç¾¤çš„åè°ƒè€…ï¼Œå®ƒæ˜¯ä¸“é—¨è´Ÿè´£ç›‘æ§å’Œç®¡ç† Kafka é›†ç¾¤ä¸­åˆ†åŒºï¼ˆpartitionï¼‰å’Œå‰¯æœ¬ï¼ˆreplicaï¼‰çŠ¶æ€çš„èŠ‚ç‚¹ã€‚åœ¨æ•´ä¸ª Kafka é›†ç¾¤ä¸­ï¼ŒController çš„è§’è‰²æ˜¯è‡³å…³é‡è¦çš„ï¼Œå®ƒå¸®åŠ©é›†ç¾¤ç»´æŒç¨³å®šï¼Œç¡®ä¿åˆ†åŒºå’Œå‰¯æœ¬çš„å¯ç”¨æ€§å’Œä¸€è‡´æ€§ã€‚</p><div class="hint-container info"><p class="hint-container-title">Controller ä½œç”¨</p></div><p>Controller åœ¨é›†ç¾¤ä¸­çš„ä¸»è¦ä½œç”¨åŒ…æ‹¬ï¼š</p><ul><li><strong>åˆ†åŒº Leader é€‰ä¸¾</strong>ï¼šç¡®å®šå“ªä¸ªå‰¯æœ¬æˆä¸ºåˆ†åŒºçš„ Leader æ¥å¤„ç†è¯»å†™è¯·æ±‚ã€‚</li><li><strong>å…ƒæ•°æ®ç®¡ç†</strong>ï¼šç®¡ç†æ‰€æœ‰ Topicã€Partition çš„åˆ›å»ºã€åˆ é™¤å’Œå‰¯æœ¬åˆ†é…æ–¹æ¡ˆã€‚</li><li><strong>çŠ¶æ€ç»´æŠ¤</strong>ï¼šç»´æŠ¤ Partition çš„ ISRï¼ˆåŒæ­¥å‰¯æœ¬ï¼‰åˆ—è¡¨ï¼Œå¤„ç†å‰¯æœ¬çš„åŠ å…¥ä¸ç§»é™¤ã€‚</li><li><strong>åˆ†åŒºè¿ç§»</strong>ï¼šå¦‚æœæŸä¸ª broker å‡ºç°æ•…éšœï¼ŒController è´Ÿè´£é‡æ–°åˆ†é…å…¶ä¸Šçš„åˆ†åŒºåˆ°å…¶ä»–å¯ç”¨ Broker ä¸Šã€‚</li><li><strong>é›†ç¾¤åè°ƒ</strong>ï¼šæ„ŸçŸ¥ Broker çš„ä¸Šä¸‹çº¿ï¼Œå¹¶è§¦å‘ç›¸åº”çš„å…ƒæ•°æ®æ›´æ–°å’Œè´Ÿè½½å‡è¡¡ã€‚</li><li><strong>ä¿¡æ¯åŒæ­¥</strong>ï¼šå‘æ‰€æœ‰ Broker åŒæ­¥æœ€æ–°çš„é›†ç¾¤å…ƒæ•°æ®ã€‚</li></ul><div class="hint-container info"><p class="hint-container-title">Controller åŸç†</p></div><p><strong>åŸºäº ZooKeeper çš„æ¨¡å¼ï¼š</strong></p><ul><li><strong>é€‰ä¸¾</strong>ï¼šæ‰€æœ‰ Broker äº‰æŠ¢åœ¨ ZooKeeper åˆ›å»º <strong><code>/controller</code> ä¸´æ—¶èŠ‚ç‚¹</strong>ï¼Œåˆ›å»ºæˆåŠŸè€…å³ä¸º Controllerã€‚</li><li><strong>æ•…éšœè½¬ç§»</strong>ï¼šè‹¥ Controller å®•æœºï¼Œå…¶ä¸´æ—¶èŠ‚ç‚¹è‡ªåŠ¨åˆ é™¤ï¼Œå…¶ä»– Broker ç›‘å¬åˆ°æ­¤å˜åŒ–åç«‹å³è§¦å‘æ–°ä¸€è½®é€‰ä¸¾ã€‚</li><li><strong>çŠ¶æ€æ„ŸçŸ¥</strong>ï¼šController é€šè¿‡ç›‘å¬ ZooKeeper ä¸Šå…¶ä»–èŠ‚ç‚¹çš„å˜åŒ–æ¥æ„ŸçŸ¥é›†ç¾¤çŠ¶æ€ï¼ˆå¦‚ Broker ä¸‹çº¿ï¼‰ï¼Œå¹¶æ‰§è¡Œç›¸åº”æ“ä½œã€‚</li></ul><p><strong>åŸºäº KRaft çš„æ¨¡å¼ï¼ˆæ–°ä¸€ä»£ï¼‰ï¼š</strong></p><ul><li><strong>å» ZooKeeper ä¾èµ–</strong>ï¼šKafka ä½¿ç”¨å†…ç½®çš„ <strong>Raft å…±è¯†ç®—æ³•</strong> æ¥ç®¡ç†å…ƒæ•°æ®ã€‚</li><li><strong>è§’è‰²åˆ†ç¦»</strong>ï¼šæœ‰ä¸“é—¨çš„ Controller èŠ‚ç‚¹ï¼ˆæ„æˆ Quorumï¼‰è¿›è¡Œå…ƒæ•°æ®ç®¡ç†ï¼Œä¸è´Ÿè´£æ•°æ®å­˜å–çš„ Broker èŠ‚ç‚¹åˆ†ç¦»ã€‚</li><li><strong>å…±è¯†ä¿éšœ</strong>ï¼šé€šè¿‡ Raft ç®—æ³•åœ¨ Controller èŠ‚ç‚¹é—´è‡ªåŠ¨å®Œæˆ Leader é€‰ä¸¾å’Œå…ƒæ•°æ®åŒæ­¥ï¼Œæ›´é«˜æ•ˆã€å¯æ‰©å±•æ€§æ›´å¼ºã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°é«˜å¯ç”¨-ğŸŒŸğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°é«˜å¯ç”¨-ğŸŒŸğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç°é«˜å¯ç”¨ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</h3><ul><li><strong>æ•°æ®å†—ä½™</strong>ï¼šå¤šå‰¯æœ¬å­˜å‚¨ï¼Œé˜²æ­¢å•ç‚¹æ•°æ®ä¸¢å¤±ã€‚</li><li><strong>è‡ªåŠ¨å®¹ç¾</strong>ï¼šLeader è‡ªåŠ¨åˆ‡æ¢ + åˆ†åŒºå†å‡è¡¡ï¼Œå‡å°‘äººå·¥å¹²é¢„ã€‚</li><li><strong>çµæ´»ä¸€è‡´æ€§</strong>ï¼šé€šè¿‡ ACK å’Œ ISR æœºåˆ¶é€‚é…ä¸åŒä¸šåŠ¡åœºæ™¯ï¼ˆå¦‚é«˜ååæˆ–å¼ºä¸€è‡´æ€§ï¼‰ã€‚</li></ul><p><strong>æ ¸å¿ƒæœºåˆ¶</strong></p><ul><li><strong>å¤šå‰¯æœ¬æœºåˆ¶</strong><ul><li>æ¯ä¸ªåˆ†åŒºï¼ˆPartitionï¼‰æœ‰å¤šä¸ªå‰¯æœ¬ï¼Œåˆ†å¸ƒåœ¨ä¸åŒçš„ Broker ä¸Šï¼Œç¡®ä¿æ•°æ®å†—ä½™ã€‚</li><li>å‰¯æœ¬åˆ†ä¸º <strong>Leader</strong>ï¼ˆå¤„ç†è¯»å†™è¯·æ±‚ï¼‰å’Œ <strong>Follower</strong>ï¼ˆåŒæ­¥æ•°æ®ï¼‰ã€‚</li></ul></li><li><strong>ä¸»ä»æ¶æ„</strong><ul><li>ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä»…ä¸ Leader å‰¯æœ¬äº¤äº’ã€‚</li><li>å½“ Leader å®•æœºæ—¶ï¼Œä» Follower å‰¯æœ¬ä¸­é€‰ä¸¾æ–° Leaderï¼Œä¿è¯æœåŠ¡è¿ç»­æ€§ã€‚</li></ul></li><li><strong>ZooKeeper åè°ƒ</strong><ul><li>ç®¡ç†é›†ç¾¤å…ƒæ•°æ®ï¼ˆå¦‚ Broker çŠ¶æ€ã€åˆ†åŒº Leader ä¿¡æ¯ï¼‰ã€‚</li><li>æ£€æµ‹ Broker æ•…éšœå¹¶è§¦å‘ Leader é€‰ä¸¾ã€‚</li></ul></li></ul><p><strong>æ•…éšœæ¢å¤æµç¨‹</strong></p><ul><li><strong>æ•…éšœæ£€æµ‹</strong>ï¼šZooKeeper å‘ç° Broker å®•æœºã€‚</li><li><strong>Leader é€‰ä¸¾</strong>ï¼šä» ISRï¼ˆåŒæ­¥å‰¯æœ¬é›†ï¼‰ä¸­é€‰å‡ºæ–° Leaderã€‚</li><li><strong>åˆ†åŒºå†å‡è¡¡</strong>ï¼šå°†å®•æœº Broker çš„åˆ†åŒºé‡æ–°åˆ†é…åˆ°å…¶ä»–å¯ç”¨ Brokerã€‚</li></ul><p><strong>æ”¯æ’‘æŠ€æœ¯</strong></p><ul><li><strong>ISRï¼ˆIn-Sync Replicasï¼‰</strong>ï¼šä»…ä¸ Leader ä¿æŒåŒæ­¥çš„å‰¯æœ¬å¯å‚ä¸ Leader é€‰ä¸¾ï¼Œç¡®ä¿æ•°æ®ä¸€è‡´æ€§ã€‚</li><li><strong>ACK ç¡®è®¤æœºåˆ¶</strong>ï¼šç”Ÿäº§è€…å¯é…ç½®ä¸åŒçº§åˆ«çš„ç¡®è®¤ï¼ˆå¦‚ <code>0</code>ã€<code>1</code>ã€<code>all</code>ï¼‰ï¼Œå¹³è¡¡ååé‡ä¸æ•°æ®å¯é æ€§ã€‚</li><li><strong>æ§åˆ¶å™¨ï¼ˆControllerï¼‰</strong>ï¼šé›†ç¾¤ä¸­ä¸€ä¸ª Broker æ‹…ä»»æ§åˆ¶å™¨ï¼Œè´Ÿè´£åˆ†åŒº Leader é€‰ä¸¾å’ŒçŠ¶æ€ç®¡ç†ã€‚æ§åˆ¶å™¨æ•…éšœæ—¶ï¼ŒZooKeeper é‡æ–°é€‰ä¸¾æ–°æ§åˆ¶å™¨ã€‚</li><li><strong>æƒ°æ€§æ•…éšœæ£€æµ‹</strong>ï¼šé¿å…çŸ­æš‚æ•…éšœå¯¼è‡´çš„é¢‘ç¹ Leader åˆ‡æ¢ï¼Œé€šè¿‡å»¶è¿Ÿåˆ¤æ–­å‡å°‘é›†ç¾¤æ³¢åŠ¨ã€‚</li></ul><h2 id="kafka-å¯é ä¼ è¾“" tabindex="-1"><a class="header-anchor" href="#kafka-å¯é ä¼ è¾“" aria-hidden="true">#</a> Kafka å¯é ä¼ è¾“</h2><h3 id="ã€ä¸­ç­‰ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•é€šè¿‡-acks-é…ç½®æé«˜æ•°æ®å¯é æ€§-acks-çš„å€¼å¦‚ä½•å½±å“æ€§èƒ½" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•é€šè¿‡-acks-é…ç½®æé«˜æ•°æ®å¯é æ€§-acks-çš„å€¼å¦‚ä½•å½±å“æ€§èƒ½" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•é€šè¿‡ Acks é…ç½®æé«˜æ•°æ®å¯é æ€§ï¼ŸAcks çš„å€¼å¦‚ä½•å½±å“æ€§èƒ½ï¼Ÿ</h3><p><strong>é€‰æ‹©åŸåˆ™</strong>ï¼šæ ¹æ®ä¸šåŠ¡å¯¹æ•°æ®ä¸¢å¤±çš„å®¹å¿åº¦è¿›è¡Œæƒè¡¡é…ç½®ã€‚</p><p><strong>å‚æ•°é€‰é¡¹</strong></p><table><thead><tr><th>é…ç½®å€¼</th><th>å¯é æ€§</th><th>æ€§èƒ½</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>0</code></td><td>æœ€ä½</td><td>æœ€é«˜</td><td>å®æ—¶ç›‘æ§/æ—¥å¿—æ”¶é›†</td></tr><tr><td><code>1</code></td><td>ä¸­ç­‰</td><td>ä¸­ç­‰</td><td>æ™®é€šä¸šåŠ¡åœºæ™¯</td></tr><tr><td><code>all/-1</code></td><td>æœ€é«˜</td><td>æœ€ä½</td><td>é‡‘èäº¤æ˜“/å…³é”®æ•°æ®</td></tr></tbody></table><p><strong>ä¼˜åŒ–å»ºè®®</strong></p><ul><li><strong>å¯é æ€§ä¼˜å…ˆ</strong>ï¼š <ul><li>è®¾ç½®<code>acks=all</code></li><li>é…åˆ<code>min.insync.replicas=2</code></li><li>ç¦ç”¨<code>unclean.leader.election.enable=false</code></li></ul></li><li><strong>æ€§èƒ½ä¼˜å…ˆ</strong>ï¼š <ul><li>é€‰æ‹©<code>acks=0</code>æˆ–<code>1</code></li><li>é€‚å½“é™ä½<code>replication.factor</code>ï¼ˆå¦‚ 2ï¼‰</li></ul></li></ul><p><strong>æ³¨æ„äº‹é¡¹</strong></p><ul><li>å‰¯æœ¬æ•°<code>replication.factor</code>å»ºè®®â‰¥3</li><li>é«˜<code>acks</code>å€¼ä¼šå¢åŠ ç½‘ç»œå’Œå­˜å‚¨å‹åŠ›</li><li>æ–°ç‰ˆ Kafka ä¼˜åŒ–äº†é«˜å¯é æ€§é…ç½®çš„æ€§èƒ½è¡¨ç°</li></ul><h3 id="ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯ä¸ä¸¢å¤±-ğŸŒŸğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯ä¸ä¸¢å¤±-ğŸŒŸğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯ Kafka æ¶ˆæ¯ä¸ä¸¢å¤±ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</h3><p>å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ä¼ è¾“ï¼Œæˆ–è€…è¯´ï¼Œå¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±ï¼Ÿè¿™å¯¹äºä»»ä½• MQ éƒ½æ˜¯æ ¸å¿ƒé—®é¢˜ã€‚</p><p>ä¸€æ¡æ¶ˆæ¯ä»ç”Ÿäº§åˆ°æ¶ˆè´¹ï¼Œå¯ä»¥åˆ’åˆ†ä¸‰ä¸ªé˜¶æ®µï¼š</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070727544.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li><strong>ç”Ÿäº§é˜¶æ®µ</strong>ï¼šProducer åˆ›å»ºæ¶ˆæ¯ï¼Œå¹¶é€šè¿‡ç½‘ç»œå‘é€ç»™ Brokerã€‚</li><li><strong>å­˜å‚¨é˜¶æ®µ</strong>ï¼šBroker æ”¶åˆ°æ¶ˆæ¯å¹¶å­˜å‚¨ï¼Œå¦‚æœæ˜¯é›†ç¾¤ï¼Œè¿˜è¦åŒæ­¥å‰¯æœ¬ç»™å…¶ä»– Brokerã€‚</li><li><strong>æ¶ˆè´¹é˜¶æ®µ</strong>ï¼šConsumer å‘ Broker è¯·æ±‚æ¶ˆæ¯ï¼ŒBroker é€šè¿‡ç½‘ç»œä¼ è¾“ç»™ Consumerã€‚</li></ul><p>è¿™ä¸‰ä¸ªé˜¶æ®µéƒ½å¯èƒ½ä¸¢å¤±æ•°æ®ï¼Œæ‰€ä»¥è¦ä¿è¯æ¶ˆæ¯ä¸¢å¤±ï¼Œå°±éœ€è¦ä»»æ„ä¸€ç¯éƒ½ä¿è¯å¯é ã€‚é€šè¿‡ <strong>ACK+å‰¯æœ¬+å¹‚ç­‰+æ‰‹åŠ¨æäº¤ Offset</strong> çš„ç»„åˆç­–ç•¥ï¼Œå¯ç³»ç»Ÿæ€§è§£å†³æ¶ˆæ¯ä¸¢å¤±é—®é¢˜ã€‚æ ¹æ®ä¸šåŠ¡å¯¹å¯é æ€§å’Œæ€§èƒ½çš„éœ€æ±‚è°ƒæ•´é…ç½®ã€‚</p><ul><li><strong>ç”Ÿäº§è€…ç«¯</strong><ul><li><strong>ACK æœºåˆ¶</strong>ï¼šè®¾ç½® <code>acks=all</code>ï¼Œç¡®ä¿æ‰€æœ‰å‰¯æœ¬æŒä¹…åŒ–åæ‰ç¡®è®¤å‘é€æˆåŠŸã€‚</li><li><strong>å¹‚ç­‰ç”Ÿäº§è€…</strong>ï¼šå¯ç”¨ <code>enable.idempotence=true</code>ï¼Œé¿å…ç½‘ç»œé‡è¯•å¯¼è‡´æ¶ˆæ¯é‡å¤æˆ–ä¸¢å¤±ã€‚</li><li><strong>äº‹åŠ¡æ”¯æŒ</strong>ï¼šè·¨åˆ†åŒºçš„åŸå­æ€§å†™å…¥ï¼ˆ<code>producer.initTransactions()</code>ï¼‰ã€‚</li></ul></li><li><strong>Broker ç«¯</strong><ul><li><strong>å¤šå‰¯æœ¬æœºåˆ¶</strong>ï¼šè®¾ç½® <code>replication.factorâ‰¥3</code>ï¼Œä¿è¯é«˜å¯ç”¨ã€‚</li><li><strong>æœ€å°åŒæ­¥å‰¯æœ¬</strong>ï¼šé…ç½® <code>min.insync.replicasâ‰¥2</code>ï¼Œé˜²æ­¢å•ç‚¹æ•…éšœå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚</li></ul></li><li><strong>æ¶ˆè´¹è€…ç«¯</strong><ul><li><strong>æ‰‹åŠ¨æäº¤ Offset</strong>ï¼šå…³é—­ <code>enable.auto.commit=false</code>ï¼Œå¤„ç†å®Œæ¶ˆæ¯åæ‰‹åŠ¨æäº¤åç§»é‡ã€‚</li><li><strong>æŒä¹…åŒ– Offset</strong>ï¼šå°† Offset å­˜å‚¨åˆ° Kafkaï¼ˆè€Œé Zookeeperï¼‰ï¼Œé¿å…åˆ†åŒºå†å‡è¡¡æ—¶ä¸¢å¤±ã€‚</li></ul></li></ul><p>å…³é”®é…ç½®ï¼š</p><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token comment"># ç”Ÿäº§è€…</span>
<span class="token key attr-name">acks</span><span class="token punctuation">=</span><span class="token value attr-value">all</span>
<span class="token key attr-name">enable.idempotence</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token comment"># Broker</span>
<span class="token key attr-name">replication.factor</span><span class="token punctuation">=</span><span class="token value attr-value">3</span>
<span class="token key attr-name">min.insync.replicas</span><span class="token punctuation">=</span><span class="token value attr-value">2</span>
<span class="token comment"># æ¶ˆè´¹è€…</span>
<span class="token key attr-name">enable.auto.commit</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å­˜å‚¨é˜¶æ®µä¸ä¸¢æ¶ˆæ¯" tabindex="-1"><a class="header-anchor" href="#å­˜å‚¨é˜¶æ®µä¸ä¸¢æ¶ˆæ¯" aria-hidden="true">#</a> å­˜å‚¨é˜¶æ®µä¸ä¸¢æ¶ˆæ¯</h4><p>å­˜å‚¨é˜¶æ®µæŒ‡çš„æ˜¯ Kafka Serverï¼Œä¹Ÿå°±æ˜¯ Broker å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±ã€‚</p><p>ä¸€å¥è¯æ¦‚æ‹¬ï¼Œ<strong>Kafka åªå¯¹â€œå·²æäº¤â€çš„æ¶ˆæ¯ï¼ˆcommitted messageï¼‰åšæœ‰é™åº¦çš„æŒä¹…åŒ–ä¿è¯</strong>ã€‚</p><p>ä¸Šé¢çš„è¯å¯ä»¥è§£è¯»ä¸ºï¼š</p><ul><li><strong>å·²æäº¤</strong>ï¼š<strong>åªæœ‰å½“æ¶ˆæ¯è¢«å†™å…¥åˆ†åŒºçš„è‹¥å¹²åŒæ­¥å‰¯æœ¬æ—¶ï¼Œæ‰è¢«è®¤ä¸ºæ˜¯å·²æäº¤çš„</strong>ã€‚ä¸ºä»€ä¹ˆæ˜¯è‹¥å¹²ä¸ª Broker å‘¢ï¼Ÿè¿™å–å†³äºä½ å¯¹â€œå·²æäº¤â€çš„å®šä¹‰ã€‚ä½ å¯ä»¥é€‰æ‹©åªè¦ Leader æˆåŠŸä¿å­˜è¯¥æ¶ˆæ¯å°±ç®—æ˜¯å·²æäº¤ï¼Œä¹Ÿå¯ä»¥æ˜¯ä»¤æ‰€æœ‰ Broker éƒ½æˆåŠŸä¿å­˜è¯¥æ¶ˆæ¯æ‰ç®—æ˜¯å·²æäº¤ã€‚</li><li><strong>æŒä¹…åŒ–</strong>ï¼šKafka çš„æ•°æ®å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œæ‰€ä»¥åªè¦å†™å…¥æˆåŠŸï¼Œå¤©ç„¶å°±æ˜¯æŒä¹…åŒ–çš„ã€‚</li><li><strong>åªè¦è¿˜æœ‰ä¸€ä¸ªå‰¯æœ¬æ˜¯å­˜æ´»çš„ï¼Œé‚£ä¹ˆå·²æäº¤çš„æ¶ˆæ¯å°±ä¸ä¼šä¸¢å¤±</strong>ã€‚</li><li><strong>æ¶ˆè´¹è€…åªèƒ½è¯»å–å·²æäº¤çš„æ¶ˆæ¯</strong>ã€‚</li></ul><p><strong>Kafka çš„å‰¯æœ¬æœºåˆ¶æ˜¯ kafka å¯é æ€§ä¿è¯çš„æ ¸å¿ƒ</strong>ã€‚</p><p>Kafka çš„ä¸»é¢˜è¢«åˆ†ä¸ºå¤šä¸ªåˆ†åŒºï¼Œåˆ†åŒºæ˜¯åŸºæœ¬çš„æ•°æ®å—ã€‚æ¯ä¸ªåˆ†åŒºå¯ä»¥æœ‰å¤šä¸ªå‰¯æœ¬ï¼Œæœ‰ä¸€ä¸ªæ˜¯ Leaderï¼ˆä¸»å‰¯æœ¬ï¼‰ï¼Œå…¶ä»–æ˜¯ Followerï¼ˆä»å‰¯æœ¬ï¼‰ã€‚æ‰€æœ‰æ•°æ®éƒ½ç›´æ¥å‘é€ç»™ Leaderï¼Œæˆ–è€…ç›´æ¥ä» Leader è¯»å–äº‹ä»¶ã€‚Follower åªéœ€è¦ä¸ Leader ä¿æŒåŒæ­¥ï¼Œå¹¶åŠæ—¶å¤åˆ¶æœ€æ–°çš„æ•°æ®ã€‚å½“ Leader å®•æœºæ—¶ï¼Œä» Follower ä¸­é€‰ä¸¾ä¸€ä¸ªæˆä¸ºæ–°çš„ Leaderã€‚</p><p>Broker æœ‰ 3 ä¸ªé…ç½®å‚æ•°ä¼šå½±å“ Kafka æ¶ˆæ¯å­˜å‚¨çš„å¯é æ€§ã€‚</p><ul><li><strong>å‰¯æœ¬æ•°</strong> - <strong><code>replication.factor</code> çš„ä½œç”¨æ˜¯è®¾ç½®æ¯ä¸ªåˆ†åŒºçš„å‰¯æœ¬æ•°</strong>ã€‚<code>replication.factor</code> æ˜¯ä¸»é¢˜çº§åˆ«é…ç½®ï¼› <code>default.replication.factor</code> æ˜¯ broker çº§åˆ«é…ç½®ã€‚å‰¯æœ¬æ•°è¶Šå¤šï¼Œæ•°æ®å¯é æ€§è¶Šé«˜ï¼›ä½†ç”±äºå‰¯æœ¬æ•°å¢å¤šï¼Œä¹Ÿä¼šå¢åŠ åŒæ­¥å‰¯æœ¬çš„å¼€é”€ï¼Œå¯èƒ½ä¼šé™ä½é›†ç¾¤çš„å¯ç”¨æ€§ã€‚ä¸€èˆ¬ï¼Œå»ºè®®è®¾ä¸º 3ï¼Œè¿™ä¹Ÿæ˜¯ Kafka çš„é»˜è®¤å€¼ã€‚</li><li><strong>ä¸å®Œå…¨çš„é€‰ä¸»</strong> - <code>unclean.leader.election.enable</code> ç”¨äºæ§åˆ¶æ˜¯å¦æ”¯æŒä¸åŒæ­¥çš„å‰¯æœ¬å‚ä¸é€‰ä¸¾ Leaderã€‚<code>unclean.leader.election.enable</code> æ˜¯ broker çº§åˆ«ï¼ˆå®é™…ä¸Šæ˜¯é›†ç¾¤èŒƒå›´å†…ï¼‰é…ç½®ï¼Œé»˜è®¤å€¼ä¸º trueã€‚ <ul><li>å¦‚æœè®¾ä¸º trueï¼Œä»£è¡¨ç€<strong>å…è®¸ä¸åŒæ­¥çš„å‰¯æœ¬æˆä¸ºä¸»å‰¯æœ¬</strong>ï¼ˆå³ä¸å®Œå…¨çš„é€‰ä¸¾ï¼‰ï¼Œé‚£ä¹ˆå°†<strong>é¢ä¸´ä¸¢å¤±æ¶ˆæ¯çš„é£é™©</strong>ï¼›</li><li>å¦‚æœè®¾ä¸º falseï¼Œå°±è¦<strong>ç­‰å¾…åŸå…ˆçš„ä¸»å‰¯æœ¬é‡æ–°ä¸Šçº¿</strong>ï¼Œä»è€Œé™ä½äº†å¯ç”¨æ€§ã€‚</li></ul></li><li><strong>æœ€å°‘åŒæ­¥å‰¯æœ¬</strong> - <strong><code>min.insync.replicas</code> æ§åˆ¶çš„æ˜¯æ¶ˆæ¯è‡³å°‘è¦è¢«å†™å…¥åˆ°å¤šå°‘ä¸ªå‰¯æœ¬æ‰ç®—æ˜¯â€œå·²æäº¤â€</strong>ã€‚<code>min.insync.replicas</code> æ˜¯ä¸»é¢˜çº§åˆ«å’Œ broker çº§åˆ«é…ç½®ã€‚å°½ç®¡å¯ä»¥ä¸ºä¸€ä¸ªä¸»é¢˜é…ç½® 3 ä¸ªå‰¯æœ¬ï¼Œä½†è¿˜æ˜¯å¯èƒ½ä¼šå‡ºç°åªæœ‰ä¸€ä¸ªåŒæ­¥å‰¯æœ¬çš„æƒ…å†µã€‚å¦‚æœè¿™ä¸ªåŒæ­¥å‰¯æœ¬å˜ä¸ºä¸å¯ç”¨ï¼Œåˆ™å¿…é¡»åœ¨å¯ç”¨æ€§å’Œæ•°æ®ä¸€è‡´æ€§ä¹‹é—´åšå‡ºé€‰æ‹©ã€‚Kafka ä¸­ï¼Œæ¶ˆæ¯åªæœ‰è¢«å†™å…¥åˆ°æ‰€æœ‰çš„åŒæ­¥å‰¯æœ¬ä¹‹åæ‰è¢«è®¤ä¸ºæ˜¯å·²æäº¤çš„ã€‚ä½†å¦‚æœåªæœ‰ä¸€ä¸ªåŒæ­¥å‰¯æœ¬ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªå‰¯æœ¬ä¸å¯ç”¨æ—¶ï¼Œåˆ™æ•°æ®å°±ä¼šä¸¢å¤±ã€‚ <ul><li>å¦‚æœè¦ç¡®ä¿å·²ç»æäº¤çš„æ•°æ®è¢«å·²å†™å…¥ä¸æ­¢ä¸€ä¸ªå‰¯æœ¬ï¼Œå°±éœ€è¦æŠŠæœ€å°åŒæ­¥å‰¯æœ¬çš„è®¾ç½®ä¸ºå¤§ä¸€ç‚¹çš„å€¼ã€‚</li><li>æ³¨æ„ï¼šè¦ç¡®ä¿ <code>replication.factor</code> &gt; <code>min.insync.replicas</code>ã€‚å¦‚æœä¸¤è€…ç›¸ç­‰ï¼Œé‚£ä¹ˆåªè¦æœ‰ä¸€ä¸ªå‰¯æœ¬æŒ‚æœºï¼Œæ•´ä¸ªåˆ†åŒºå°±æ— æ³•æ­£å¸¸å·¥ä½œäº†ã€‚æˆ‘ä»¬ä¸ä»…è¦æ”¹å–„æ¶ˆæ¯çš„æŒä¹…æ€§ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ï¼Œè¿˜è¦åœ¨ä¸é™ä½å¯ç”¨æ€§çš„åŸºç¡€ä¸Šå®Œæˆã€‚æ¨èè®¾ç½®æˆ <code>replication.factor = min.insync.replicas + 1</code>ã€‚</li></ul></li></ul><h4 id="ç”Ÿäº§é˜¶æ®µä¸ä¸¢æ¶ˆæ¯" tabindex="-1"><a class="header-anchor" href="#ç”Ÿäº§é˜¶æ®µä¸ä¸¢æ¶ˆæ¯" aria-hidden="true">#</a> ç”Ÿäº§é˜¶æ®µä¸ä¸¢æ¶ˆæ¯</h4><p>åœ¨ç”Ÿäº§æ¶ˆæ¯é˜¶æ®µï¼Œæ¶ˆæ¯é˜Ÿåˆ—ä¸€èˆ¬é€šè¿‡è¯·æ±‚ç¡®è®¤æœºåˆ¶ï¼Œæ¥ä¿è¯æ¶ˆæ¯çš„å¯é ä¼ é€’ï¼ŒKafka ä¹Ÿä¸ä¾‹å¤–ã€‚</p><p>Kafka æœ‰ä¸‰ç§å‘é€æ–¹å¼ï¼šåŒæ­¥ã€å¼‚æ­¥ã€å¼‚æ­¥å›è°ƒã€‚åŒæ­¥æ–¹å¼èƒ½ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±ï¼Œä½†æ€§èƒ½å¤ªå·®ï¼›å¼‚æ­¥æ–¹å¼å‘é€æ¶ˆæ¯ï¼Œé€šå¸¸ä¼šç«‹å³è¿”å›ï¼Œä½†æ¶ˆæ¯å¯èƒ½ä¸¢å¤±ã€‚</p><p>è§£å†³ç”Ÿäº§è€…ä¸¢å¤±æ¶ˆæ¯çš„æ–¹æ¡ˆï¼š</p><p>ç”Ÿäº§è€…ä½¿ç”¨å¼‚æ­¥å›è°ƒæ–¹å¼ <code>producer.send(msg, callback)</code> å‘é€æ¶ˆæ¯ã€‚callbackï¼ˆå›è°ƒï¼‰èƒ½å‡†ç¡®åœ°å‘Šè¯‰ä½ æ¶ˆæ¯æ˜¯å¦çœŸçš„æäº¤æˆåŠŸäº†ã€‚ä¸€æ—¦å‡ºç°æ¶ˆæ¯æäº¤å¤±è´¥çš„æƒ…å†µï¼Œä½ å°±å¯ä»¥æœ‰é’ˆå¯¹æ€§åœ°è¿›è¡Œå¤„ç†ã€‚</p><ul><li>å¦‚æœæ˜¯å› ä¸ºé‚£äº›ç¬æ—¶é”™è¯¯ï¼Œé‚£ä¹ˆä»…ä»…è®© Producer é‡è¯•å°±å¯ä»¥äº†ï¼›</li><li>å¦‚æœæ˜¯æ¶ˆæ¯ä¸åˆæ ¼é€ æˆçš„ï¼Œé‚£ä¹ˆå¯ä»¥è°ƒæ•´æ¶ˆæ¯æ ¼å¼åå†æ¬¡å‘é€ã€‚</li></ul><p>ç„¶åï¼Œéœ€è¦åŸºäºä»¥ä¸‹å‡ ç‚¹æ¥ä¿è¯ Kafka ç”Ÿäº§è€…çš„å¯é æ€§ï¼š</p><ul><li><strong>ACK</strong> - ç”Ÿäº§è€…å¯é€‰çš„ç¡®è®¤æ¨¡å¼æœ‰ä¸‰ç§ï¼š<code>acks=0</code>ã€<code>acks=1</code>ã€<code>acks=all</code>ã€‚ <ul><li><code>acks=0</code>ã€<code>acks=1</code> éƒ½æœ‰ä¸¢å¤±æ•°æ®çš„é£é™©ã€‚</li><li><code>acks=all</code> æ„å‘³ç€ä¼šç­‰å¾…æ‰€æœ‰åŒæ­¥å‰¯æœ¬éƒ½æ”¶åˆ°æ¶ˆæ¯ã€‚å†ç»“åˆ <code>min.insync.replicas</code> ï¼Œå°±å¯ä»¥å†³å®šåœ¨å¾—åˆ°ç¡®è®¤å“åº”å‰ï¼Œè‡³å°‘æœ‰å¤šå°‘å‰¯æœ¬èƒ½å¤Ÿæ”¶åˆ°æ¶ˆæ¯ã€‚è¿™æ˜¯æœ€ä¿é™©çš„åšæ³•ï¼Œä½†ä¹Ÿä¼šé™ä½ååé‡ã€‚</li></ul></li><li><strong>é‡è¯•</strong> - å¦‚æœ broker è¿”å›çš„é”™è¯¯å¯ä»¥é€šè¿‡<strong>é‡è¯•</strong>æ¥è§£å†³ï¼Œç”Ÿäº§è€…ä¼šè‡ªåŠ¨å¤„ç†è¿™äº›é”™è¯¯ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæœ‰æ—¶å¯èƒ½å› ä¸ºç½‘ç»œé—®é¢˜å¯¼è‡´æ²¡æœ‰æ”¶åˆ°ç¡®è®¤ï¼Œä½†å®é™…ä¸Šæ¶ˆæ¯å·²ç»å†™å…¥æˆåŠŸã€‚ç”Ÿäº§è€…ä¼šè®¤ä¸ºå‡ºç°ä¸´æ—¶æ•…éšœï¼Œé‡è¯•å‘é€æ¶ˆæ¯ï¼Œè¿™æ ·å°±ä¼šå‡ºç°é‡å¤è®°å½•ã€‚æ‰€ä»¥ï¼Œå°½å¯èƒ½åœ¨ä¸šåŠ¡ä¸Šä¿è¯å¹‚ç­‰æ€§ã€‚è®¾ç½® <code>retries</code> ä¸ºä¸€ä¸ªè¾ƒå¤§çš„å€¼ã€‚è¿™é‡Œçš„ <code>retries</code> åŒæ ·æ˜¯ Producer çš„å‚æ•°ï¼Œå¯¹åº”å‰é¢æåˆ°çš„ Producer è‡ªåŠ¨é‡è¯•ã€‚å½“å‡ºç°ç½‘ç»œçš„ç¬æ—¶æŠ–åŠ¨æ—¶ï¼Œæ¶ˆæ¯å‘é€å¯èƒ½ä¼šå¤±è´¥ï¼Œæ­¤æ—¶é…ç½®äº† retries &gt; 0 çš„ Producer èƒ½å¤Ÿè‡ªåŠ¨é‡è¯•æ¶ˆæ¯å‘é€ï¼Œé¿å…æ¶ˆæ¯ä¸¢å¤±ã€‚ <ul><li><strong>å¯é‡è¯•é”™è¯¯</strong>ï¼Œå¦‚ï¼š<code>LEADER_NOT_AVAILABLE</code>ï¼Œä¸»å‰¯æœ¬ä¸å¯ç”¨ï¼Œå¯èƒ½è¿‡ä¸€æ®µæ—¶é—´ï¼Œé›†ç¾¤å°±ä¼šé€‰ä¸¾å‡ºæ–°çš„ä¸»å‰¯æœ¬ï¼Œé‡è¯•å¯ä»¥è§£å†³é—®é¢˜ã€‚</li><li><strong>ä¸å¯é‡è¯•é”™è¯¯</strong>ï¼Œå¦‚ï¼š<code>INVALID_CONFIG</code>ï¼Œå³ä½¿é‡è¯•ï¼Œä¹Ÿæ— æ³•æ”¹å˜é…ç½®é€‰é¡¹ï¼Œé‡è¯•æ²¡æœ‰æ„ä¹‰ã€‚</li></ul></li><li><strong>é”™è¯¯å¤„ç†</strong> - å¼€å‘è€…éœ€è¦è‡ªè¡Œå¤„ç†çš„é”™è¯¯ï¼š <ul><li>ä¸å¯é‡è¯•çš„ broker é”™è¯¯ï¼Œå¦‚æ¶ˆæ¯å¤§å°é”™è¯¯ã€è®¤è¯é”™è¯¯ç­‰ï¼›</li><li>æ¶ˆæ¯å‘é€å‰å‘ç”Ÿçš„é”™è¯¯ï¼Œå¦‚åºåˆ—åŒ–é”™è¯¯ï¼›</li><li>ç”Ÿäº§è€…è¾¾åˆ°é‡è¯•æ¬¡æ•°ä¸Šé™æˆ–æ¶ˆæ¯å ç”¨çš„å†…å­˜è¾¾åˆ°ä¸Šé™æ—¶å‘ç”Ÿçš„é”™è¯¯ã€‚</li></ul></li></ul><h4 id="æ¶ˆè´¹é˜¶æ®µä¸ä¸¢æ¶ˆæ¯" tabindex="-1"><a class="header-anchor" href="#æ¶ˆè´¹é˜¶æ®µä¸ä¸¢æ¶ˆæ¯" aria-hidden="true">#</a> æ¶ˆè´¹é˜¶æ®µä¸ä¸¢æ¶ˆæ¯</h4><p>å‰æ–‡å·²ç»æåˆ°ï¼Œ<strong>æ¶ˆè´¹è€…åªèƒ½è¯»å–å·²æäº¤çš„æ¶ˆæ¯</strong>ã€‚è¿™å°±ä¿è¯äº†æ¶ˆè´¹è€…æ¥æ”¶åˆ°æ¶ˆæ¯æ—¶å·²ç»å…·å¤‡äº†æ•°æ®ä¸€è‡´æ€§ã€‚</p><p>æ¶ˆè´¹è€…å”¯ä¸€è¦åšçš„æ˜¯ç¡®ä¿å“ªäº›æ¶ˆæ¯æ˜¯å·²ç»è¯»å–è¿‡çš„ï¼Œå“ªäº›æ˜¯æ²¡æœ‰è¯»å–è¿‡çš„ï¼ˆé€šè¿‡æäº¤åç§»é‡ç»™ Broker æ¥ç¡®è®¤ï¼‰ã€‚å¦‚æœæ¶ˆè´¹è€…æäº¤äº†åç§»é‡å´æœªèƒ½å¤„ç†å®Œæ¶ˆæ¯ï¼Œé‚£ä¹ˆå°±æœ‰å¯èƒ½é€ æˆæ¶ˆæ¯ä¸¢å¤±ï¼Œè¿™ä¹Ÿæ˜¯æ¶ˆè´¹è€…ä¸¢å¤±æ¶ˆæ¯çš„ä¸»è¦åŸå› ã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20200727140159.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ¶ˆè´¹è€…çš„å¯é æ€§é…ç½®ï¼š</p><ul><li><code>group.id</code> - å¦‚æœå¸Œæœ›æ¶ˆè´¹è€…å¯ä»¥çœ‹åˆ°ä¸»é¢˜çš„æ‰€æœ‰æ¶ˆæ¯ï¼Œé‚£ä¹ˆéœ€è¦ä¸ºå®ƒä»¬è®¾ç½®å”¯ä¸€çš„ <code>group.id</code>ã€‚</li><li><code>auto.offset.reset</code> - æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼š <ul><li><code>earliest</code> - æ¶ˆè´¹è€…ä¼šä»åˆ†åŒºçš„å¼€å§‹ä½ç½®è¯»å–æ•°æ®</li><li><code>latest</code> - æ¶ˆè´¹è€…ä¼šä»åˆ†åŒºæœ«å°¾ä½ç½®è¯»å–æ•°æ®</li></ul></li><li><code>enable.auto.commit</code> - æ¶ˆè´¹è€…è‡ªåŠ¨æäº¤åç§»é‡ã€‚å¦‚æœè®¾ä¸º trueï¼Œå¤„ç†æµç¨‹æ›´ç®€å•ï¼Œä½†æ— æ³•ä¿è¯é‡å¤å¤„ç†æ¶ˆæ¯ã€‚</li><li><code>auto.commit.interval.ms</code> - è‡ªåŠ¨æäº¤çš„é¢‘ç‡ï¼Œé»˜è®¤ä¸ºæ¯ 5 ç§’æäº¤ä¸€æ¬¡ã€‚</li></ul><p>å¦‚æœ <code>enable.auto.commit</code> è®¾ä¸º trueï¼Œå³è‡ªåŠ¨æäº¤ï¼Œå°±æ— éœ€è€ƒè™‘æäº¤åç§»é‡çš„é—®é¢˜ã€‚</p><p>å¦‚æœé€‰æ‹©æ˜¾ç¤ºæäº¤åç§»é‡ï¼Œéœ€è¦è€ƒè™‘ä»¥ä¸‹é—®é¢˜ï¼š</p><ul><li>å¿…é¡»åœ¨å¤„ç†å®Œæ¶ˆæ¯åå†å‘é€ç¡®è®¤ï¼ˆæäº¤åç§»é‡ï¼‰ï¼Œä¸è¦æ”¶åˆ°æ¶ˆæ¯ç«‹å³ç¡®è®¤ã€‚</li><li>æäº¤é¢‘ç‡æ˜¯æ€§èƒ½å’Œé‡å¤æ¶ˆæ¯æ•°ä¹‹é—´çš„æƒè¡¡</li><li>åˆ†åŒºå†å‡è¡¡</li><li>æ¶ˆè´¹å¯èƒ½éœ€è¦é‡è¯•æœºåˆ¶</li><li>è¶…æ—¶å¤„ç†</li><li>æ¶ˆè´¹è€…å¯èƒ½éœ€è¦ç»´æŠ¤æ¶ˆè´¹çŠ¶æ€ï¼Œå¦‚ï¼šå¤„ç†å®Œæ¶ˆæ¯åï¼Œè®°å½•åœ¨æ•°æ®åº“ä¸­ã€‚</li><li>å¹‚ç­‰æ€§è®¾è®¡ <ul><li>å†™æ•°æ®åº“ï¼šæ ¹æ®ä¸»é”®åˆ¤æ–­è®°å½•æ˜¯å¦å­˜åœ¨</li><li>å†™ Redisï¼šset æ“ä½œå¤©ç„¶å…·æœ‰å¹‚ç­‰æ€§</li><li>å¤æ‚çš„é€»è¾‘å¤„ç†ï¼Œåˆ™å¯ä»¥åœ¨æ¶ˆæ¯ä¸­åŠ å…¥å…¨å±€ ID</li></ul></li></ul><h3 id="ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯ä¸é‡å¤-ğŸŒŸğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯ä¸é‡å¤-ğŸŒŸğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯ Kafka æ¶ˆæ¯ä¸é‡å¤ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</h3><p>åœ¨ MQTT åè®®ä¸­ï¼Œç»™å‡ºäº†ä¸‰ç§ä¼ é€’æ¶ˆæ¯æ—¶èƒ½å¤Ÿæä¾›çš„æœåŠ¡è´¨é‡æ ‡å‡†ï¼Œè¿™ä¸‰ç§æœåŠ¡è´¨é‡ä»ä½åˆ°é«˜ä¾æ¬¡æ˜¯ï¼š</p><ul><li><strong>At most once</strong>ï¼šè‡³å¤šä¸€æ¬¡ã€‚æ¶ˆæ¯åœ¨ä¼ é€’æ—¶ï¼Œæœ€å¤šä¼šè¢«é€è¾¾ä¸€æ¬¡ã€‚æ¢ä¸€ä¸ªè¯´æ³•å°±æ˜¯ï¼Œæ²¡ä»€ä¹ˆæ¶ˆæ¯å¯é æ€§ä¿è¯ï¼Œå…è®¸ä¸¢æ¶ˆæ¯ã€‚ä¸€èˆ¬éƒ½æ˜¯ä¸€äº›å¯¹æ¶ˆæ¯å¯é æ€§è¦æ±‚ä¸å¤ªé«˜çš„ç›‘æ§åœºæ™¯ä½¿ç”¨ï¼Œæ¯”å¦‚æ¯åˆ†é’Ÿä¸ŠæŠ¥ä¸€æ¬¡æœºæˆ¿æ¸©åº¦æ•°æ®ï¼Œå¯ä»¥æ¥å—æ•°æ®å°‘é‡ä¸¢å¤±ã€‚</li><li><strong>At least once</strong>: è‡³å°‘ä¸€æ¬¡ã€‚æ¶ˆæ¯åœ¨ä¼ é€’æ—¶ï¼Œè‡³å°‘ä¼šè¢«é€è¾¾ä¸€æ¬¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å…è®¸ä¸¢æ¶ˆæ¯ï¼Œä½†æ˜¯å…è®¸æœ‰å°‘é‡é‡å¤æ¶ˆæ¯å‡ºç°ã€‚</li><li><strong>Exactly once</strong>ï¼šæ°å¥½ä¸€æ¬¡ã€‚æ¶ˆæ¯åœ¨ä¼ é€’æ—¶ï¼Œåªä¼šè¢«é€è¾¾ä¸€æ¬¡ï¼Œä¸å…è®¸ä¸¢å¤±ä¹Ÿä¸å…è®¸é‡å¤ï¼Œè¿™ä¸ªæ˜¯æœ€é«˜çš„ç­‰çº§ã€‚</li></ul><p>ç»å¤§éƒ¨åˆ†æ¶ˆæ¯é˜Ÿåˆ—æä¾›çš„æœåŠ¡è´¨é‡éƒ½æ˜¯ At least onceï¼ŒåŒ…æ‹¬ RocketMQã€RabbitMQ å’Œ Kafka éƒ½æ˜¯è¿™æ ·ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¶ˆæ¯é˜Ÿåˆ—å¾ˆéš¾ä¿è¯æ¶ˆæ¯ä¸é‡å¤ã€‚</p><p>ä¸€èˆ¬è§£å†³é‡å¤æ¶ˆæ¯çš„åŠæ³•æ˜¯ï¼Œåœ¨æ¶ˆè´¹ç«¯ï¼Œ<strong>ä¿è¯æ¶ˆè´¹æ¶ˆæ¯çš„æ“ä½œå…·å¤‡å¹‚ç­‰æ€§</strong>ã€‚</p><p><strong>å¹‚ç­‰</strong>ï¼ˆidempotentã€idempotenceï¼‰æ˜¯ä¸€ä¸ªæ•°å­¦ä¸è®¡ç®—æœºå­¦æ¦‚å¿µï¼ŒæŒ‡çš„æ˜¯ï¼š<strong>ä¸€ä¸ªå¹‚ç­‰æ“ä½œçš„ç‰¹ç‚¹æ˜¯å…¶ä»»æ„å¤šæ¬¡æ‰§è¡Œæ‰€äº§ç”Ÿçš„å½±å“å‡ä¸ä¸€æ¬¡æ‰§è¡Œçš„å½±å“ç›¸åŒã€‚</strong></p><p>å¸¸ç”¨çš„å®ç°å¹‚ç­‰æ“ä½œçš„æ–¹æ³•ï¼š</p><ul><li><strong>æ¶ˆè´¹è€…å¹‚ç­‰å¤„ç†</strong><ul><li>å­˜å‚¨å·²å¤„ç†æ¶ˆæ¯ IDï¼ˆå¦‚ offset/ä¸šåŠ¡ IDï¼‰åˆ° DB/Redisï¼Œå¤„ç†å‰æ ¡éªŒå»é‡ã€‚</li><li><em>ä¼˜ç‚¹</em>ï¼šå®ç°ç®€å•ï¼›<em>ç¼ºç‚¹</em>ï¼šä¾èµ–å¤–éƒ¨å­˜å‚¨æ€§èƒ½ã€‚</li></ul></li><li><strong>Kafka å¹‚ç­‰æ€§ä¸äº‹åŠ¡</strong><ul><li><strong>ç”Ÿäº§è€…</strong>ï¼šå¯ç”¨<code>enable.idempotence=true</code>ï¼Œé¿å…ç½‘ç»œé‡è¯•å¯¼è‡´é‡å¤ã€‚</li><li><strong>æ¶ˆè´¹è€…</strong>ï¼šé…åˆäº‹åŠ¡æäº¤ Offsetï¼Œç¡®ä¿&quot;ç²¾ç¡®ä¸€æ¬¡&quot;å¤„ç†ã€‚</li><li><em>è¦æ±‚</em>ï¼šéœ€ Kafka 0.11+ç‰ˆæœ¬æ”¯æŒã€‚</li></ul></li><li><strong>ä¸šåŠ¡é€»è¾‘å»é‡</strong><ul><li>è®¾è®¡å¤©ç„¶å¹‚ç­‰æ“ä½œï¼ˆå¦‚è®¢å•çŠ¶æ€æ›´æ–°ï¼š&quot;SET status=paid&quot;ï¼‰ã€‚</li><li><em>ä¼˜åŠ¿</em>ï¼šé«˜æ€§èƒ½ï¼›<em>æŒ‘æˆ˜</em>ï¼šéœ€æ·±åº¦ç†è§£ä¸šåŠ¡ã€‚</li></ul></li></ul><h3 id="ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯æœ‰åº-ğŸŒŸğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯-kafka-æ¶ˆæ¯æœ‰åº-ğŸŒŸğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘å¦‚ä½•ä¿è¯ Kafka æ¶ˆæ¯æœ‰åºï¼ŸğŸŒŸğŸŒŸğŸŒŸ</h3><p><strong>å¯¹æ¶ˆæ¯æœ‰åºæœ‰è¦æ±‚çš„åœºæ™¯</strong></p><table><thead><tr><th style="text-align:left;"><strong>åœºæ™¯</strong></th><th style="text-align:left;"><strong>é¡ºåºæ€§è¦æ±‚ç¤ºä¾‹</strong></th></tr></thead><tbody><tr><td style="text-align:left;">é‡‘èäº¤æ˜“</td><td style="text-align:left;">è½¬è´¦æŒ‡ä»¤å¿…é¡»æŒ‰ <code>å¼€æˆ·â†’å­˜æ¬¾â†’è½¬è´¦</code> é¡ºåºæ‰§è¡Œ</td></tr><tr><td style="text-align:left;">æ—¥å¿—èšåˆ</td><td style="text-align:left;">é”™è¯¯æ—¥å¿—éœ€æŒ‰æ—¶é—´é¡ºåºæ’åˆ—ï¼š<code>å¯åŠ¨â†’è¿è¡Œâ†’å¼‚å¸¸â†’ç»ˆæ­¢</code></td></tr><tr><td style="text-align:left;">åº“å­˜ç®¡ç†</td><td style="text-align:left;">æ“ä½œé¡ºåºå¿…é¡»ä¸º <code>å…¥åº“â†’å‡ºåº“â†’ç›˜ç‚¹</code>ï¼Œå¦åˆ™åº“å­˜æ•°æ®ä¸ä¸€è‡´</td></tr><tr><td style="text-align:left;">æµåª’ä½“</td><td style="text-align:left;">è§†é¢‘å¸§éœ€æŒ‰ <code>I å¸§â†’P å¸§â†’B å¸§</code> é¡ºåºä¼ è¾“ï¼Œå¦åˆ™è§£ç å¤±è´¥</td></tr></tbody></table><p>Kafka æä¾›äº†<strong>æœ‰é™åº¦çš„é¡ºåºæ€§ä¿è¯</strong>ï¼Œå…·ä½“æ¥è¯´ï¼š</p><ul><li>åœ¨åŒä¸€ä¸ªåˆ†åŒºå†…ï¼Œæ¶ˆæ¯æ˜¯æœ‰åºçš„ã€‚</li><li>é æ¶ˆæ¯é”®å°†ç›¸å…³æ¶ˆæ¯åˆ†é…åˆ°åŒä¸€åˆ†åŒºï¼Œå¯ä»¥ä¿è¯è¿™äº›æ¶ˆæ¯åœ¨åŒä¸€åˆ†åŒºå†…ä¾ç„¶æœ‰åºã€‚</li></ul><p><strong>å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„ä¸¥æ ¼é¡ºåºæ€§</strong></p><ul><li><strong>åˆ†åŒº</strong>ï¼šç¡®ä¿ç”Ÿäº§è€…å°†åŒä¸€ç±»å‹çš„æ¶ˆæ¯å‘é€åˆ°ç‰¹å®šåˆ†åŒºã€‚Kafka ä¿è¯ä¸€ä¸ªåˆ†åŒºå†…çš„æ¶ˆæ¯æ˜¯æŒ‰é¡ºåºå­˜å‚¨å’Œæ¶ˆè´¹çš„ã€‚</li><li><strong>æ¶ˆæ¯é”®</strong>ï¼šä½¿ç”¨æ¶ˆæ¯é”®ï¼ˆKeyï¼‰æ¥æ§åˆ¶æ¶ˆæ¯çš„åˆ†åŒºã€‚ç›¸åŒçš„ Key æ€»æ˜¯è¢«è·¯ç”±åˆ°åŒä¸€ä¸ªåˆ†åŒºï¼Œä»è€Œä¿è¯äº†å…·æœ‰ç›¸åŒ Key çš„æ¶ˆæ¯é¡ºåºã€‚</li><li><strong>å•ç”Ÿäº§è€…çº¿ç¨‹</strong>ï¼šç¡®ä¿ç”Ÿäº§è€…æ˜¯å•çº¿ç¨‹çš„æˆ–ä½¿ç”¨æœ‰åºçš„å‘é€æœºåˆ¶ï¼Œè¿™æ ·å°±ä¸ä¼šå› å¤šçº¿ç¨‹çš„å¹¶å‘å‘é€è€Œæ‰“ä¹±é¡ºåºã€‚</li><li><strong>ç”Ÿäº§è€…ä¸­çš„åˆ†åŒºå™¨</strong>ï¼šKafka çš„è‡ªå®šä¹‰åˆ†åŒºå™¨å¯ä»¥ç¡®ä¿ç›¸åŒ Key çš„æ¶ˆæ¯å§‹ç»ˆå‘é€åˆ°åŒä¸€ä¸ªåˆ†åŒºã€‚</li></ul><p><strong>é«˜å¹¶å‘åœºæ™¯ä¸‹å¦‚ä½•ä¼˜åŒ–é¡ºåºæ¶ˆè´¹</strong></p><ul><li><strong>å¹¶è¡Œå¤„ç†</strong>ï¼šåœ¨æ¶ˆè´¹ç«¯ï¼Œå¯ä»¥é€šè¿‡æ‹†åˆ†æ­¥éª¤æ¥å¹¶è¡Œå¤„ç†éƒ¨åˆ†æ— é¡ºåºä¾èµ–çš„é€»è¾‘ï¼Œä»è€Œæé«˜æ•´ä½“ååé‡ã€‚</li><li><strong>å¼‚æ­¥å¤„ç†</strong>ï¼šåˆ©ç”¨å¼‚æ­¥å¤„ç†æœºåˆ¶å¤„ç†æ¶ˆæ¯ï¼Œä½†éœ€è¦ç¡®ä¿æ¶ˆæ¯çš„æ ¸å¿ƒé€»è¾‘æ˜¯é¡ºåºæ‰§è¡Œçš„ï¼Œä»è€Œä¿è¯é¡ºåºã€‚</li><li><strong>å¤šçº¿ç¨‹æ¶ˆè´¹</strong>ï¼šåœ¨ä¸åŒæ¶ˆè´¹ç»„ä¸­æ ¹æ®åˆ†åŒºå¹¶è¡Œæ¶ˆè´¹ï¼Œä½†ä»éœ€æ¯ä¸ªåˆ†åŒºå†…çš„æ¶ˆè´¹çº¿ç¨‹æŒ‰ç…§é¡ºåºå¤„ç†æ¶ˆæ¯ã€‚</li></ul><p><strong>å…³é”®æœºåˆ¶</strong></p><ul><li><strong>åˆ†åŒºæœºåˆ¶</strong>ï¼šåœ¨ Kafka ä¸­ï¼Œæ¯ä¸ª Topic éƒ½å¯ä»¥é…ç½®ä¸ºå¤šä¸ªåˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºéƒ½æ˜¯ä¸€ä¸ªæœ‰åºçš„ã€ä¸å¯å˜çš„æ¶ˆæ¯æ—¥å¿—ã€‚ç”Ÿäº§è€…åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œå¯ä»¥æŒ‡å®šæ¶ˆæ¯çš„é”®ï¼ˆKeyï¼‰ï¼ŒKafka æ ¹æ®è¿™ä¸ªé”®æ¥è¿›è¡Œå“ˆå¸Œè¿ç®—ï¼Œå°†æ¶ˆæ¯å†™å…¥ç›¸åº”çš„åˆ†åŒºã€‚åŒä¸€é”®çš„æ¶ˆæ¯æ€»ä¼šè¢«å†™å…¥åˆ°åŒä¸€ä¸ªåˆ†åŒºï¼Œè¿™æ ·å°±ä¿è¯äº†åŒä¸€é”®çš„æ¶ˆæ¯åœ¨åŒä¸€ä¸ªåˆ†åŒºå†…æ˜¯æœ‰åºçš„ã€‚</li><li><strong>æ¶ˆæ¯é”®å’Œåˆ†åŒºç­–ç•¥</strong>ï¼šå½“ç”Ÿäº§è€…å‘é€æ¶ˆæ¯æ—¶ï¼Œå¯ä»¥é€šè¿‡é…ç½®åˆ†åŒºç­–ç•¥ï¼ˆPartitionerï¼‰å†³å®šæ¶ˆæ¯å»å“ªä¸ªåˆ†åŒºã€‚é»˜è®¤çš„åˆ†åŒºç­–ç•¥æ˜¯åŸºäºæ¶ˆæ¯é”®çš„å“ˆå¸Œå€¼ï¼Œæ¯”å¦‚ <code>hash(key) mod partitionNum</code> ã€‚é€šè¿‡è¿™ç§ç­–ç•¥ï¼Œå¯ä»¥ç¡®ä¿ç›¸åŒé”®çš„æ¶ˆæ¯è¢«å‘é€åˆ°åŒä¸€ä¸ªåˆ†åŒºï¼Œä»è€Œä¿è¯å®ƒä»¬çš„é¡ºåºæ€§ã€‚</li><li><strong>æ¶ˆè´¹ç«¯çš„é¡ºåºä¿è¯</strong>ï¼šæ¶ˆè´¹è€…åœ¨æ¶ˆè´¹æ¶ˆæ¯æ—¶ï¼ŒåŒä¸€ä¸ªæ¶ˆè´¹è€…çº¿ç¨‹åªèƒ½åŒæ—¶æ¶ˆè´¹ä¸€ä¸ªåˆ†åŒºçš„æ¶ˆæ¯ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ¶ˆè´¹ç«¯åœ¨å¤„ç†æŸä¸ªåˆ†åŒºå†…çš„æ¶ˆæ¯æ—¶æ˜¯æŒ‰é¡ºåºçš„ã€‚å¦‚æœ Kafka é›†ç¾¤ä¸­æ²¡æœ‰è¶³å¤Ÿçš„æ¶ˆè´¹è€…çº¿ç¨‹ï¼ŒæŸä¸ªæ¶ˆè´¹è€…çº¿ç¨‹å¯èƒ½éœ€è¦åŒæ—¶æ¶ˆè´¹å¤šä¸ªåˆ†åŒºçš„æ¶ˆæ¯ï¼Œä½†è¿™äº›åˆ†åŒºä¹‹é—´çš„é¡ºåºæ˜¯æ— æ³•ä¿è¯çš„ã€‚</li><li><strong>é¡ºåºæ€§åœ¨é«˜å¯ç”¨ç¯å¢ƒä¸‹çš„æŒ‘æˆ˜</strong>ï¼šå½“ Kafka åˆ†åŒºçš„ Leader å‘ç”Ÿåˆ‡æ¢æ—¶ï¼Œå¯èƒ½ä¼šæœ‰çŸ­æ—¶é—´çš„æ•°æ®ä¸ä¸€è‡´ã€‚å¦‚æœå¤„ç†ä¸å½“ï¼Œå¯èƒ½ä¼šå½±å“é¡ºåºæ€§ä¿è¯ã€‚Kafka é€šè¿‡ä¿æŒåˆ†åŒºå‰¯æœ¬ï¼ˆReplicaï¼‰çš„ä¸€è‡´æ€§ï¼Œå¹¶åœ¨é‡æ–°é€‰ä¸¾ Leader æ—¶ç¡®ä¿æ–° Leader ä»æœ€æ–°çš„æ•°æ®ç‚¹å¼€å§‹å¤„ç†ï¼Œå°½é‡å‡å°‘é¡ºåºæ€§çš„æŸå¤±ã€‚</li></ul><p>æœ€ä½³å®è·µ</p><ul><li><strong>ç”Ÿäº§è€…ä¼˜åŒ–</strong><ul><li>æ‰¹é‡å‘é€ï¼šåœ¨ä¿è¯é¡ºåºçš„å‰æä¸‹ï¼Œå°½é‡ä½¿ç”¨æ‰¹é‡å‘é€æ¥æé«˜ååé‡ã€‚</li><li>å¹‚ç­‰æ€§ï¼ˆIdempotenceï¼‰ï¼šKafka ç”Ÿäº§è€…æ”¯æŒå¹‚ç­‰æ€§ï¼Œç¡®ä¿æ¶ˆæ¯ä¸ä¼šå› ä¸ºé‡è¯•è€Œå¯¼è‡´é‡å¤ã€‚å¼€å¯å¹‚ç­‰æ€§å¯ä»¥è¿›ä¸€æ­¥ä¿è¯æ¶ˆæ¯é¡ºåºçš„ä¸€è‡´æ€§ã€‚</li></ul></li><li><strong>æ¶ˆè´¹è€…ä¼˜åŒ–</strong><ul><li>æ‰‹å·¥æäº¤æ¶ˆè´¹ä½ç§»ï¼šå¯ä»¥é€‰æ‹©åœ¨æ¶ˆè´¹æ¯ä¸€æ‰¹æ¶ˆæ¯åï¼Œæ‰‹å·¥æäº¤æ¶ˆè´¹ä½ç§»ï¼Œè¿™æ ·å¯ä»¥å¯¹æŸäº›æ¶ˆæ¯è¿›è¡Œé‡è¯•å¤„ç†ï¼Œç¡®ä¿æŒ‰åºæ¶ˆè´¹ã€‚</li><li>äº‹åŠ¡æ€§æ¶ˆè´¹ï¼šä½¿ç”¨ Kafka çš„äº‹åŠ¡æ€§æ”¯æŒï¼Œæ¶ˆè´¹è€…å¯ä»¥ç¡®ä¿ä¸€ç»„æ¶ˆæ¯è¦ä¹ˆå…¨éƒ¨å¤„ç†æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å›æ»šï¼Œè¿™åœ¨å¤„ç†æ‰¹é‡æ¶ˆæ¯æ—¶ä¿è¯é¡ºåºæ€§éå¸¸æœ‰æ•ˆã€‚</li><li>åç§»é‡ç®¡ç†ï¼šåˆç†ç®¡ç†å’Œæäº¤åç§»é‡ï¼ˆOffsetï¼‰ï¼Œç¡®ä¿åœ¨å‡ºç°é”™è¯¯æˆ–é‡å¯æ—¶èƒ½ç»§ç»­ä¿æŒé¡ºåºæ¶ˆè´¹ã€‚</li></ul></li><li><strong>Kafka é…ç½®è°ƒä¼˜</strong><ul><li>min.insync.replicasï¼šç¡®ä¿æœ€å°åŒæ­¥å‰¯æœ¬æ•°ï¼Œä»¥æé«˜æ¶ˆæ¯çš„å¯é æ€§å’Œé¡ºåºæ€§ä¿éšœã€‚</li><li>acks è®¾ç½®ï¼šç”Ÿäº§è€…çš„ acks è®¾ç½®ä¸º &#39;all&#39;ï¼ˆæˆ– -1ï¼‰ï¼Œç¡®ä¿æ‰€æœ‰å‰¯æœ¬å·²æ¥æ”¶åˆ°æ¶ˆæ¯å†è¿›è¡Œç¡®è®¤ï¼Œä¿éšœæ¶ˆæ¯é¡ºåºå’ŒæŒä¹…æ€§ã€‚</li></ul></li></ul><h3 id="ã€å›°éš¾ã€‘å¦‚ä½•åº”å¯¹-kafka-æ¶ˆæ¯ç§¯å‹-ğŸŒŸğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘å¦‚ä½•åº”å¯¹-kafka-æ¶ˆæ¯ç§¯å‹-ğŸŒŸğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘å¦‚ä½•åº”å¯¹ Kafka æ¶ˆæ¯ç§¯å‹ï¼ŸğŸŒŸğŸŒŸğŸŒŸ</h3><ul><li><strong>ç´§æ€¥å¤„ç†</strong><ul><li>å¢åŠ æ¶ˆè´¹è€…å®ä¾‹ï¼ˆä¸è¶…è¿‡åˆ†åŒºæ•°ï¼‰</li><li>è°ƒæ•´å‚æ•°ï¼šå¢å¤§ max.poll.records</li><li>é€‰æ‹©æ€§è·³è¿‡ï¼šé‡ç½® offsetï¼ˆä»…é™éå…³é”®æ•°æ®ï¼‰</li></ul></li><li><strong>æ€§èƒ½ä¼˜åŒ–</strong><ul><li>é‡‡ç”¨å¼‚æ­¥å¤„ç†ï¼šåˆ†ç¦»æ¶ˆæ¯æ‹‰å–å’Œå¤„ç†é€»è¾‘</li><li>ä¼˜å…ˆå¤„ç†ï¼šç¡®ä¿å…³é”®ä¸šåŠ¡æ¶ˆæ¯ä¼˜å…ˆæ¶ˆè´¹</li></ul></li><li><strong>ç›‘æ§é¢„é˜²</strong><ul><li>å®æ—¶ç›‘æ§ Lag æŒ‡æ ‡</li><li>é…ç½®è‡ªåŠ¨æ‰©ç¼©å®¹æœºåˆ¶</li></ul></li><li><strong>æç«¯æƒ…å†µå¤„ç†</strong><ul><li>æ‹†åˆ† Topicï¼šåˆ†æ•£ç§¯å‹æ¶ˆæ¯</li><li>ç¦»çº¿å¤„ç†ï¼šå¯¼å‡ºåˆ° HDFS æ‰¹é‡æ¶ˆè´¹</li></ul></li></ul><p><strong>æ–¹æ¡ˆå¯¹æ¯”</strong></p><table><thead><tr><th>æ–¹æ³•</th><th>è§æ•ˆé€Ÿåº¦</th><th>å½±å“</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>å¢åŠ æ¶ˆè´¹è€…</td><td>ç«‹å³</td><td>æ— </td><td>åˆ†åŒºæœ‰ä½™é‡æ—¶</td></tr><tr><td>è°ƒæ•´å‚æ•°</td><td>ç«‹å³</td><td>å¯èƒ½å†…å­˜å‹åŠ›</td><td>èµ„æºå……è¶³æ—¶</td></tr><tr><td>é‡ç½® offset</td><td>ç«‹å³</td><td>æ•°æ®ä¸¢å¤±</td><td>éå…³é”®æ¶ˆæ¯</td></tr></tbody></table><p><strong>å¤„ç†åŸåˆ™</strong></p><ul><li>å…ˆæ‰©å®¹æ¶ˆè´¹è€…</li><li>å†ä¼˜åŒ–æ¶ˆè´¹é€»è¾‘</li><li>ç¡®ä¿æ ¸å¿ƒä¸šåŠ¡</li><li>å»ºç«‹é¢„é˜²æœºåˆ¶</li></ul><h3 id="ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•å®ç°å¹‚ç­‰æ€§-producer-å®ƒå¯¹æ¶ˆæ¯å¤„ç†çš„æ„ä¹‰æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘åœ¨-kafka-ä¸­-å¦‚ä½•å®ç°å¹‚ç­‰æ€§-producer-å®ƒå¯¹æ¶ˆæ¯å¤„ç†çš„æ„ä¹‰æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘åœ¨ Kafka ä¸­ï¼Œå¦‚ä½•å®ç°å¹‚ç­‰æ€§ Producerï¼Ÿå®ƒå¯¹æ¶ˆæ¯å¤„ç†çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p><strong>æœ€ä½³å®è·µ</strong>ï¼šå¹‚ç­‰æ€§+äº‹åŠ¡+åˆç†é‡è¯•é…ç½®ï¼Œæ„å»ºé«˜å¯é æ¶ˆæ¯ç³»ç»Ÿ</p><p><strong>æ ¸å¿ƒé…ç½®</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Properties</span> props <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
props<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;enable.idempotence&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å¯ç”¨å¹‚ç­‰æ€§</span>
props<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;acks&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// ç¡®ä¿æ‰€æœ‰å‰¯æœ¬ç¡®è®¤</span>
props<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;retries&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ— é™é‡è¯•</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å…³é”®ç‰¹æ€§</strong></p><table><thead><tr><th>ç‰¹æ€§</th><th>è¯´æ˜</th><th>ä¼˜åŠ¿</th></tr></thead><tbody><tr><td>æ¶ˆæ¯å»é‡</td><td>è‡ªåŠ¨è¿‡æ»¤é‡å¤æ¶ˆæ¯</td><td>é¿å…æ•°æ®é‡å¤</td></tr><tr><td>é¡ºåºä¿è¯</td><td>å•åˆ†åŒºå†…æ¶ˆæ¯æœ‰åº</td><td>ç»´æŠ¤æ•°æ®ä¸€è‡´æ€§</td></tr><tr><td>è‡ªåŠ¨é‡è¯•</td><td>å†…ç½®å®‰å…¨é‡è¯•æœºåˆ¶</td><td>æå‡å¯é æ€§</td></tr></tbody></table><p><strong>é«˜çº§åº”ç”¨</strong></p><ul><li><strong>äº‹åŠ¡æ”¯æŒ</strong></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>props<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;transactional.id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;txn-1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
producer<span class="token punctuation">.</span><span class="token function">initTransactions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// åˆå§‹åŒ–äº‹åŠ¡</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>Exactly-Once è¯­ä¹‰</strong><ul><li>ç»“åˆå¹‚ç­‰æ€§å’Œäº‹åŠ¡</li><li>ç¡®ä¿ç«¯åˆ°ç«¯ä¸€æ¬¡æ€§å¤„ç†</li></ul></li></ul><p><strong>ä½¿ç”¨å»ºè®®</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šé‡‘èäº¤æ˜“ã€è®¢å•å¤„ç†ç­‰å…³é”®ä¸šåŠ¡</li><li><strong>æ€§èƒ½å½±å“</strong>ï¼šè½»å¾®ååé‡ä¸‹é™ï¼Œæ¢å–æ•°æ®å¯é æ€§</li><li><strong>ç‰ˆæœ¬è¦æ±‚</strong>ï¼šKafka 0.11+</li></ul><h2 id="kafka-æ¶æ„" tabindex="-1"><a class="header-anchor" href="#kafka-æ¶æ„" aria-hidden="true">#</a> Kafka æ¶æ„</h2><h3 id="ã€ä¸­ç­‰ã€‘kafka-å„ç»„ä»¶å¦‚ä½•è¿›è¡Œä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-å„ç»„ä»¶å¦‚ä½•è¿›è¡Œä¼˜åŒ–" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka å„ç»„ä»¶å¦‚ä½•è¿›è¡Œä¼˜åŒ–ï¼Ÿ</h3><ul><li><strong>Producer ä¼˜åŒ–</strong><ul><li>æ‰¹é‡å‘é€ï¼ˆ<code>linger.ms</code>+<code>batch.size</code>ï¼‰</li><li>å‹ç¼©ç®—æ³•ï¼ˆSnappy/Gzip é™ä½å¸¦å®½å ç”¨ï¼‰</li><li>å¼‚æ­¥å‘é€ï¼ˆ<code>acks=1/all</code>å¹³è¡¡æ€§èƒ½ä¸å¯é æ€§ï¼‰</li></ul></li><li><strong>Consumer ä¼˜åŒ–</strong><ul><li>åŠ¨æ€åˆ†åŒºåˆ†é…ï¼ˆ<code>range/round-robin</code>ç­–ç•¥ï¼‰</li><li>æ‰‹åŠ¨æäº¤ Offsetï¼ˆ<code>enable.auto.commit=false</code>é¿å…é‡å¤/ä¸¢å¤±ï¼‰</li><li>å¹¶è¡Œæ¶ˆè´¹ï¼ˆåˆ†åŒºæ•°â‰¥æ¶ˆè´¹è€…æ•°ï¼Œé¿å…é—²ç½®ï¼‰</li></ul></li><li><strong>Broker ä¼˜åŒ–</strong><ul><li>å‰¯æœ¬æœºåˆ¶ï¼ˆ<code>replication.factorâ‰¥2</code>ä¿éšœå®¹é”™ï¼‰</li><li>ISR åˆ—è¡¨ï¼ˆåŒæ­¥å‰¯æœ¬å¿«é€Ÿé€‰ä¸¾æ–° Leaderï¼‰</li><li>ç£ç›˜é¡ºåºå†™ï¼ˆé«˜ååè®¾è®¡ï¼Œé¿å…éšæœº IOï¼‰</li></ul></li></ul><p><strong>å…³é”®é…ç½®å»ºè®®</strong></p><table><thead><tr><th>åœºæ™¯</th><th>æ¨èé…ç½®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>é«˜åååœºæ™¯</td><td><code>compression.type=snappy</code></td><td>å‹ç¼©ç‡ä¸ CPU å¼€é”€å¹³è¡¡</td></tr><tr><td>æ•°æ®æŒä¹…åŒ–è¦æ±‚</td><td><code>log.retention.hours=168</code>ï¼ˆ7 å¤©ï¼‰</td><td>æ ¹æ®å­˜å‚¨å®¹é‡è°ƒæ•´</td></tr><tr><td>ä½å»¶è¿Ÿåœºæ™¯</td><td><code>num.io.threads=8</code>ï¼ˆé»˜è®¤å€¼ç¿»å€ï¼‰</td><td>æå‡ç£ç›˜ IO å¹¶è¡Œåº¦</td></tr></tbody></table><p><strong>ç‰ˆæœ¬æ¼”è¿›æ³¨æ„</strong></p><ul><li><strong>KRaft æ¨¡å¼</strong>ï¼šKafka 3.0+ç‰ˆæœ¬å†…ç½®å…ƒæ•°æ®ç®¡ç†ï¼Œé€æ­¥æ·˜æ±° Zookeeper ä¾èµ–</li><li><strong>æ€§èƒ½å–èˆ</strong>ï¼šåˆ†åŒºæ•°å¹¶éè¶Šå¤šè¶Šå¥½ï¼ˆå»ºè®®å• Brokerâ‰¤2000 åˆ†åŒºï¼Œé¿å…å…ƒæ•°æ®è†¨èƒ€ï¼‰</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-ä¸ºä»€ä¹ˆæ€§èƒ½é«˜-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-ä¸ºä»€ä¹ˆæ€§èƒ½é«˜-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka ä¸ºä»€ä¹ˆæ€§èƒ½é«˜ï¼ŸğŸŒŸğŸŒŸ</h3><p>Kafka çš„æ•°æ®å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œä¸ºä»€ä¹ˆè¿˜èƒ½è¿™ä¹ˆå¿«ï¼Ÿ</p><p>è¯´ Kafka å¾ˆå¿«æ—¶ï¼Œä»–ä»¬é€šå¸¸æŒ‡çš„æ˜¯ Kafka é«˜æ•ˆç§»åŠ¨å¤§é‡æ•°æ®çš„èƒ½åŠ›ã€‚Kafka ä¸ºäº†æé«˜ä¼ è¾“æ•ˆç‡ï¼Œåšäº†å¾ˆå¤šç²¾å¦™çš„è®¾è®¡ã€‚</p><div class="hint-container info"><p class="hint-container-title">é¡ºåº I/Oï¼ˆè¿½åŠ å†™å…¥ï¼‰</p></div><p>ç£ç›˜è¯»å†™æœ‰ä¸¤ç§æ–¹å¼ï¼šé¡ºåºè¯»å†™æˆ–è€…éšæœºè¯»å†™ã€‚åœ¨é¡ºåºè¯»å†™çš„æƒ…å†µä¸‹ï¼Œç£ç›˜çš„é¡ºåºè¯»å†™é€Ÿåº¦å’Œå†…å­˜æ¥è¿‘ã€‚å› ä¸ºç£ç›˜æ˜¯æœºæ¢°ç»“æ„ï¼Œæ¯æ¬¡è¯»å†™éƒ½ä¼šå¯»å€å†™å…¥ï¼Œå…¶ä¸­å¯»å€æ˜¯ä¸€ä¸ªâ€œæœºæ¢°åŠ¨ä½œâ€ã€‚Kafka åˆ©ç”¨äº†ä¸€ç§åˆ†æ®µå¼çš„ã€åªè¿½åŠ  (Append-Only) çš„æ—¥å¿—ï¼ŒåŸºæœ¬ä¸ŠæŠŠè‡ªèº«çš„è¯»å†™æ“ä½œé™åˆ¶ä¸º<strong>é¡ºåº I/O</strong>ï¼Œä¹Ÿå°±ä½¿å¾—å®ƒåœ¨å„ç§å­˜å‚¨ä»‹è´¨ä¸Šèƒ½æœ‰å¾ˆå¿«çš„é€Ÿåº¦ã€‚</p><div class="hint-container info"><p class="hint-container-title">é›¶æ‹·è´</p></div><p>Kafka æ•°æ®ä¼ è¾“æ˜¯ä¸€ä¸ªä»ç½‘ç»œåˆ°ç£ç›˜ï¼Œå†ç”±ç£ç›˜åˆ°ç½‘ç»œçš„è¿‡ç¨‹ã€‚åœ¨ç½‘ç»œå’Œç£ç›˜ä¹‹é—´ä¼ è¾“æ•°æ®æ—¶ï¼Œæ¶ˆé™¤å¤šä½™çš„å¤åˆ¶æ˜¯æé«˜æ•ˆç‡çš„å…³é”®ã€‚<strong>Kafka åˆ©ç”¨é›¶æ‹·è´æŠ€æœ¯æ¥æ¶ˆé™¤ä¼ è¾“è¿‡ç¨‹ä¸­çš„å¤šä½™å¤åˆ¶</strong>ã€‚</p><p>å¦‚æœä¸é‡‡ç”¨é›¶æ‹·è´ï¼ŒKafka å°†æ•°æ®åŒæ­¥ç»™æ¶ˆè´¹è€…çš„å¤§è‡´æµç¨‹æ˜¯ï¼š</p><ol><li>ä»ç£ç›˜åŠ è½½æ•°æ®åˆ° os buffer</li><li>æ‹·è´æ•°æ®åˆ° app buffer</li><li>å†æ‹·è´æ•°æ®åˆ° socket buffer</li><li>æ¥ä¸‹æ¥ï¼Œå°†æ•°æ®æ‹·è´åˆ°ç½‘å¡ buffer</li><li>æœ€åï¼Œé€šè¿‡ç½‘ç»œä¼ è¾“ï¼Œå°†æ•°æ®å‘é€åˆ°æ¶ˆè´¹è€…</li></ol><p>é‡‡ç”¨é›¶æ‹·è´æŠ€æœ¯ï¼ŒKafka ä½¿ç”¨ <code>sendfile()</code> ç³»ç»Ÿæ–¹æ³•ï¼Œå°†æ•°æ®ä» os buffer ç›´æ¥å¤åˆ¶åˆ°ç½‘å¡ bufferã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå”¯ä¸€ä¸€æ¬¡å¤åˆ¶æ•°æ®æ˜¯ä» os buffer åˆ°ç½‘å¡ bufferã€‚è¿™ä¸ªå¤åˆ¶è¿‡ç¨‹æ˜¯é€šè¿‡ DMAï¼ˆDirect Memory Accessï¼Œç›´æ¥å†…å­˜è®¿é—®ï¼‰ å®Œæˆçš„ã€‚ä½¿ç”¨ DMA æ—¶ï¼ŒCPU ä¸å‚ä¸ï¼Œè¿™ä½¿å¾—å®ƒéå¸¸é«˜æ•ˆã€‚</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202502070727055.webp" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="hint-container info"><p class="hint-container-title">å…¶ä»–æ€§èƒ½è®¾è®¡</p></div><ul><li><strong>é¡µç¼“å­˜</strong> - Kafka çš„æ•°æ®å¹¶ä¸æ˜¯å®æ—¶çš„å†™å…¥ç£ç›˜ï¼Œå®ƒå……åˆ†åˆ©ç”¨äº†ç°ä»£æ“ä½œç³»ç»Ÿåˆ†é¡µå­˜å‚¨æ¥åˆ©ç”¨å†…å­˜æé«˜ I/O æ•ˆç‡ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯æŠŠç£ç›˜ä¸­çš„æ•°æ®ç¼“å­˜åˆ°å†…å­˜ä¸­ï¼ŒæŠŠå¯¹ç£ç›˜çš„è®¿é—®å˜ä¸ºå¯¹å†…å­˜çš„è®¿é—®ã€‚Kafka æ¥æ”¶æ¥è‡ª socket buffer çš„ç½‘ç»œæ•°æ®ï¼Œåº”ç”¨è¿›ç¨‹ä¸éœ€è¦ä¸­é—´å¤„ç†ã€ç›´æ¥è¿›è¡ŒæŒä¹…åŒ–æ—¶ã€‚å¯ä»¥ä½¿ç”¨ mmap å†…å­˜æ–‡ä»¶æ˜ å°„ã€‚</li><li><strong>å‹ç¼©</strong> - Kafka å†…ç½®äº†å‡ ç§å‹ç¼©ç®—æ³•ï¼Œå¹¶å…è®¸å®šåˆ¶åŒ–å‹ç¼©ç®—æ³•ã€‚é€šè¿‡å‹ç¼©ç®—æ³•ï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘ä¼ è¾“æ•°æ®çš„å¤§å°ï¼Œä»è€Œæå‡ä¼ è¾“æ•ˆç‡ã€‚</li><li><strong>æ‰¹å¤„ç†</strong> - Kafka çš„ Clients å’Œ Brokers ä¼šæŠŠå¤šæ¡è¯»å†™çš„æ—¥å¿—è®°å½•åˆå¹¶æˆä¸€ä¸ªæ‰¹æ¬¡ï¼Œç„¶åæ‰é€šè¿‡ç½‘ç»œå‘é€å‡ºå»ã€‚æ—¥å¿—è®°å½•çš„æ‰¹å¤„ç†é€šè¿‡ä½¿ç”¨æ›´å¤§çš„åŒ…ä»¥åŠæé«˜å¸¦å®½æ•ˆç‡æ¥æ‘Šè–„ç½‘ç»œå¾€è¿”çš„å¼€é”€ã€‚</li><li><strong>åˆ†åŒº</strong> - Kafka å°† Topic åˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºå¯¹åº”ä¸€ä¸ªåä¸ºçš„ Log çš„ç£ç›˜ç›®å½•ï¼Œè€Œ Log åˆæ ¹æ®å¤§å°ï¼Œå¯ä»¥åˆ†ä¸ºå¤šä¸ª Log Segment æ–‡ä»¶ã€‚è¿™ç§åˆ†è€Œæ²»ä¹‹çš„ç­–ç•¥ï¼Œä½¿å¾— Kafka å¯ä»¥<strong>å¹¶å‘</strong>è¯»ï¼Œä»¥æ”¯æ’‘éå¸¸é«˜çš„ååé‡ã€‚æ­¤å¤–ï¼ŒKafka æ”¯æŒè´Ÿè½½å‡è¡¡æœºåˆ¶ï¼Œå°†æ•°æ®åˆ†åŒºè¿‘ä¼¼å‡åŒ€åœ°åˆ†é…ç»™æ¶ˆè´¹è€…ç¾¤ç»„çš„å„ä¸ªæ¶ˆè´¹è€…ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°æµé‡æ§åˆ¶-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°æµé‡æ§åˆ¶-ğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç°æµé‡æ§åˆ¶ï¼ŸğŸŒŸ</h3><p>Kafka é€šè¿‡å‚æ•°åŒ–é™é€Ÿå’Œè‡ªé€‚åº”èƒŒå‹å®ç°å¤šå±‚çº§æµé‡æ§åˆ¶ï¼Œéœ€æ ¹æ®ä¸šåŠ¡ç‰¹ç‚¹ï¼ˆåå/å»¶è¿Ÿ/å¯é æ€§éœ€æ±‚ï¼‰ç»„åˆé…ç½®ã€‚ç”Ÿäº§ç¯å¢ƒå»ºè®®é…åˆç›‘æ§ç³»ç»Ÿå®ç°åŠ¨æ€è°ƒèŠ‚ã€‚</p><p><strong>é™é€Ÿæ§åˆ¶ï¼ˆRate Limitingï¼‰</strong></p><table><thead><tr><th><strong>ç»„ä»¶</strong></th><th><strong>å…³é”®å‚æ•°</strong></th><th><strong>æ§åˆ¶æ•ˆæœ</strong></th></tr></thead><tbody><tr><td><strong>ç”Ÿäº§è€…</strong></td><td><code>max.in.flight.requests.per.connection</code></td><td>é™åˆ¶å•è¿æ¥æœªç¡®è®¤è¯·æ±‚æ•°ï¼ˆé»˜è®¤ 5ï¼‰</td></tr><tr><td></td><td><code>linger.ms</code></td><td>æ‰¹é‡å‘é€ç­‰å¾…æ—¶é—´ï¼ˆ0-5000msï¼‰</td></tr><tr><td><strong>æ¶ˆè´¹è€…</strong></td><td><code>fetch.min.bytes</code></td><td>å•æ¬¡æ‹‰å–æœ€å°æ•°æ®é‡ï¼ˆé»˜è®¤ 1Bï¼‰</td></tr><tr><td></td><td><code>fetch.max.wait.ms</code></td><td>æ‹‰å–è¯·æ±‚æœ€é•¿ç­‰å¾…æ—¶é—´ï¼ˆé»˜è®¤ 500msï¼‰</td></tr></tbody></table><p><strong>èƒŒå‹æœºåˆ¶ï¼ˆBackpressureï¼‰</strong></p><ul><li><strong>æ¶ˆè´¹è€…æ§åˆ¶</strong><ul><li>æ‰‹åŠ¨æäº¤åç§»é‡ï¼ˆ<code>enable.auto.commit=false</code>ï¼‰</li><li>é€šè¿‡å¤„ç†è¿›åº¦åé¦ˆè°ƒèŠ‚æ¶ˆè´¹é€Ÿç‡</li></ul></li><li><strong>ç³»ç»Ÿçº§ç¼“å†²</strong><ul><li>ç”Ÿäº§è€…ç¼“å†²åŒºï¼ˆ<code>buffer.memory</code>ï¼Œé»˜è®¤ 32MBï¼‰</li><li>æ¶ˆè´¹è€… fetch é˜Ÿåˆ—ï¼ˆ<code>queued.max.messages</code>ï¼Œé»˜è®¤ 500ï¼‰</li></ul></li></ul><p><strong>é«˜çº§æ§åˆ¶ç­–ç•¥</strong></p><ul><li><strong>åŠ¨æ€é™æµ</strong>ï¼šåŸºäºç›‘æ§æŒ‡æ ‡ï¼ˆå¦‚ CPU/ç½‘ç»œè´Ÿè½½ï¼‰è‡ªåŠ¨è°ƒæ•´ç”Ÿäº§/æ¶ˆè´¹é€Ÿç‡</li><li><strong>å¼‚æ­¥æ‰¹å¤„ç†</strong>ï¼šæµå¤„ç†æ¡†æ¶ï¼ˆFlink/Sparkï¼‰çš„å¾®æ‰¹å¤„ç†ä¼˜åŒ–ååé‡</li></ul><p><strong>é…ç½®å»ºè®®</strong></p><table><thead><tr><th><strong>åœºæ™¯</strong></th><th><strong>ä¼˜åŒ–æ–¹å‘</strong></th><th><strong>å…¸å‹å€¼</strong></th></tr></thead><tbody><tr><td>é«˜åååœºæ™¯</td><td>å¢å¤§<code>linger.ms</code>+<code>batch.size</code></td><td><code>linger.ms=50-100ms</code></td></tr><tr><td>ä½å»¶è¿Ÿåœºæ™¯</td><td>å‡å°<code>fetch.max.wait.ms</code></td><td><code>fetch.max.wait.ms=10ms</code></td></tr><tr><td>ç¨³å®šæ€§ä¼˜å…ˆ</td><td>é™ä½<code>max.in.flight.requests</code></td><td>è®¾ä¸º 1ï¼ˆç¡®ä¿é¡ºåºæ€§ï¼‰</td></tr></tbody></table><h3 id="ã€å›°éš¾ã€‘kafka-åœ¨é«˜ååé‡åœºæ™¯ä¸‹å¦‚ä½•ä¿æŒä½å»¶è¿Ÿ-æœ‰å“ªäº›æ€§èƒ½è°ƒä¼˜çš„ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-åœ¨é«˜ååé‡åœºæ™¯ä¸‹å¦‚ä½•ä¿æŒä½å»¶è¿Ÿ-æœ‰å“ªäº›æ€§èƒ½è°ƒä¼˜çš„ç­–ç•¥" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka åœ¨é«˜ååé‡åœºæ™¯ä¸‹å¦‚ä½•ä¿æŒä½å»¶è¿Ÿï¼Ÿæœ‰å“ªäº›æ€§èƒ½è°ƒä¼˜çš„ç­–ç•¥ï¼Ÿ</h3><p>é€šè¿‡ <strong>å¹¶è¡ŒåŒ–ã€æ‰¹å¤„ç†ã€ç¡¬ä»¶åŠ é€Ÿ</strong> å®ç°é«˜ååï¼ŒåŒæ—¶æ§åˆ¶åˆ†åŒº/å‰¯æœ¬æ•°é‡åŠç½‘ç»œå‚æ•°ä»¥é™ä½å»¶è¿Ÿã€‚</p><p><strong>åˆ†åŒºä¸å‰¯æœ¬ä¼˜åŒ–</strong></p><ul><li><strong>åˆ†åŒºæ•°</strong>ï¼šå¢åŠ åˆ†åŒºæå‡å¹¶è¡Œåº¦ï¼Œä½†é¿å…è¿‡å¤šï¼ˆç®¡ç†å¼€é”€ï¼‰ã€‚</li><li><strong>å‰¯æœ¬æ•°</strong>ï¼šé€šå¸¸è®¾ <strong>2-3</strong>ï¼Œå¹³è¡¡å¯é æ€§ä¸æ€§èƒ½ã€‚</li></ul><p><strong>ç”Ÿäº§ç«¯è°ƒä¼˜</strong></p><ul><li><strong>acks=1</strong>ï¼šç¡®ä¿è‡³å°‘ 1 ä¸ªå‰¯æœ¬å†™å…¥ï¼Œå…¼é¡¾æ€§èƒ½ä¸å¯é æ€§ã€‚</li><li><strong>batch.size â†‘</strong> + <strong><a href="http://linger.ms" target="_blank" rel="noopener noreferrer">linger.ms<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> â†“</strong>ï¼šå‡å°‘ç½‘ç»œè¯·æ±‚ï¼Œé™ä½å»¶è¿Ÿã€‚</li><li><strong>å‹ç¼©</strong>ï¼šé€‰ç”¨ <strong>lz4</strong>ï¼ˆé«˜æ•ˆå‹ç¼©/è§£å‹ï¼‰ï¼ŒèŠ‚çœå¸¦å®½ã€‚</li></ul><p><strong>æ¶ˆè´¹ç«¯è°ƒä¼˜</strong></p><ul><li><strong>fetch.min.bytes</strong> + <strong><a href="http://fetch.max.wait.ms" target="_blank" rel="noopener noreferrer">fetch.max.wait.ms<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></strong>ï¼šå¹³è¡¡ååä¸å»¶è¿Ÿã€‚</li></ul><p><strong>ç¡¬ä»¶ä¼˜åŒ–</strong></p><ul><li><strong>ç£ç›˜</strong>ï¼šSSDï¼ˆæ˜¾è‘—æå‡ I/O æ€§èƒ½ï¼‰ã€‚</li><li><strong>å†…å­˜/CPU</strong>ï¼šå¢å¤§å†…å­˜ç¼“å­˜æ•°æ®ï¼Œå¤šæ ¸å¤„ç†å¹¶è¡Œä»»åŠ¡ã€‚</li><li><strong>ç½‘ç»œ</strong>ï¼šç¡®ä¿é«˜å¸¦å®½ï¼Œå‡å°‘ä¼ è¾“å»¶è¿Ÿã€‚</li></ul><p><strong>Broker é…ç½®</strong></p><ul><li><strong>log.retention â†‘</strong>ï¼šå‡å°‘æ—¥å¿—é¢‘ç¹æ¸…ç†å¼€é”€ã€‚</li><li><strong>socket ç¼“å†²åŒº â†‘</strong>ï¼šæå‡ç½‘ç»œä¼ è¾“æ•ˆç‡ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-å¦‚ä½•å¤„ç†æ•°æ®å€¾æ–œé—®é¢˜-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å¤„ç†æ•°æ®å€¾æ–œé—®é¢˜-ğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka å¦‚ä½•å¤„ç†æ•°æ®å€¾æ–œé—®é¢˜ï¼ŸğŸŒŸ</h3><p>é€šè¿‡ <strong>åˆ†åŒºç­–ç•¥ä¼˜åŒ– + åŠ¨æ€èµ„æºåˆ†é… + æµé‡æ§åˆ¶</strong>ï¼Œå®ç°æ•°æ®å‡åŒ€åˆ†å¸ƒä¸ç¨³å®šååã€‚</p><p><strong>å‡è¡¡æ•°æ®åˆ†å¸ƒ</strong></p><ul><li><strong>åˆç†è®¾è®¡åˆ†åŒºé”®</strong>ï¼šé€‰æ‹©é«˜åŸºæ•°å­—æ®µï¼ˆå¦‚ <code>user_id</code>ã€<code>order_id</code>ï¼‰ï¼Œé¿å…çƒ­ç‚¹ã€‚</li><li><strong>å¢åŠ åˆ†åŒºæ•°</strong>ï¼šåˆ†æ•£æ•°æ®å‹åŠ›ï¼Œä½†é¿å…è¿‡å¤šåˆ†åŒºå¯¼è‡´ç®¡ç†è´Ÿæ‹…ã€‚</li><li><strong>è‡ªå®šä¹‰åˆ†åŒºå™¨</strong>ï¼šæŒ‰ä¸šåŠ¡é€»è¾‘é‡å†™åˆ†é…ç­–ç•¥ï¼ˆå¦‚è½®è¯¢ã€å“ˆå¸Œä¼˜åŒ–ï¼‰ã€‚</li></ul><p><strong>åŠ¨æ€è°ƒæ•´ä¸å†—ä½™</strong></p><ul><li><strong>è°ƒæ•´å‰¯æœ¬å› å­</strong>ï¼šé€‚å½“å¢åŠ å‰¯æœ¬ï¼ˆå¦‚ <code>replication-factor=3</code>ï¼‰åˆ†æ•£è¯»å‹åŠ›ï¼Œå¹³è¡¡èµ„æºå¼€é”€ã€‚</li><li><strong>åŠ¨æ€ç›‘æ§è°ƒæ•´</strong>ï¼šå®æ—¶ç›‘æ§åˆ†åŒºè´Ÿè½½ï¼Œå¿…è¦æ—¶è§¦å‘ <code>rebalance</code> æˆ–è¿ç§»æ•°æ®ã€‚</li></ul><p><strong>æµæ§ä¸é™æµ</strong></p><ul><li><strong>ç”Ÿäº§è€…é™æµ</strong>ï¼šæ§åˆ¶ <code>producer</code> é€Ÿç‡ï¼ˆå¦‚ <code>max.in.flight.requests</code>ï¼‰ã€‚</li><li><strong>æ¶ˆè´¹è€…é™æµ</strong>ï¼šè°ƒæ•´ <code>fetch.max.bytes</code> æˆ–ä½¿ç”¨èƒŒå‹æœºåˆ¶ï¼ŒåŒ¹é…æ¶ˆè´¹èƒ½åŠ›ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-å¤„ç†è¯·æ±‚çš„å…¨æµç¨‹" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-å¤„ç†è¯·æ±‚çš„å…¨æµç¨‹" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka å¤„ç†è¯·æ±‚çš„å…¨æµç¨‹ï¼Ÿ</h3><p>Kafka é‡‡ç”¨ <strong>å¤šçº¿ç¨‹æ±  + äº‹ä»¶é©±åŠ¨</strong> æ¨¡å‹ï¼Œæ ¸å¿ƒçº¿ç¨‹ç»„åˆ†å·¥å¦‚ä¸‹ï¼š</p><p><strong>ç½‘ç»œé€šä¿¡å±‚ï¼ˆ1 ä¸ª Acceptor + N ä¸ª Processorï¼‰</strong></p><ul><li><strong>Acceptor çº¿ç¨‹</strong>ï¼ˆ1 ä¸ªï¼‰ï¼šç›‘å¬ <code>ServerSocket</code>ï¼Œæ¥æ”¶å®¢æˆ·ç«¯è¿æ¥ï¼Œè½®è¯¢åˆ†å‘ç»™ <code>Processor</code> çº¿ç¨‹ã€‚</li><li><strong>Processor çº¿ç¨‹</strong>ï¼ˆé»˜è®¤ 3 ä¸ªï¼Œå¯é…ç½®ï¼‰ï¼šæ¯ä¸ª <code>Processor</code> ç»´æŠ¤ä¸€ä¸ª <code>Selector</code>ï¼ˆNIOï¼‰ï¼Œè´Ÿè´£ï¼š <ul><li><strong>è¯»è¯·æ±‚</strong>ï¼šè§£æè¯·æ±‚æ•°æ®ï¼Œæ”¾å…¥<strong>å…±äº«è¯·æ±‚é˜Ÿåˆ—</strong>ï¼ˆ<code>RequestChannel</code>ï¼‰ã€‚</li><li><strong>å†™å“åº”</strong>ï¼šä» <code>ResponseQueue</code> è·å–ç»“æœï¼Œé€šè¿‡ <code>Socket</code> è¿”å›å®¢æˆ·ç«¯ã€‚</li></ul></li></ul><p><strong>è¯·æ±‚å¤„ç†å±‚ï¼ˆKafkaRequestHandlerPoolï¼‰</strong></p><p><strong>IO çº¿ç¨‹æ± </strong>ï¼ˆé»˜è®¤ 8 ä¸ªï¼Œå¯é…ç½®ï¼‰ä» <code>RequestChannel</code> æ‹‰å–è¯·æ±‚ï¼Œæ ¹æ®ç±»å‹è°ƒç”¨å¯¹åº” <code>API å±‚</code> å¤„ç†ï¼ˆå¦‚ <code>handleProduceRequest</code>ï¼‰ã€‚</p><p>å…³é”®æ“ä½œï¼š</p><ul><li><strong>ç”Ÿäº§è¯·æ±‚</strong>ï¼šå†™å…¥ Leader å‰¯æœ¬çš„ <code>LogSegment</code>ï¼ˆå†…å­˜â†’PageCacheâ†’ç£ç›˜ï¼‰ã€‚</li><li><strong>æ¶ˆè´¹è¯·æ±‚</strong>ï¼šä» <code>PageCache</code> æˆ–ç£ç›˜è¯»å–æ•°æ®ï¼ˆé›¶æ‹·è´ä¼˜åŒ–ï¼‰ã€‚</li></ul><p><strong>åå°çº¿ç¨‹</strong></p><ul><li><strong>Log Cleaner</strong>ï¼šæ—¥å¿—å‹ç¼©ï¼ˆCompactionï¼‰å’Œåˆ é™¤ï¼ˆRetentionï¼‰ã€‚</li><li><strong>Replica Manager</strong>ï¼šå‰¯æœ¬åŒæ­¥ï¼ˆISRï¼‰ã€Leader é€‰ä¸¾ã€‚</li><li><strong>Delayed Operation</strong>ï¼šå¤„ç†å»¶è¿Ÿæ“ä½œï¼ˆå¦‚ <code>Produce</code> çš„ ACK ç­‰å¾…ï¼‰ã€‚</li></ul><figure><img src="https://rahulvishwakarma.wordpress.com/wp-content/uploads/2016/06/kafka-broker-internals.png?w=634" alt="kafka broker internals" tabindex="0" loading="lazy"><figcaption>kafka broker internals</figcaption></figure><p><strong>æ ¸å¿ƒè®¾è®¡ä¼˜åŠ¿</strong></p><ul><li><strong>è§£è€¦ç½‘ç»œ I/O ä¸ä¸šåŠ¡å¤„ç†</strong>ï¼š<code>Processor</code> ä»…è´Ÿè´£é€šä¿¡ï¼Œ<code>Handler</code> ä¸“æ³¨é€»è¾‘ã€‚</li><li><strong>æ— é”é˜Ÿåˆ—</strong>ï¼š<code>RequestChannel</code> ä½¿ç”¨ <code>ConcurrentLinkedQueue</code>ï¼Œå‡å°‘ç«äº‰ã€‚</li><li><strong>åŠ¨æ€æ‰©å±•</strong>ï¼šå¯è°ƒæ•´ <code>Processor</code> å’Œ <code>Handler</code> çº¿ç¨‹æ•°é€‚é…è´Ÿè½½ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘zookeeper-åœ¨-kafka-ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆ-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘zookeeper-åœ¨-kafka-ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆ-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘ZooKeeper åœ¨ Kafka ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸğŸŒŸ</h3><p>ZooKeeper åœ¨ Kafka ä¸­æ‰®æ¼”ç€<strong>æ ¸å¿ƒçš„åè°ƒè€…è§’è‰²</strong>ï¼Œä¸»è¦è´Ÿè´£é›†ç¾¤çš„å…ƒæ•°æ®ç®¡ç†ã€Broker åè°ƒå’ŒçŠ¶æ€ç»´æŠ¤ã€‚</p><p>Zookeeper ä»æ˜¯ Kafka 2.8 ä¹‹å‰ç‰ˆæœ¬çš„&quot;å¤§è„‘&quot;ï¼Œæ‰¿æ‹…å…³é”®åè°ƒèŒèƒ½ã€‚KRaft æ¨¡å¼å°†æˆä¸ºæ ‡å‡†æ¶æ„ï¼Œ2023 å¹´åæ–°ç‰ˆæœ¬å°†é»˜è®¤å¯ç”¨ã€‚</p><p><strong>Zookeeper çš„æ ¸å¿ƒä½œç”¨</strong></p><table><thead><tr><th><strong>åŠŸèƒ½</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>ç®¡ç† Broker å…ƒæ•°æ®</strong></td><td>ç»´æŠ¤ Broker æ³¨å†Œä¿¡æ¯ï¼ˆåœ¨çº¿/ç¦»çº¿çŠ¶æ€ï¼‰ï¼›Broker çš„ IDã€ä¸»æœºåã€ç«¯å£ç­‰å…ƒæ•°æ®ï¼›Topic/Partition å…ƒæ•°æ®</td></tr><tr><td><strong>Controller é€‰ä¸¾</strong></td><td>é€šè¿‡ä¸´æ—¶èŠ‚ç‚¹ï¼ˆEphemeral ZNodeï¼‰é€‰ä¸¾é›†ç¾¤å”¯ä¸€ Controllerï¼Œè´Ÿè´£åˆ†åŒº Leader é€‰ä¸¾</td></tr><tr><td><strong>æ•…éšœæ¢å¤</strong></td><td>ç›‘æµ‹èŠ‚ç‚¹æ•…éšœå¹¶è§¦å‘åˆ†åŒº Leader é‡é€‰ä¸¾</td></tr><tr><td><strong>æ¶ˆè´¹è€…ç»„ Offset</strong></td><td>æ—§ç‰ˆæœ¬ï¼ˆâ‰¤0.8ï¼‰å°†æ¶ˆè´¹è€… Offset å­˜å‚¨åœ¨ Zookeeperï¼Œæ–°ç‰ˆæœ¬æ”¹ç”¨å†…éƒ¨ ä¸»é¢˜ <code>_consumer_offsets</code>ã€‚</td></tr><tr><td><strong>é…ç½®ä¸­å¿ƒ</strong></td><td>å­˜å‚¨ Kafka é…ç½®å’Œæ‹“æ‰‘ä¿¡æ¯</td></tr></tbody></table><p><strong>Zookeeper çš„å±€é™æ€§</strong></p><ul><li><strong>æ€§èƒ½ç“¶é¢ˆ</strong>ï¼šé«˜é¢‘å…ƒæ•°æ®æ“ä½œï¼ˆå¦‚åˆ†åŒºé‡å¹³è¡¡ï¼‰å¯èƒ½å¯¼è‡´ Zookeeper æˆä¸ºæ€§èƒ½ç“¶é¢ˆã€‚</li><li><strong>è¿ç»´å¤æ‚åº¦</strong>ï¼šéœ€å•ç‹¬ç»´æŠ¤ Zookeeper é›†ç¾¤ï¼Œå¢åŠ è¿ç»´è´Ÿæ‹…ã€‚</li><li><strong>æ‰©å±•æ€§å·®</strong>ï¼šZookeeper çš„å†™æ€§èƒ½éšèŠ‚ç‚¹æ•°å¢åŠ è€Œä¸‹é™ã€‚</li></ul><p><strong>å» Zookeeper åŒ–</strong></p><ul><li><strong>ç›®æ ‡</strong>ï¼šç”¨ Kafka è‡ªèº«æœºåˆ¶æ›¿ä»£ Zookeeperï¼Œç®€åŒ–æ¶æ„ã€‚</li><li><strong>å®ç°æ–¹æ¡ˆ</strong>ï¼š <ul><li><strong>Raft åè®®</strong>ï¼šé€šè¿‡å†…ç½®çš„ Raft å…±è¯†ç®—æ³•ç®¡ç†å…ƒæ•°æ®ï¼ˆç±»ä¼¼ ZooKeeper çš„ ZABï¼‰ã€‚</li><li><strong>å†…éƒ¨ Topic</strong>ï¼šå°†å…ƒæ•°æ®å­˜å‚¨åœ¨ Kafka çš„ <code>__cluster_metadata</code> Topic ä¸­ï¼Œåˆ©ç”¨å‰¯æœ¬æœºåˆ¶ä¿è¯é«˜å¯ç”¨ã€‚</li></ul></li><li><strong>ä¼˜åŠ¿</strong>ï¼š <ul><li>å‡å°‘å¤–éƒ¨ä¾èµ–ï¼Œé™ä½è¿ç»´æˆæœ¬ã€‚</li><li>æå‡å…ƒæ•°æ®æ“ä½œçš„ååé‡å’Œå»¶è¿Ÿã€‚</li></ul></li></ul><p><strong>è¿ç»´å»ºè®®</strong></p><ul><li><strong>Zookeeper é›†ç¾¤é…ç½®</strong>ï¼š <ul><li>è‡³å°‘éƒ¨ç½² <strong>3/5 ä¸ªèŠ‚ç‚¹</strong>ï¼ˆå®¹å¿ 1/2 ä¸ªèŠ‚ç‚¹æ•…éšœï¼‰ã€‚</li><li>éš”ç¦» Zookeeper ä¸ Kafka çš„ç£ç›˜ I/Oï¼Œé¿å…èµ„æºç«äº‰ã€‚</li></ul></li><li><strong>ç›‘æ§æŒ‡æ ‡</strong>ï¼š <ul><li>Zookeeper çš„ <code>znode</code> æ•°é‡ã€å»¶è¿Ÿï¼ˆ<code>avg_latency</code>ï¼‰ã€æ´»è·ƒè¿æ¥æ•°ã€‚</li><li>Kafka Controller çš„å­˜æ´»çŠ¶æ€åŠåˆ‡æ¢é¢‘ç‡ã€‚</li></ul></li></ul><p><strong>æ€»ç»“</strong></p><ul><li><strong>ç°çŠ¶</strong>ï¼šZookeeper ä»æ˜¯ Kafka çš„æ ¸å¿ƒä¾èµ–ï¼ˆ3.x ç‰ˆæœ¬ï¼‰ï¼Œè´Ÿè´£é›†ç¾¤å…ƒæ•°æ®ç®¡ç†ã€‚</li><li><strong>æœªæ¥</strong>ï¼šKIP-500 å°†é€æ­¥ç§»é™¤ Zookeeperï¼Œé‡‡ç”¨è‡ªç®¡ç†çš„ Raft å…ƒæ•°æ®æœåŠ¡ã€‚</li><li><strong>å…³é”®æªæ–½</strong>ï¼š <ul><li>ä¿éšœ Zookeeper é›†ç¾¤çš„é«˜å¯ç”¨ï¼ˆå¥‡æ•°èŠ‚ç‚¹+åˆ†æ•£éƒ¨ç½²ï¼‰ã€‚</li><li>å…³æ³¨ Kafka æ–°ç‰ˆæœ¬æ¼”è¿›ï¼Œè§„åˆ’æ¶æ„å‡çº§ã€‚</li></ul></li></ul><h3 id="ã€ä¸­ç­‰ã€‘kafka-ä¸ºä»€ä¹ˆè¦å¼ƒç”¨-zookeeper" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-ä¸ºä»€ä¹ˆè¦å¼ƒç”¨-zookeeper" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka ä¸ºä»€ä¹ˆè¦å¼ƒç”¨ Zookeeperï¼Ÿ</h3><p>Kafka å¼ƒç”¨ ZooKeeper ä¸»è¦æ˜¯ä¸ºäº†<strong>ç®€åŒ–æ¶æ„ã€æå‡æ€§èƒ½ã€é™ä½è¿ç»´å¤æ‚åº¦</strong>ã€‚</p><p><strong>å‡å°‘å¤–éƒ¨ä¾èµ–</strong></p><ul><li><strong>æ¶æ„ç®€åŒ–</strong>ï¼šZooKeeper æ˜¯ç‹¬ç«‹çš„å¤–éƒ¨ç³»ç»Ÿï¼Œéœ€é¢å¤–éƒ¨ç½²å’Œç»´æŠ¤ã€‚ç§»é™¤åï¼ŒKafka æˆä¸ºå®Œå…¨è‡ªåŒ…å«çš„ç³»ç»Ÿï¼Œé™ä½éƒ¨ç½²å’Œè¿ç»´æˆæœ¬ã€‚</li><li><strong>é¿å…å•ç‚¹é£é™©</strong>ï¼šZooKeeper æœ¬èº«éœ€è¦é›†ç¾¤åŒ–ï¼Œè‹¥å‡ºç°æ•…éšœä¼šå½±å“ Kafka çš„å…ƒæ•°æ®ç®¡ç†ï¼Œå†…åµŒæ²»ç†é€»è¾‘å¯å‡å°‘æ­¤ç±»é£é™©ã€‚</li></ul><p><strong>æå‡æ‰©å±•æ€§ä¸æ€§èƒ½</strong></p><ul><li><strong>å…ƒæ•°æ®æ•ˆç‡</strong>ï¼šZooKeeper çš„å†™æ“ä½œï¼ˆå¦‚ Leader é€‰ä¸¾ï¼‰æ˜¯ä¸²è¡Œçš„ï¼Œå¯èƒ½æˆä¸ºç“¶é¢ˆã€‚Kafka å†…ç½®çš„ <strong>KRaft åè®®</strong>ï¼ˆåŸºäº Raftï¼‰æ”¯æŒå¹¶è¡Œæ—¥å¿—å†™å…¥ï¼Œæ˜¾è‘—æå‡å…ƒæ•°æ®å¤„ç†é€Ÿåº¦ï¼ˆå¦‚åˆ†åŒºæ‰©å®¹ã€Leader åˆ‡æ¢ï¼‰ã€‚</li><li><strong>é™ä½å»¶è¿Ÿ</strong>ï¼šçœå»ä¸ ZooKeeper çš„ç½‘ç»œé€šä¿¡ï¼Œå…ƒæ•°æ®æ“ä½œï¼ˆå¦‚ Broker æ³¨å†Œã€Topic å˜æ›´ï¼‰å»¶è¿Ÿæ›´ä½ã€‚</li></ul><p><strong>ç»Ÿä¸€å…ƒæ•°æ®ç®¡ç†</strong></p><ul><li><strong>ä¸€è‡´æ€§æ¨¡å‹ç»Ÿä¸€</strong>ï¼šZooKeeper ä½¿ç”¨ ZAB åè®®ï¼Œè€Œ Kafka ä½¿ç”¨è‡ªèº«çš„æ—¥å¿—å¤åˆ¶æœºåˆ¶ï¼Œä¸¤è€…ä¸ä¸€è‡´å¯èƒ½å¯¼è‡´åè°ƒé—®é¢˜ã€‚KRaft æ¨¡å¼é€šè¿‡å•ä¸€åè®®ï¼ˆRaftï¼‰ç®¡ç†æ‰€æœ‰å…ƒæ•°æ®ï¼Œé€»è¾‘æ›´æ¸…æ™°ã€‚</li><li><strong>ç®€åŒ–å®¢æˆ·ç«¯è®¿é—®</strong>ï¼šæ—§ç‰ˆå®¢æˆ·ç«¯éœ€åŒæ—¶è¿æ¥ Kafka å’Œ ZooKeeperï¼Œæ–°ç‰ˆåªéœ€ç›´è¿ Kafka Brokerã€‚</li></ul><p><strong>æ”¯æŒæ›´å¤§è§„æ¨¡é›†ç¾¤</strong></p><p><strong>ZooKeeper çš„å±€é™æ€§</strong>ï¼šZooKeeper å¯¹èŠ‚ç‚¹æ•°é‡ï¼ˆé€šå¸¸â‰¤7ï¼‰å’Œ Watcher æ•°é‡æœ‰é™åˆ¶ï¼Œå½±å“ Kafka é›†ç¾¤çš„æ‰©å±•æ€§ã€‚KRaft æ¨¡å¼é€šè¿‡åˆ†ç‰‡å’Œæµå¼å…ƒæ•°æ®ä¼ é€’ï¼Œæ”¯æŒè¶…å¤§è§„æ¨¡é›†ç¾¤ï¼ˆå¦‚æ•°åä¸‡åˆ†åŒºï¼‰ã€‚</p><p><strong>è¡¥å……è¯´æ˜</strong></p><ul><li>Kafka 2.8+ å¼€å§‹å®éªŒæ€§æ”¯æŒ KRaft æ¨¡å¼ï¼Œ3.0+ é€æ­¥ç¨³å®šï¼Œä½†ä»å…¼å®¹ ZooKeeper æ¨¡å¼ã€‚</li><li>å®Œå…¨ç§»é™¤ ZooKeeper éœ€ç¡®ä¿ KRaft åœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„æˆç†Ÿåº¦ï¼ˆå¦‚æ•…éšœæ¢å¤ã€ç›‘æ§å·¥å…·é“¾å®Œå–„ï¼‰ã€‚</li></ul><h3 id="ã€ä¸­ç­‰ã€‘kafka-ä¸­å¦‚ä½•å®ç°æ—¶é—´è½®-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-ä¸­å¦‚ä½•å®ç°æ—¶é—´è½®-ğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka ä¸­å¦‚ä½•å®ç°æ—¶é—´è½®ï¼ŸğŸŒŸ</h3><p>æ—¶é—´è½®æ˜¯ç”¨äºé«˜æ•ˆç®¡ç†å’Œè°ƒåº¦å¤§é‡å®šæ—¶ä»»åŠ¡çš„<strong>ç¯å½¢æ•°æ®ç»“æ„</strong>ï¼Œé€šè¿‡æ—¶é—´åˆ†ç‰‡ï¼ˆæ§½ï¼‰ç®¡ç†ä»»åŠ¡ï¼Œä¼˜åŒ–è°ƒåº¦æ•ˆç‡ã€‚</p><p><strong>æ•°æ®ç»“æ„</strong></p><ul><li><strong>ç¯å½¢æ•°ç»„</strong>ï¼šæ¯ä¸ªæ§½ä»£è¡¨ä¸€ä¸ªæ—¶é—´ç‰‡ï¼ˆå¦‚ 1 ç§’ï¼‰ï¼Œå­˜å‚¨åŒå‘é“¾è¡¨ç®¡ç†çš„ä»»åŠ¡ã€‚</li><li><strong>æŒ‡é’ˆç§»åŠ¨</strong>ï¼šä»¥å›ºå®šæ—¶é—´æ­¥é•¿æ¨è¿›ï¼Œè§¦å‘å½“å‰æ§½çš„ä»»åŠ¡æ‰§è¡Œã€‚</li></ul><p><strong>å·¥ä½œåŸç†</strong></p><ul><li><strong>ä»»åŠ¡æ’å…¥</strong>ï¼šæ ¹æ®å»¶è¿Ÿæ—¶é—´è®¡ç®—æ§½ä½ï¼ˆå¦‚ <code>å»¶è¿Ÿ % æ§½æ•°</code>ï¼‰ï¼Œæ’å…¥é“¾è¡¨å°¾éƒ¨ï¼ˆ<code>O(1)</code> å¤æ‚åº¦ï¼‰ã€‚</li><li><strong>ä»»åŠ¡è§¦å‘</strong>ï¼šæŒ‡é’ˆæ¯ç§»åŠ¨ä¸€æ ¼ï¼Œæ‰§è¡Œå¯¹åº”æ§½ä¸­æ‰€æœ‰ä»»åŠ¡ã€‚</li></ul><p><strong>å¤„ç†é•¿å»¶è¿Ÿä»»åŠ¡</strong></p><ul><li><strong>æ–¹æ¡ˆ 1ï¼šè½®æ¬¡ï¼ˆNettyï¼‰</strong>ï¼šè®¡ç®—è½®æ•°ï¼ˆå¦‚ <code>ï¼ˆå»¶è¿Ÿ-1)/æ§½æ•°</code>ï¼‰ï¼Œè½®æ•°å½’é›¶æ—¶è§¦å‘ã€‚</li><li><strong>æ–¹æ¡ˆ 2ï¼šå¤šå±‚æ¬¡æ—¶é—´è½®ï¼ˆKafkaï¼‰</strong><ul><li><strong>å±‚çº§é€’è¿›</strong>ï¼šé«˜å±‚æ§½è¦†ç›–æ›´å¤§æ—¶é—´èŒƒå›´ï¼ˆå¦‚ç§’â†’åˆ†â†’æ—¶ï¼‰ã€‚</li><li><strong>é™çº§æœºåˆ¶</strong>ï¼šä»»åŠ¡éšæ—¶é—´æ¨ç§»ä»é«˜å±‚ç§»è‡³åº•å±‚ï¼Œä¿è¯ç²¾åº¦ã€‚</li></ul></li></ul><p><strong>ä¼˜ç‚¹</strong></p><ul><li><strong>é«˜æ•ˆæ€§</strong>ï¼šæ’å…¥/åˆ é™¤ä»»åŠ¡ O(1) å¤æ‚åº¦ã€‚</li><li><strong>ä½å†…å­˜å¼€é”€</strong>ï¼šå›ºå®šæ§½æ•°ï¼Œå†…å­˜å ç”¨ç¨³å®šã€‚</li></ul><p><strong>åº”ç”¨åœºæ™¯</strong></p><ul><li>é«˜å¹¶å‘å®šæ—¶ä»»åŠ¡ï¼ˆå¦‚ Netty çš„è¶…æ—¶æ£€æµ‹ï¼‰ã€‚</li><li>ç½‘ç»œæœåŠ¡å™¨ï¼ˆè¿æ¥/è¯·æ±‚è¶…æ—¶ç®¡ç†ï¼‰ã€‚</li><li>åˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆèŠ‚ç‚¹é—´ä»»åŠ¡åè°ƒï¼‰ã€‚</li></ul><p><strong>å®é™…åº”ç”¨</strong></p><ul><li><strong>Netty</strong>ï¼š<code>HashedWheelTimer</code>ï¼ˆå•å±‚+è½®æ¬¡ï¼‰ã€‚</li><li><strong>Kafka</strong>ï¼šå¤šå±‚æ¬¡æ—¶é—´è½®+é™çº§ã€‚</li><li><strong>Caffeine Cache</strong>ï¼šæœ¬åœ°ç¼“å­˜çš„ä»»åŠ¡è°ƒåº¦ã€‚</li></ul><h3 id="ã€ä¸­ç­‰ã€‘kafka-çš„ç´¢å¼•è®¾è®¡æœ‰ä»€ä¹ˆäº®ç‚¹-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-çš„ç´¢å¼•è®¾è®¡æœ‰ä»€ä¹ˆäº®ç‚¹-ğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka çš„ç´¢å¼•è®¾è®¡æœ‰ä»€ä¹ˆäº®ç‚¹ï¼ŸğŸŒŸ</h3><p>Kafka çš„ç´¢å¼•è®¾è®¡é€šè¿‡<strong>ç¨€ç–ç´¢å¼• + äºŒåˆ†æŸ¥æ‰¾ + åˆ†æ®µå­˜å‚¨</strong>ï¼Œåœ¨<strong>æŸ¥è¯¢æ•ˆç‡ã€å­˜å‚¨æˆæœ¬ã€æ‰©å±•æ€§</strong>ä¹‹é—´å–å¾—å¹³è¡¡ï¼Œé€‚åˆé«˜ååã€ä½å»¶è¿Ÿçš„æ¶ˆæ¯ç³»ç»Ÿéœ€æ±‚ã€‚</p><p>Kafka çš„ç´¢å¼•è®¾è®¡ï¼ˆä¸»è¦æ¶‰åŠ<strong>åç§»é‡ç´¢å¼•ï¼ˆ.indexï¼‰å’Œæ—¶é—´æˆ³ç´¢å¼•ï¼ˆ.timeindexï¼‰</strong>ï¼‰å…·æœ‰ä»¥ä¸‹æ ¸å¿ƒä¼˜åŠ¿ï¼š</p><p><strong>é«˜æ•ˆæŸ¥è¯¢ï¼ˆO(1) ~ O(logN) å¤æ‚åº¦ï¼‰</strong></p><ul><li><strong>ç¨€ç–ç´¢å¼•</strong>ï¼šä¸å­˜å‚¨æ¯æ¡æ¶ˆæ¯çš„ç´¢å¼•ï¼Œè€Œæ˜¯æŒ‰ä¸€å®šé—´éš”ï¼ˆå¦‚æ¯ 4KB æ•°æ®ï¼‰å»ºç«‹ç´¢å¼•é¡¹ï¼Œå¤§å¹…å‡å°‘ç´¢å¼•æ–‡ä»¶å¤§å°ã€‚</li><li><strong>äºŒåˆ†æŸ¥æ‰¾</strong>ï¼šé€šè¿‡ç´¢å¼•å¿«é€Ÿå®šä½æ¶ˆæ¯æ‰€åœ¨çš„<strong>ç‰©ç†ä½ç½®ï¼ˆç£ç›˜æ–‡ä»¶+åç§»é‡ï¼‰</strong>ï¼Œå‡å°‘å…¨é‡æ‰«æã€‚</li></ul><p><strong>ä½å­˜å‚¨å¼€é”€</strong></p><ul><li><strong>ç´§å‡‘ç»“æ„</strong>ï¼šç´¢å¼•æ–‡ä»¶ä»…å­˜å‚¨<strong>åç§»é‡ + ç‰©ç†ä½ç½®</strong>ï¼ˆå›ºå®š 8 å­—èŠ‚/é¡¹ï¼‰ï¼Œå ç”¨ç©ºé—´æå°ã€‚</li><li><strong>åˆ†æ®µå­˜å‚¨</strong>ï¼šæ¯ä¸ªæ—¥å¿—æ®µï¼ˆSegmentï¼‰ç‹¬ç«‹ç»´æŠ¤ç´¢å¼•ï¼Œé¿å…å•ä¸€å¤§æ–‡ä»¶ç´¢å¼•çš„æ€§èƒ½ç“¶é¢ˆã€‚</li></ul><p><strong>å¿«é€Ÿæ•…éšœæ¢å¤</strong></p><ul><li><strong>å†…å­˜æ˜ å°„ï¼ˆMMAPï¼‰</strong>ï¼šç´¢å¼•æ–‡ä»¶é€šè¿‡å†…å­˜æ˜ å°„åŠ é€Ÿè¯»å–ï¼Œé‡å¯æ—¶æ— éœ€å…¨é‡åŠ è½½ã€‚</li><li><strong>æ‡’åŠ è½½</strong>ï¼šä»…åŠ è½½æ´»è·ƒåˆ†ç‰‡çš„ç´¢å¼•ï¼Œå‡å°‘å¯åŠ¨æ—¶é—´ã€‚</li></ul><p><strong>æ”¯æŒæ—¶é—´èŒƒå›´æŸ¥è¯¢</strong>ï¼š**æ—¶é—´æˆ³ç´¢å¼•ï¼ˆ.timeindexï¼‰**å…è®¸æŒ‰æ—¶é—´æˆ³å¿«é€Ÿå®šä½æ¶ˆæ¯ï¼Œé€‚ç”¨äºæ—¥å¿—å›æº¯ã€ç›‘æ§ç­‰åœºæ™¯ã€‚</p><p><strong>ç´¢å¼•è‡ªåŠ¨æ›´æ–°</strong>ï¼šæ—¥å¿—å‹ç¼©ï¼ˆCompactionï¼‰æˆ–åˆ é™¤ï¼ˆRetentionï¼‰æ—¶ï¼Œç´¢å¼•åŒæ­¥æ¸…ç†ï¼Œé¿å…æ— æ•ˆæŸ¥è¯¢ã€‚</p><h2 id="kafka-äº‹åŠ¡" tabindex="-1"><a class="header-anchor" href="#kafka-äº‹åŠ¡" aria-hidden="true">#</a> Kafka äº‹åŠ¡</h2><h3 id="ã€ä¸­ç­‰ã€‘kafka-æ˜¯å¦æ”¯æŒäº‹åŠ¡-å¦‚ä½•æ”¯æŒäº‹åŠ¡-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€ä¸­ç­‰ã€‘kafka-æ˜¯å¦æ”¯æŒäº‹åŠ¡-å¦‚ä½•æ”¯æŒäº‹åŠ¡-ğŸŒŸ" aria-hidden="true">#</a> ã€ä¸­ç­‰ã€‘Kafka æ˜¯å¦æ”¯æŒäº‹åŠ¡ï¼Ÿå¦‚ä½•æ”¯æŒäº‹åŠ¡ï¼ŸğŸŒŸ</h3><p>Kafka è‡ª 0.11 ç‰ˆæœ¬å¼€å§‹æä¾›äº†å¯¹äº‹åŠ¡çš„æ”¯æŒï¼Œç›®å‰ä¸»è¦æ˜¯åœ¨ read committed éš”ç¦»çº§åˆ«ä¸Šåšäº‹æƒ…ã€‚å®ƒèƒ½<strong>ä¿è¯å¤šæ¡æ¶ˆæ¯åŸå­æ€§åœ°å†™å…¥åˆ°ç›®æ ‡åˆ†åŒºï¼ŒåŒæ—¶ä¹Ÿèƒ½ä¿è¯ Consumer åªèƒ½çœ‹åˆ°äº‹åŠ¡æˆåŠŸæäº¤çš„æ¶ˆæ¯</strong>ã€‚</p><div class="hint-container info"><p class="hint-container-title">exactly once</p></div><p>Kafka äº‹åŠ¡éä¸¥æ ¼æ„ä¹‰çš„äº‹åŠ¡ï¼Œå…¶ä¸»è¦ç›®æ ‡æ˜¯ä¸ºäº†<strong>å®ç° exactly once è¯­ä¹‰</strong>çš„ï¼Œç¡®ä¿æ¶ˆæ¯åœ¨ç”Ÿäº§ã€ä¼ è¾“å’Œæ¶ˆè´¹è¿‡ç¨‹ä¸­ä¸è¢«é‡å¤å¤„ç†æˆ–ä¸¢å¤±ã€‚</p><p>æ¶ˆæ¯å¯é æ€§ä¿éšœï¼Œç”±ä½åˆ°é«˜ä¸ºï¼š</p><ul><li><strong>æœ€å¤šä¸€æ¬¡ï¼ˆat most onceï¼‰</strong>ï¼šæ¶ˆæ¯å¯èƒ½ä¼šä¸¢å¤±ï¼Œä½†ç»ä¸ä¼šè¢«é‡å¤å‘é€ã€‚</li><li><strong>è‡³å°‘ä¸€æ¬¡ï¼ˆat least onceï¼‰</strong>ï¼šæ¶ˆæ¯ä¸ä¼šä¸¢å¤±ï¼Œä½†æœ‰å¯èƒ½è¢«é‡å¤å‘é€ã€‚</li><li><strong>ç²¾ç¡®ä¸€æ¬¡ï¼ˆexactly onceï¼‰</strong>ï¼šæ¶ˆæ¯ä¸ä¼šä¸¢å¤±ï¼Œä¹Ÿä¸ä¼šè¢«é‡å¤å‘é€ã€‚</li></ul><div class="hint-container info"><p class="hint-container-title">Kafka äº‹åŠ¡å®ç°æœºåˆ¶</p></div><ul><li><strong>äº‹åŠ¡åè°ƒå™¨</strong><ul><li>è´Ÿè´£ç®¡ç†äº‹åŠ¡çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸï¼ˆå¯åŠ¨ã€æäº¤ã€ä¸­æ­¢ï¼‰ã€‚</li><li>å°†äº‹åŠ¡çŠ¶æ€æŒä¹…åŒ–åˆ°å†…éƒ¨ä¸»é¢˜ <code>__transaction_state</code> ä¸­ã€‚</li></ul></li><li><strong>å¹‚ç­‰ç”Ÿäº§è€…</strong><ul><li>é€šè¿‡å”¯ä¸€çš„ <code>Producer ID (PID)</code> å’Œ <code>Sequence Number</code> æ¥æ ‡è¯†å’ŒåŒºåˆ†æ¶ˆæ¯ã€‚</li><li>ç¡®ä¿åŒä¸€ç”Ÿäº§è€…å‘é€çš„åŒä¸€æ¶ˆæ¯<strong>åªä¼šè¢« Broker å†™å…¥ä¸€æ¬¡</strong>ï¼Œé¿å…å› é‡è¯•å¯¼è‡´çš„æ¶ˆæ¯é‡å¤ã€‚</li></ul></li><li><strong>äº‹åŠ¡æ€§æ¶ˆè´¹</strong><ul><li>æ¶ˆè´¹è€…å¯é…ç½® <code>isolation.level</code> å‚æ•°ã€‚</li><li>è®¾ç½®ä¸º <code>read_committed</code> æ—¶ï¼Œæ¶ˆè´¹è€…<strong>åªä¼šè¯»å–å·²æäº¤äº‹åŠ¡</strong>çš„æ¶ˆæ¯ï¼Œè¿‡æ»¤æ‰æœªæäº¤ï¼ˆä¸­æ­¢ï¼‰çš„æ¶ˆæ¯ï¼Œä¿è¯æœ€ç»ˆä¸€è‡´æ€§ã€‚</li></ul></li></ul><div class="hint-container info"><p class="hint-container-title">Kafka äº‹åŠ¡å·¥ä½œæµç¨‹</p></div><ul><li><strong>Prepare</strong>: ç”Ÿäº§è€…å‘äº‹åŠ¡åè°ƒå™¨å‘èµ·äº‹åŠ¡ï¼Œè·å–äº‹åŠ¡ IDã€‚ç”Ÿäº§è€…åœ¨äº‹åŠ¡å†…å‘é€æ¶ˆæ¯ï¼Œæ¶ˆæ¯æºå¸¦ PID å’Œåºåˆ—å·ä»¥ä¿è¯å¹‚ç­‰æ€§ã€‚</li><li><strong>Commit/Abort</strong>: ç”Ÿäº§è€…ç»“æŸäº‹åŠ¡ï¼Œå‘åè°ƒå™¨å‘é€æäº¤æˆ–ä¸­æ­¢è¯·æ±‚ã€‚</li><li><strong>Consume</strong>: é…ç½®ä¸º <code>read_committed</code> çš„æ¶ˆè´¹è€…åªæ¶ˆè´¹å·²æäº¤çš„æ¶ˆæ¯ï¼Œå®ç°ç«¯åˆ°ç«¯çš„ä¸€è‡´æ€§ã€‚</li></ul><p><strong>æ€»ç»“</strong>ï¼šKafka é€šè¿‡<strong>äº‹åŠ¡åè°ƒå™¨ã€å¹‚ç­‰ç”Ÿäº§è€…å’Œäº‹åŠ¡æ€§æ¶ˆè´¹</strong>ä¸‰è€…ååŒï¼Œåœ¨æ¶ˆæ¯ç³»ç»Ÿå†…éƒ¨å®ç°äº†ç”Ÿäº§ç«¯çš„ç²¾ç¡®ä¸€æ¬¡å‘é€å’Œæ¶ˆè´¹ç«¯çš„äº‹åŠ¡éš”ç¦»ï¼Œä»è€Œè¾¾æˆäº† Exactly-Once è¯­ä¹‰ã€‚</p><h3 id="ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°-exactly-once-è¯­ä¹‰-ğŸŒŸğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-å¦‚ä½•å®ç°-exactly-once-è¯­ä¹‰-ğŸŒŸğŸŒŸ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka å¦‚ä½•å®ç° Exactly Once è¯­ä¹‰ï¼ŸğŸŒŸğŸŒŸ</h3><p>Kafka é€šè¿‡<code>å¹‚ç­‰ç”Ÿäº§</code>+<code>äº‹åŠ¡</code>+<code>ç²¾å‡† offset æ§åˆ¶</code>ï¼Œåœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹å®ç°<strong>ç«¯åˆ°ç«¯ Exactly Once</strong>ï¼Œé€‚ç”¨äºé‡‘èã€è®¡è´¹ç­‰å¼ºä¸€è‡´æ€§åœºæ™¯ã€‚</p><p><strong>æ ¸å¿ƒæœºåˆ¶</strong></p><ul><li><strong>å¹‚ç­‰ç”Ÿäº§è€…</strong><ul><li>é€šè¿‡å”¯ä¸€<code>Producer ID</code>å’Œæ¶ˆæ¯<code>åºåˆ—å·</code>å®ç°å»é‡</li><li>ç¡®ä¿å•æ¡æ¶ˆæ¯<strong>ä¸é‡å¤</strong>ï¼ˆç½‘ç»œé‡è¯•åœºæ™¯ï¼‰</li></ul></li><li><strong>äº‹åŠ¡ç”Ÿäº§è€…</strong><ul><li>æä¾›è·¨åˆ†åŒºçš„åŸå­æ“ä½œï¼ˆ<code>commitTransaction</code>/<code>abortTransaction</code>ï¼‰</li><li>ä¿è¯ä¸€ç»„æ¶ˆæ¯<strong>å…¨æˆåŠŸæˆ–å…¨å¤±è´¥</strong></li></ul></li><li><strong>æ¶ˆè´¹ç«¯å»é‡</strong><ul><li>åŸºäº<code>offset</code>ç®¡ç† + æ¶ˆè´¹è€…ç»„æœºåˆ¶</li><li>é¿å…æ¶ˆæ¯è¢«é‡å¤å¤„ç†</li></ul></li></ul><p><strong>å¼‚å¸¸å¤„ç†</strong></p><table><thead><tr><th><strong>æ–¹æ³•</strong></th><th><strong>ä½œç”¨</strong></th><th><strong>åœºæ™¯ç¤ºä¾‹</strong></th></tr></thead><tbody><tr><td>äº‹åŠ¡å›æ»š</td><td>æ’¤é”€æœªå®Œæˆçš„æ“ä½œï¼Œä¿æŒåŸå­æ€§</td><td>ç”Ÿäº§è€…å†™å…¥éƒ¨åˆ†åˆ†åŒºå¤±è´¥æ—¶</td></tr><tr><td>è‡ªåŠ¨é‡è¯•</td><td>åº”å¯¹ä¸´æ—¶æ€§æ•…éšœï¼ˆå¦‚ç½‘ç»œæŠ–åŠ¨ï¼‰</td><td>Broker çŸ­æš‚ä¸å¯ç”¨</td></tr><tr><td>å¹‚ç­‰æ¶ˆè´¹</td><td>é€šè¿‡ä¸šåŠ¡ ID æˆ–çŠ¶æ€è®°å½•é¿å…é‡å¤å¤„ç†</td><td>æ¶ˆè´¹è€…é‡å¯åé‡å¤æ‹‰å–æ¶ˆæ¯</td></tr></tbody></table><p><strong>å…³é”®æ‰©å±•</strong></p><ul><li><strong>CAP æƒè¡¡</strong>ï¼šKafka ä¼˜å…ˆä¿è¯<strong>é«˜å¯ç”¨</strong>å’Œ<strong>åˆ†åŒºå®¹é”™</strong>ï¼ˆAPï¼‰ï¼Œé€šè¿‡äº‹åŠ¡è¡¥å……ä¸€è‡´æ€§</li><li><strong>Kafka Streams</strong>ï¼šåˆ©ç”¨çŠ¶æ€å­˜å‚¨å’Œæ£€æŸ¥ç‚¹æœºåˆ¶å®ç°æµå¤„ç† Exactly Once</li><li><strong>æ¶ˆè´¹è€…ç»„</strong>ï¼š<code>enable.auto.commit=false</code>æ—¶éœ€æ‰‹åŠ¨æäº¤ offset ä»¥ç²¾å‡†æ§åˆ¶æ¶ˆè´¹</li></ul><h2 id="kafka-stream" tabindex="-1"><a class="header-anchor" href="#kafka-stream" aria-hidden="true">#</a> Kafka Stream</h2><h3 id="ã€å›°éš¾ã€‘kafka-ä¸-flink-çš„é›†æˆæ˜¯å¦‚ä½•å®ç°çš„-å¦‚ä½•ä¼˜åŒ–-flink-ä¸-kafka-ä¹‹é—´çš„æ•°æ®æµåŠ¨" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-ä¸-flink-çš„é›†æˆæ˜¯å¦‚ä½•å®ç°çš„-å¦‚ä½•ä¼˜åŒ–-flink-ä¸-kafka-ä¹‹é—´çš„æ•°æ®æµåŠ¨" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka ä¸ Flink çš„é›†æˆæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿå¦‚ä½•ä¼˜åŒ– Flink ä¸ Kafka ä¹‹é—´çš„æ•°æ®æµåŠ¨ï¼Ÿ</h3><p>å®ç° <strong>é«˜ååã€ä½å»¶è¿Ÿã€å¼ºä¸€è‡´æ€§</strong> çš„æµå¼æ•°æ®å¤„ç†ç®¡é“ã€‚</p><p><strong>åŸºç¡€é›†æˆæ­¥éª¤</strong></p><ul><li><strong>æ·»åŠ ä¾èµ–</strong>ï¼šå¼•å…¥ <code>flink-connector-kafka</code>ï¼ˆåŒ¹é… Kafka ç‰ˆæœ¬ï¼‰ã€‚</li><li><strong>é…ç½® Source</strong>ï¼šé€šè¿‡ <code>FlinkKafkaConsumer</code> è®¢é˜… Kafka Topicã€‚</li><li><strong>é…ç½® Sink</strong>ï¼šé€šè¿‡ <code>FlinkKafkaProducer</code> å†™å…¥ç»“æœåˆ° Kafkaã€‚</li><li><strong>è®¾è®¡ä½œä¸š</strong>ï¼šåœ¨ Flink ä¸­å®ç°æ•°æ®å¤„ç†é€»è¾‘ï¼ˆè¿‡æ»¤/è½¬æ¢/èšåˆï¼‰ã€‚</li></ul><p><strong>æ€§èƒ½ä¼˜åŒ–æ–¹å‘</strong></p><table><thead><tr><th><strong>ä¼˜åŒ–é¡¹</strong></th><th><strong>å…³é”®æªæ–½</strong></th></tr></thead><tbody><tr><td><strong>å‚æ•°è°ƒä¼˜</strong></td><td>- è°ƒæ•´ <code>batch.size</code>/<code>linger.ms</code>ï¼ˆç”Ÿäº§è€…ï¼‰<br>- è®¾ç½®åˆç†å¹¶è¡Œåº¦ï¼ˆFlink ä»»åŠ¡ï¼‰</td></tr><tr><td><strong>èµ„æºåˆ†é…</strong></td><td>- å¹³è¡¡ Flink TaskManager çš„ CPU/å†…å­˜<br>- ç¡®ä¿ Kafka Broker å¸¦å®½å……è¶³</td></tr><tr><td><strong>å®¹é”™æœºåˆ¶</strong></td><td>- å¯ç”¨ Flink Checkpointingï¼ˆç²¾ç¡®ä¸€æ¬¡è¯­ä¹‰ï¼‰<br>- é…ç½® Kafka å¹‚ç­‰æ€§/äº‹åŠ¡</td></tr><tr><td><strong>æ•°æ®å‹ç¼©</strong></td><td>é€‰ç”¨é«˜æ•ˆå‹ç¼©ç®—æ³•ï¼ˆå¦‚ <code>lz4</code>/<code>snappy</code>ï¼‰ï¼Œå‡å°‘ç½‘ç»œä¼ è¾“å‹åŠ›</td></tr></tbody></table><p><strong>å…³é”®ä»£ç ç¤ºä¾‹</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// Kafka Source</span>
<span class="token class-name">Properties</span> props <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
props<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;bootstrap.servers&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;kafka:9092&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
props<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;group.id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;flink-group&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">FlinkKafkaConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FlinkKafkaConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token string">&quot;input-topic&quot;</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">SimpleStringSchema</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    props
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Kafka Sink</span>
<span class="token class-name">FlinkKafkaProducer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sink <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FlinkKafkaProducer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token string">&quot;output-topic&quot;</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">SimpleStringSchema</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    props
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ä½œä¸šæµç¨‹</span>
env<span class="token punctuation">.</span><span class="token function">addSource</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>  <span class="token comment">// æ•°æ®å¤„ç†</span>
   <span class="token punctuation">.</span><span class="token function">addSink</span><span class="token punctuation">(</span>sink<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é«˜çº§ç‰¹æ€§</strong></p><ul><li><strong>åŠ¨æ€å‘ç°åˆ†åŒº</strong>ï¼š<code>setStartFromLatest()</code>/<code>setStartFromEarliest()</code>ã€‚</li><li><strong>æ°´ä½çº¿ç”Ÿæˆ</strong>ï¼šç»“åˆ <code>assignTimestampsAndWatermarks</code> å¤„ç†äº‹ä»¶æ—¶é—´ã€‚</li><li><strong>Exactly-Once ä¿éšœ</strong>ï¼šå¯ç”¨ Kafka äº‹åŠ¡ï¼ˆéœ€é…ç½® <code>transaction.timeout.ms</code>ï¼‰ã€‚</li></ul><h3 id="ã€å›°éš¾ã€‘kafka-çš„-stream-å’Œ-table-æ˜¯å¦‚ä½•ç›¸äº’è½¬æ¢çš„-å®ƒä»¬åœ¨-kafka-streams-ä¸­çš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#ã€å›°éš¾ã€‘kafka-çš„-stream-å’Œ-table-æ˜¯å¦‚ä½•ç›¸äº’è½¬æ¢çš„-å®ƒä»¬åœ¨-kafka-streams-ä¸­çš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> ã€å›°éš¾ã€‘Kafka çš„ Stream å’Œ Table æ˜¯å¦‚ä½•ç›¸äº’è½¬æ¢çš„ï¼Ÿå®ƒä»¬åœ¨ Kafka Streams ä¸­çš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>é€šè¿‡ <strong>æµè¡¨è½¬æ¢ + çŠ¶æ€ç®¡ç†</strong>ï¼Œå®ç°å®æ—¶è®¡ç®—ä¸çŠ¶æ€ç»´æŠ¤çš„ç»Ÿä¸€å¤„ç†ã€‚</p><p><strong>æ ¸å¿ƒæ¦‚å¿µå¯¹æ¯”</strong></p><table><thead><tr><th><strong>æŠ½è±¡ç±»å‹</strong></th><th><strong>ç‰¹ç‚¹</strong></th><th><strong>é€‚ç”¨åœºæ™¯</strong></th></tr></thead><tbody><tr><td><strong>Stream</strong></td><td>æ— ç•Œã€æœ‰åºçš„é”®å€¼è®°å½•æµï¼ˆäº‹ä»¶æ—¥å¿—ï¼‰</td><td>å®æ—¶åˆ†æã€äº‹ä»¶ç›‘æ§ï¼ˆå¦‚ç‚¹å‡»æµã€äº¤æ˜“è®°å½•ï¼‰</td></tr><tr><td><strong>Table</strong></td><td>æœ‰çŠ¶æ€çš„é”®å€¼å¿«ç…§ï¼ˆå½“å‰æ•°æ®è§†å›¾ï¼‰</td><td>çŠ¶æ€ç»´æŠ¤ï¼ˆå¦‚ç”¨æˆ·é…ç½®ã€åº“å­˜æ•°é‡ï¼‰</td></tr></tbody></table><p><strong>ç›¸äº’è½¬æ¢æ“ä½œ</strong></p><p><strong>(1) Stream â†’ Table</strong></p><p>é€šè¿‡ <strong>èšåˆæ“ä½œ</strong> å°†åŠ¨æ€æµè½¬æ¢ä¸ºçŠ¶æ€è¡¨ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">KStream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> stream <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token string">&quot;input-topic&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æŒ‰ Key åˆ†ç»„å¹¶ç´¯åŠ å€¼</span>
<span class="token class-name">KTable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> table <span class="token operator">=</span> stream
    <span class="token punctuation">.</span><span class="token function">groupByKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">aggregate</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token number">0L</span><span class="token punctuation">,</span>  <span class="token comment">// åˆå§‹å€¼</span>
        <span class="token punctuation">(</span>key<span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> agg<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> agg <span class="token operator">+</span> newValue<span class="token punctuation">,</span>  <span class="token comment">// ç´¯åŠ é€»è¾‘</span>
        <span class="token class-name">Materialized</span><span class="token punctuation">.</span><span class="token function">as</span><span class="token punctuation">(</span><span class="token string">&quot;count-store&quot;</span><span class="token punctuation">)</span>  <span class="token comment">// çŠ¶æ€å­˜å‚¨</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>(2) Table â†’ Stream</strong></p><p>é€šè¿‡ <strong>toStream()</strong> å°†è¡¨å˜æ›´ä½œä¸ºæµè¾“å‡ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">KTable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> table <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">&quot;input-topic&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">KStream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> stream <span class="token operator">=</span> table<span class="token punctuation">.</span><span class="token function">toStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¾“å‡ºè¡¨çš„æ›´æ–°äº‹ä»¶</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å…¸å‹åº”ç”¨åœºæ™¯</strong></p><ul><li><strong>ç”µå•†å®æ—¶ç»Ÿè®¡</strong><ul><li><strong>Stream</strong>ï¼šå¤„ç†ç”¨æˆ·è®¢å•äº‹ä»¶ï¼ˆå¦‚ <code>order-created</code>ï¼‰ã€‚</li><li><strong>Table</strong>ï¼šç»´æŠ¤ç”¨æˆ·æ€»è®¢å•æ•°ï¼ˆ<code>user_id â†’ total_orders</code>ï¼‰ã€‚</li></ul></li><li><strong>è§†é¢‘æ’­æ”¾åˆ†æ</strong><ul><li><strong>Stream</strong>ï¼šæ¥æ”¶è§†é¢‘ç‚¹å‡»äº‹ä»¶ï¼ˆ<code>video_id, timestamp</code>ï¼‰ã€‚</li><li><strong>Table</strong>ï¼šå­˜å‚¨å½“å‰è§†é¢‘æ’­æ”¾é‡ï¼ˆ<code>video_id â†’ play_count</code>ï¼‰ã€‚</li></ul></li></ul><p><strong>å…³é”®è®¾è®¡æ€æƒ³</strong></p><ul><li><strong>æµè¡¨äºŒå…ƒæ€§</strong>ï¼š <ul><li>Stream æ˜¯ Table çš„å˜æ›´æ—¥å¿—ï¼ˆChangelogï¼‰ã€‚</li><li>Table æ˜¯ Stream çš„ç‰©åŒ–è§†å›¾ï¼ˆMaterialized Viewï¼‰ã€‚</li></ul></li><li><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šTable ä¾èµ– <strong>RocksDB çŠ¶æ€å­˜å‚¨</strong>ï¼Œæ”¯æŒå®¹é”™ä¸é«˜æ•ˆæŸ¥è¯¢ã€‚</li></ul><h2 id="å‚è€ƒèµ„æ–™" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒèµ„æ–™" aria-hidden="true">#</a> å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://xie.infoq.cn/article/49bc80d683c373db93d017a99" target="_blank" rel="noopener noreferrer">èŠèŠ Kafkaï¼š Kafka ä¸ºå•¥è¿™ä¹ˆå¿«ï¼Ÿ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/dunwu/waterdrop/edit/main/docs/15.åˆ†å¸ƒå¼/åˆ†å¸ƒå¼é€šä¿¡/MQ/Kafka/Kafka_é¢è¯•.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: forbreak@163.com">dunwu</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="vp-link nav-link prev" href="/waterdrop/pages/da944418/"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:kafka-icon" width="1em" height="1em"></iconify-icon>Kafka é›†ç¾¤</div></a><!----></nav><div id="comment" class="waline-wrapper" darkmode="false" style="display:block;"><div data-waline provider="Waline"><!--v-if--><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item3"><!--[--><div class="wl-header-item"><label for="wl-nick">æ˜µç§°</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><div class="wl-header-item"><label for="wl-mail">é‚®ç®±</label><input id="wl-mail" class="wl-input wl-mail" name="mail" type="email" value></div><div class="wl-header-item"><label for="wl-link">ç½‘å€</label><input id="wl-link" class="wl-input wl-link" name="link" type="text" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="è¯·ç•™è¨€ã€‚(å¡«å†™é‚®ç®±å¯åœ¨è¢«å›å¤æ—¶æ”¶åˆ°é‚®ä»¶æé†’)"></textarea><div class="wl-preview" style="display:none;"><hr><h4>é¢„è§ˆ:</h4><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" ariaHidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button type="button" class="wl-action" title="è¡¨æƒ…" style="display:none;"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button type="button" class="wl-action" title="è¡¨æƒ…åŒ…"><svg width="24" height="24" fill="currentcolor" viewBox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="ä¸Šä¼ å›¾ç‰‡"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button type="button" class="wl-action" title="é¢„è§ˆ"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-captcha-container"></div><div class="wl-text-number">0 <!--v-if--> Â å­—</div><button type="button" class="wl-btn">ç™»å½•</button><button type="submit" class="primary wl-btn" title="Cmd|Ctrl + Enter"><!--[-->æäº¤<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="æœç´¢è¡¨æƒ…åŒ…"><!--v-if--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-meta-head"><div class="wl-count"><!--v-if--> è¯„è®º</div><ul class="wl-sort"><!--[--><li class="active">æŒ‰æ­£åº</li><li class="">æŒ‰å€’åº</li><li class="">æŒ‰çƒ­åº¦</li><!--]--></ul></div><div class="wl-cards"><!--[--><!--]--></div><!--[--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div><!--]--><div class="wl-power"> Powered by <a href="https://github.com/walinejs/waline" target="_blank" rel="noopener noreferrer"> Waline </a> v2.15.7</div></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">Copyright Â© 2025 é’æ‚Ÿ</div></footer></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/waterdrop/assets/app-c5b0c3d9.js" defer></script>
  </body>
</html>
